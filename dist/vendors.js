/*! For license information please see vendors.js.LICENSE.txt */
(window.webpackJsonpPOLY=window.webpackJsonpPOLY||[]).push([[3],{1e3:function(t,e){String.prototype.codePointAt||function(){"use strict";var t=function(){try{var t={},e=Object.defineProperty,n=e(t,t,t)&&e}catch(t){}return n}(),e=function(t){if(null==this)throw TypeError();var e=String(this),n=e.length,r=t?Number(t):0;if(r!=r&&(r=0),!(r<0||r>=n)){var o,i=e.charCodeAt(r);return i>=55296&&i<=56319&&n>r+1&&(o=e.charCodeAt(r+1))>=56320&&o<=57343?1024*(i-55296)+o-56320+65536:i}};t?t(String.prototype,"codePointAt",{value:e,configurable:!0,writable:!0}):String.prototype.codePointAt=e}()},1009:function(t,e,n){"use strict";n.r(e),n.d(e,"Font",(function(){return tr})),n.d(e,"Glyph",(function(){return et})),n.d(e,"Path",(function(){return c})),n.d(e,"BoundingBox",(function(){return s})),n.d(e,"_parse",(function(){return G})),n.d(e,"parse",(function(){return gr})),n.d(e,"load",(function(){return yr})),n.d(e,"loadSync",(function(){return vr}));n(1e3);var r=n(413),o=n.n(r);function i(t,e,n,r,o){return Math.pow(1-o,3)*t+3*Math.pow(1-o,2)*o*e+3*(1-o)*Math.pow(o,2)*n+Math.pow(o,3)*r}function a(){this.x1=Number.NaN,this.y1=Number.NaN,this.x2=Number.NaN,this.y2=Number.NaN}a.prototype.isEmpty=function(){return isNaN(this.x1)||isNaN(this.y1)||isNaN(this.x2)||isNaN(this.y2)},a.prototype.addPoint=function(t,e){"number"==typeof t&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=t,this.x2=t),t<this.x1&&(this.x1=t),t>this.x2&&(this.x2=t)),"number"==typeof e&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=e,this.y2=e),e<this.y1&&(this.y1=e),e>this.y2&&(this.y2=e))},a.prototype.addX=function(t){this.addPoint(t,null)},a.prototype.addY=function(t){this.addPoint(null,t)},a.prototype.addBezier=function(t,e,n,r,o,a,s,u){const c=[t,e],f=[n,r],l=[o,a],p=[s,u];this.addPoint(t,e),this.addPoint(s,u);for(let t=0;t<=1;t++){const e=6*c[t]-12*f[t]+6*l[t],n=-3*c[t]+9*f[t]-9*l[t]+3*p[t],r=3*f[t]-3*c[t];if(0===n){if(0===e)continue;const n=-r/e;0<n&&n<1&&(0===t&&this.addX(i(c[t],f[t],l[t],p[t],n)),1===t&&this.addY(i(c[t],f[t],l[t],p[t],n)));continue}const o=Math.pow(e,2)-4*r*n;if(o<0)continue;const a=(-e+Math.sqrt(o))/(2*n);0<a&&a<1&&(0===t&&this.addX(i(c[t],f[t],l[t],p[t],a)),1===t&&this.addY(i(c[t],f[t],l[t],p[t],a)));const s=(-e-Math.sqrt(o))/(2*n);0<s&&s<1&&(0===t&&this.addX(i(c[t],f[t],l[t],p[t],s)),1===t&&this.addY(i(c[t],f[t],l[t],p[t],s)))}},a.prototype.addQuad=function(t,e,n,r,o,i){const a=t+2/3*(n-t),s=e+2/3*(r-e),u=a+1/3*(o-t),c=s+1/3*(i-e);this.addBezier(t,e,a,s,u,c,o,i)};var s=a;function u(){this.commands=[],this.fill="black",this.stroke=null,this.strokeWidth=1}u.prototype.moveTo=function(t,e){this.commands.push({type:"M",x:t,y:e})},u.prototype.lineTo=function(t,e){this.commands.push({type:"L",x:t,y:e})},u.prototype.curveTo=u.prototype.bezierCurveTo=function(t,e,n,r,o,i){this.commands.push({type:"C",x1:t,y1:e,x2:n,y2:r,x:o,y:i})},u.prototype.quadTo=u.prototype.quadraticCurveTo=function(t,e,n,r){this.commands.push({type:"Q",x1:t,y1:e,x:n,y:r})},u.prototype.close=u.prototype.closePath=function(){this.commands.push({type:"Z"})},u.prototype.extend=function(t){if(t.commands)t=t.commands;else if(t instanceof s){const e=t;return this.moveTo(e.x1,e.y1),this.lineTo(e.x2,e.y1),this.lineTo(e.x2,e.y2),this.lineTo(e.x1,e.y2),void this.close()}Array.prototype.push.apply(this.commands,t)},u.prototype.getBoundingBox=function(){const t=new s;let e=0,n=0,r=0,o=0;for(let i=0;i<this.commands.length;i++){const a=this.commands[i];switch(a.type){case"M":t.addPoint(a.x,a.y),e=r=a.x,n=o=a.y;break;case"L":t.addPoint(a.x,a.y),r=a.x,o=a.y;break;case"Q":t.addQuad(r,o,a.x1,a.y1,a.x,a.y),r=a.x,o=a.y;break;case"C":t.addBezier(r,o,a.x1,a.y1,a.x2,a.y2,a.x,a.y),r=a.x,o=a.y;break;case"Z":r=e,o=n;break;default:throw new Error("Unexpected path command "+a.type)}}return t.isEmpty()&&t.addPoint(0,0),t},u.prototype.draw=function(t){t.beginPath();for(let e=0;e<this.commands.length;e+=1){const n=this.commands[e];"M"===n.type?t.moveTo(n.x,n.y):"L"===n.type?t.lineTo(n.x,n.y):"C"===n.type?t.bezierCurveTo(n.x1,n.y1,n.x2,n.y2,n.x,n.y):"Q"===n.type?t.quadraticCurveTo(n.x1,n.y1,n.x,n.y):"Z"===n.type&&t.closePath()}this.fill&&(t.fillStyle=this.fill,t.fill()),this.stroke&&(t.strokeStyle=this.stroke,t.lineWidth=this.strokeWidth,t.stroke())},u.prototype.toPathData=function(t){function e(e){return Math.round(e)===e?""+Math.round(e):e.toFixed(t)}function n(){let t="";for(let n=0;n<arguments.length;n+=1){const r=arguments[n];r>=0&&n>0&&(t+=" "),t+=e(r)}return t}t=void 0!==t?t:2;let r="";for(let t=0;t<this.commands.length;t+=1){const e=this.commands[t];"M"===e.type?r+="M"+n(e.x,e.y):"L"===e.type?r+="L"+n(e.x,e.y):"C"===e.type?r+="C"+n(e.x1,e.y1,e.x2,e.y2,e.x,e.y):"Q"===e.type?r+="Q"+n(e.x1,e.y1,e.x,e.y):"Z"===e.type&&(r+="Z")}return r},u.prototype.toSVG=function(t){let e='<path d="';return e+=this.toPathData(t),e+='"',this.fill&&"black"!==this.fill&&(null===this.fill?e+=' fill="none"':e+=' fill="'+this.fill+'"'),this.stroke&&(e+=' stroke="'+this.stroke+'" stroke-width="'+this.strokeWidth+'"'),e+="/>",e},u.prototype.toDOMElement=function(t){const e=this.toPathData(t),n=document.createElementNS("http://www.w3.org/2000/svg","path");return n.setAttribute("d",e),n};var c=u;function f(t){throw new Error(t)}function l(t,e){t||f(e)}var p={fail:f,argument:l,assert:l};const h={},d={},m={};function g(t){return function(){return t}}d.BYTE=function(t){return p.argument(t>=0&&t<=255,"Byte value should be between 0 and 255."),[t]},m.BYTE=g(1),d.CHAR=function(t){return[t.charCodeAt(0)]},m.CHAR=g(1),d.CHARARRAY=function(t){const e=[];for(let n=0;n<t.length;n+=1)e[n]=t.charCodeAt(n);return e},m.CHARARRAY=function(t){return t.length},d.USHORT=function(t){return[t>>8&255,255&t]},m.USHORT=g(2),d.SHORT=function(t){return t>=32768&&(t=-(65536-t)),[t>>8&255,255&t]},m.SHORT=g(2),d.UINT24=function(t){return[t>>16&255,t>>8&255,255&t]},m.UINT24=g(3),d.ULONG=function(t){return[t>>24&255,t>>16&255,t>>8&255,255&t]},m.ULONG=g(4),d.LONG=function(t){return t>=2147483648&&(t=-(4294967296-t)),[t>>24&255,t>>16&255,t>>8&255,255&t]},m.LONG=g(4),d.FIXED=d.ULONG,m.FIXED=m.ULONG,d.FWORD=d.SHORT,m.FWORD=m.SHORT,d.UFWORD=d.USHORT,m.UFWORD=m.USHORT,d.LONGDATETIME=function(t){return[0,0,0,0,t>>24&255,t>>16&255,t>>8&255,255&t]},m.LONGDATETIME=g(8),d.TAG=function(t){return p.argument(4===t.length,"Tag should be exactly 4 ASCII characters."),[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3)]},m.TAG=g(4),d.Card8=d.BYTE,m.Card8=m.BYTE,d.Card16=d.USHORT,m.Card16=m.USHORT,d.OffSize=d.BYTE,m.OffSize=m.BYTE,d.SID=d.USHORT,m.SID=m.USHORT,d.NUMBER=function(t){return t>=-107&&t<=107?[t+139]:t>=108&&t<=1131?[247+((t-=108)>>8),255&t]:t>=-1131&&t<=-108?[251+((t=-t-108)>>8),255&t]:t>=-32768&&t<=32767?d.NUMBER16(t):d.NUMBER32(t)},m.NUMBER=function(t){return d.NUMBER(t).length},d.NUMBER16=function(t){return[28,t>>8&255,255&t]},m.NUMBER16=g(3),d.NUMBER32=function(t){return[29,t>>24&255,t>>16&255,t>>8&255,255&t]},m.NUMBER32=g(5),d.REAL=function(t){let e=t.toString();const n=/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/.exec(e);if(n){const r=parseFloat("1e"+((n[2]?+n[2]:0)+n[1].length));e=(Math.round(t*r)/r).toString()}let r="";for(let t=0,n=e.length;t<n;t+=1){const n=e[t];r+="e"===n?"-"===e[++t]?"c":"b":"."===n?"a":"-"===n?"e":n}r+=1&r.length?"f":"ff";const o=[30];for(let t=0,e=r.length;t<e;t+=2)o.push(parseInt(r.substr(t,2),16));return o},m.REAL=function(t){return d.REAL(t).length},d.NAME=d.CHARARRAY,m.NAME=m.CHARARRAY,d.STRING=d.CHARARRAY,m.STRING=m.CHARARRAY,h.UTF8=function(t,e,n){const r=[],o=n;for(let n=0;n<o;n++,e+=1)r[n]=t.getUint8(e);return String.fromCharCode.apply(null,r)},h.UTF16=function(t,e,n){const r=[],o=n/2;for(let n=0;n<o;n++,e+=2)r[n]=t.getUint16(e);return String.fromCharCode.apply(null,r)},d.UTF16=function(t){const e=[];for(let n=0;n<t.length;n+=1){const r=t.charCodeAt(n);e[e.length]=r>>8&255,e[e.length]=255&r}return e},m.UTF16=function(t){return 2*t.length};const y={"x-mac-croatian":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®Š™´¨≠ŽØ∞±≤≥∆µ∂∑∏š∫ªºΩžø¿¡¬√ƒ≈Ć«Č… ÀÃÕŒœĐ—“”‘’÷◊©⁄€‹›Æ»–·‚„‰ÂćÁčÈÍÎÏÌÓÔđÒÚÛÙıˆ˜¯πË˚¸Êæˇ","x-mac-cyrillic":"АБВГДЕЖЗИЙКЛМНОПРСТУФХЦЧШЩЪЫЬЭЮЯ†°Ґ£§•¶І®©™Ђђ≠Ѓѓ∞±≤≥іµґЈЄєЇїЉљЊњјЅ¬√ƒ≈∆«»… ЋћЌќѕ–—“”‘’÷„ЎўЏџ№Ёёяабвгдежзийклмнопрстуфхцчшщъыьэю","x-mac-gaelic":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ÆØḂ±≤≥ḃĊċḊḋḞḟĠġṀæøṁṖṗɼƒſṠ«»… ÀÃÕŒœ–—“”‘’ṡẛÿŸṪ€‹›Ŷŷṫ·Ỳỳ⁊ÂÊÁËÈÍÎÏÌÓÔ♣ÒÚÛÙıÝýŴŵẄẅẀẁẂẃ","x-mac-greek":"Ä¹²É³ÖÜ΅àâä΄¨çéèêë£™îï•½‰ôö¦€ùûü†ΓΔΘΛΞΠß®©ΣΪ§≠°·Α±≤≥¥ΒΕΖΗΙΚΜΦΫΨΩάΝ¬ΟΡ≈Τ«»… ΥΧΆΈœ–―“”‘’÷ΉΊΌΎέήίόΏύαβψδεφγηιξκλμνοπώρστθωςχυζϊϋΐΰ­","x-mac-icelandic":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûüÝ°¢£§•¶ß®©™´¨≠ÆØ∞±≤≥¥µ∂∑∏π∫ªºΩæø¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸ⁄€ÐðÞþý·‚„‰ÂÊÁËÈÍÎÏÌÓÔÒÚÛÙıˆ˜¯˘˙˚¸˝˛ˇ","x-mac-inuit":"ᐃᐄᐅᐆᐊᐋᐱᐲᐳᐴᐸᐹᑉᑎᑏᑐᑑᑕᑖᑦᑭᑮᑯᑰᑲᑳᒃᒋᒌᒍᒎᒐᒑ°ᒡᒥᒦ•¶ᒧ®©™ᒨᒪᒫᒻᓂᓃᓄᓅᓇᓈᓐᓯᓰᓱᓲᓴᓵᔅᓕᓖᓗᓘᓚᓛᓪᔨᔩᔪᔫᔭ… ᔮᔾᕕᕖᕗ–—“”‘’ᕘᕙᕚᕝᕆᕇᕈᕉᕋᕌᕐᕿᖀᖁᖂᖃᖄᖅᖏᖐᖑᖒᖓᖔᖕᙱᙲᙳᙴᙵᙶᖖᖠᖡᖢᖣᖤᖥᖦᕼŁł","x-mac-ce":"ÄĀāÉĄÖÜáąČäčĆćéŹźĎíďĒēĖóėôöõúĚěü†°Ę£§•¶ß®©™ę¨≠ģĮįĪ≤≥īĶ∂∑łĻļĽľĹĺŅņŃ¬√ńŇ∆«»… ňŐÕőŌ–—“”‘’÷◊ōŔŕŘ‹›řŖŗŠ‚„šŚśÁŤťÍŽžŪÓÔūŮÚůŰűŲųÝýķŻŁżĢˇ",macintosh:"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ÆØ∞±≤≥¥µ∂∑∏π∫ªºΩæø¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸ⁄€‹›ﬁﬂ‡·‚„‰ÂÊÁËÈÍÎÏÌÓÔÒÚÛÙıˆ˜¯˘˙˚¸˝˛ˇ","x-mac-romanian":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ĂȘ∞±≤≥¥µ∂∑∏π∫ªºΩăș¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸ⁄€‹›Țț‡·‚„‰ÂÊÁËÈÍÎÏÌÓÔÒÚÛÙıˆ˜¯˘˙˚¸˝˛ˇ","x-mac-turkish":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ÆØ∞±≤≥¥µ∂∑∏π∫ªºΩæø¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸĞğİıŞş‡·‚„‰ÂÊÁËÈÍÎÏÌÓÔÒÚÛÙˆ˜¯˘˙˚¸˝˛ˇ"};h.MACSTRING=function(t,e,n,r){const o=y[r];if(void 0===o)return;let i="";for(let r=0;r<n;r++){const n=t.getUint8(e+r);i+=n<=127?String.fromCharCode(n):o[127&n]}return i};const v="function"==typeof WeakMap&&new WeakMap;let b;function x(t){return t>=-128&&t<=127}function w(t,e,n){let r=0;const o=t.length;for(;e<o&&r<64&&0===t[e];)++e,++r;return n.push(128|r-1),e}function S(t,e,n){let r=0;const o=t.length;let i=e;for(;i<o&&r<64;){const e=t[i];if(!x(e))break;if(0===e&&i+1<o&&0===t[i+1])break;++i,++r}n.push(r-1);for(let r=e;r<i;++r)n.push(t[r]+256&255);return i}function M(t,e,n){let r=0;const o=t.length;let i=e;for(;i<o&&r<64;){const e=t[i];if(0===e)break;if(x(e)&&i+1<o&&x(t[i+1]))break;++i,++r}n.push(64|r-1);for(let r=e;r<i;++r){const e=t[r];n.push(e+65536>>8&255,e+256&255)}return i}d.MACSTRING=function(t,e){const n=function(t){if(!b){b={};for(let t in y)b[t]=new String(t)}const e=b[t];if(void 0===e)return;if(v){const t=v.get(e);if(void 0!==t)return t}const n=y[t];if(void 0===n)return;const r={};for(let t=0;t<n.length;t++)r[n.charCodeAt(t)]=t+128;return v&&v.set(e,r),r}(e);if(void 0===n)return;const r=[];for(let e=0;e<t.length;e++){let o=t.charCodeAt(e);if(o>=128&&(o=n[o],void 0===o))return;r[e]=o}return r},m.MACSTRING=function(t,e){const n=d.MACSTRING(t,e);return void 0!==n?n.length:0},d.VARDELTAS=function(t){let e=0;const n=[];for(;e<t.length;){const r=t[e];e=0===r?w(t,e,n):r>=-128&&r<=127?S(t,e,n):M(t,e,n)}return n},d.INDEX=function(t){let e=1;const n=[e],r=[];for(let o=0;o<t.length;o+=1){const i=d.OBJECT(t[o]);Array.prototype.push.apply(r,i),e+=i.length,n.push(e)}if(0===r.length)return[0,0];const o=[],i=1+Math.floor(Math.log(e)/Math.log(2))/8|0,a=[void 0,d.BYTE,d.USHORT,d.UINT24,d.ULONG][i];for(let t=0;t<n.length;t+=1){const e=a(n[t]);Array.prototype.push.apply(o,e)}return Array.prototype.concat(d.Card16(t.length),d.OffSize(i),o,r)},m.INDEX=function(t){return d.INDEX(t).length},d.DICT=function(t){let e=[];const n=Object.keys(t),r=n.length;for(let o=0;o<r;o+=1){const r=parseInt(n[o],0),i=t[r];e=e.concat(d.OPERAND(i.value,i.type)),e=e.concat(d.OPERATOR(r))}return e},m.DICT=function(t){return d.DICT(t).length},d.OPERATOR=function(t){return t<1200?[t]:[12,t-1200]},d.OPERAND=function(t,e){let n=[];if(Array.isArray(e))for(let r=0;r<e.length;r+=1)p.argument(t.length===e.length,"Not enough arguments given for type"+e),n=n.concat(d.OPERAND(t[r],e[r]));else if("SID"===e)n=n.concat(d.NUMBER(t));else if("offset"===e)n=n.concat(d.NUMBER32(t));else if("number"===e)n=n.concat(d.NUMBER(t));else{if("real"!==e)throw new Error("Unknown operand type "+e);n=n.concat(d.REAL(t))}return n},d.OP=d.BYTE,m.OP=m.BYTE;const k="function"==typeof WeakMap&&new WeakMap;function T(t,e,n){for(let t=0;t<e.length;t+=1){const n=e[t];this[n.name]=n.value}if(this.tableName=t,this.fields=e,n){const t=Object.keys(n);for(let e=0;e<t.length;e+=1){const r=t[e],o=n[r];void 0!==this[r]&&(this[r]=o)}}}function E(t,e,n){void 0===n&&(n=e.length);const r=new Array(e.length+1);r[0]={name:t+"Count",type:"USHORT",value:n};for(let n=0;n<e.length;n++)r[n+1]={name:t+n,type:"USHORT",value:e[n]};return r}function A(t,e,n){const r=e.length,o=new Array(r+1);o[0]={name:t+"Count",type:"USHORT",value:r};for(let i=0;i<r;i++)o[i+1]={name:t+i,type:"TABLE",value:n(e[i],i)};return o}function O(t,e,n){const r=e.length;let o=[];o[0]={name:t+"Count",type:"USHORT",value:r};for(let t=0;t<r;t++)o=o.concat(n(e[t],t));return o}function R(t){1===t.format?T.call(this,"coverageTable",[{name:"coverageFormat",type:"USHORT",value:1}].concat(E("glyph",t.glyphs))):p.assert(!1,"Can't create coverage table format 2 yet.")}function U(t){T.call(this,"scriptListTable",O("scriptRecord",t,(function(t,e){const n=t.script;let r=n.defaultLangSys;return p.assert(!!r,"Unable to write GSUB: script "+t.tag+" has no default language system."),[{name:"scriptTag"+e,type:"TAG",value:t.tag},{name:"script"+e,type:"TABLE",value:new T("scriptTable",[{name:"defaultLangSys",type:"TABLE",value:new T("defaultLangSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:r.reqFeatureIndex}].concat(E("featureIndex",r.featureIndexes)))}].concat(O("langSys",n.langSysRecords,(function(t,e){const n=t.langSys;return[{name:"langSysTag"+e,type:"TAG",value:t.tag},{name:"langSys"+e,type:"TABLE",value:new T("langSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:n.reqFeatureIndex}].concat(E("featureIndex",n.featureIndexes)))}]}))))}]})))}function _(t){T.call(this,"featureListTable",O("featureRecord",t,(function(t,e){const n=t.feature;return[{name:"featureTag"+e,type:"TAG",value:t.tag},{name:"feature"+e,type:"TABLE",value:new T("featureTable",[{name:"featureParams",type:"USHORT",value:n.featureParams}].concat(E("lookupListIndex",n.lookupListIndexes)))}]})))}function D(t,e){T.call(this,"lookupListTable",A("lookup",t,(function(t){let n=e[t.lookupType];return p.assert(!!n,"Unable to write GSUB lookup type "+t.lookupType+" tables."),new T("lookupTable",[{name:"lookupType",type:"USHORT",value:t.lookupType},{name:"lookupFlag",type:"USHORT",value:t.lookupFlag}].concat(A("subtable",t.subtables,n)))})))}d.CHARSTRING=function(t){if(k){const e=k.get(t);if(void 0!==e)return e}let e=[];const n=t.length;for(let r=0;r<n;r+=1){const n=t[r];e=e.concat(d[n.type](n.value))}return k&&k.set(t,e),e},m.CHARSTRING=function(t){return d.CHARSTRING(t).length},d.OBJECT=function(t){const e=d[t.type];return p.argument(void 0!==e,"No encoding function for type "+t.type),e(t.value)},m.OBJECT=function(t){const e=m[t.type];return p.argument(void 0!==e,"No sizeOf function for type "+t.type),e(t.value)},d.TABLE=function(t){let e=[];const n=t.fields.length,r=[],o=[];for(let i=0;i<n;i+=1){const n=t.fields[i],a=d[n.type];p.argument(void 0!==a,"No encoding function for field type "+n.type+" ("+n.name+")");let s=t[n.name];void 0===s&&(s=n.value);const u=a(s);"TABLE"===n.type?(o.push(e.length),e=e.concat([0,0]),r.push(u)):e=e.concat(u)}for(let n=0;n<r.length;n+=1){const i=o[n],a=e.length;p.argument(a<65536,"Table "+t.tableName+" too big."),e[i]=a>>8,e[i+1]=255&a,e=e.concat(r[n])}return e},m.TABLE=function(t){let e=0;const n=t.fields.length;for(let r=0;r<n;r+=1){const n=t.fields[r],o=m[n.type];p.argument(void 0!==o,"No sizeOf function for field type "+n.type+" ("+n.name+")");let i=t[n.name];void 0===i&&(i=n.value),e+=o(i),"TABLE"===n.type&&(e+=2)}return e},d.RECORD=d.TABLE,m.RECORD=m.TABLE,d.LITERAL=function(t){return t},m.LITERAL=function(t){return t.length},T.prototype.encode=function(){return d.TABLE(this)},T.prototype.sizeOf=function(){return m.TABLE(this)},R.prototype=Object.create(T.prototype),R.prototype.constructor=R,U.prototype=Object.create(T.prototype),U.prototype.constructor=U,_.prototype=Object.create(T.prototype),_.prototype.constructor=_,D.prototype=Object.create(T.prototype),D.prototype.constructor=D;var C={Table:T,Record:T,Coverage:R,ScriptList:U,FeatureList:_,LookupList:D,ushortList:E,tableList:A,recordList:O};function L(t,e){return t.getUint8(e)}function I(t,e){return t.getUint16(e,!1)}function P(t,e){return t.getUint32(e,!1)}function F(t,e){return t.getInt16(e,!1)+t.getUint16(e+2,!1)/65535}const B={byte:1,uShort:2,short:2,uLong:4,fixed:4,longDateTime:8,tag:4};function N(t,e){this.data=t,this.offset=e,this.relativeOffset=0}N.prototype.parseByte=function(){const t=this.data.getUint8(this.offset+this.relativeOffset);return this.relativeOffset+=1,t},N.prototype.parseChar=function(){const t=this.data.getInt8(this.offset+this.relativeOffset);return this.relativeOffset+=1,t},N.prototype.parseCard8=N.prototype.parseByte,N.prototype.parseUShort=function(){const t=this.data.getUint16(this.offset+this.relativeOffset);return this.relativeOffset+=2,t},N.prototype.parseCard16=N.prototype.parseUShort,N.prototype.parseSID=N.prototype.parseUShort,N.prototype.parseOffset16=N.prototype.parseUShort,N.prototype.parseShort=function(){const t=this.data.getInt16(this.offset+this.relativeOffset);return this.relativeOffset+=2,t},N.prototype.parseF2Dot14=function(){const t=this.data.getInt16(this.offset+this.relativeOffset)/16384;return this.relativeOffset+=2,t},N.prototype.parseULong=function(){const t=P(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,t},N.prototype.parseOffset32=N.prototype.parseULong,N.prototype.parseFixed=function(){const t=F(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,t},N.prototype.parseString=function(t){const e=this.data,n=this.offset+this.relativeOffset;let r="";this.relativeOffset+=t;for(let o=0;o<t;o++)r+=String.fromCharCode(e.getUint8(n+o));return r},N.prototype.parseTag=function(){return this.parseString(4)},N.prototype.parseLongDateTime=function(){let t=P(this.data,this.offset+this.relativeOffset+4);return t-=2082844800,this.relativeOffset+=8,t},N.prototype.parseVersion=function(t){const e=I(this.data,this.offset+this.relativeOffset),n=I(this.data,this.offset+this.relativeOffset+2);return this.relativeOffset+=4,void 0===t&&(t=4096),e+n/t/10},N.prototype.skip=function(t,e){void 0===e&&(e=1),this.relativeOffset+=B[t]*e},N.prototype.parseULongList=function(t){void 0===t&&(t=this.parseULong());const e=new Array(t),n=this.data;let r=this.offset+this.relativeOffset;for(let o=0;o<t;o++)e[o]=n.getUint32(r),r+=4;return this.relativeOffset+=4*t,e},N.prototype.parseOffset16List=N.prototype.parseUShortList=function(t){void 0===t&&(t=this.parseUShort());const e=new Array(t),n=this.data;let r=this.offset+this.relativeOffset;for(let o=0;o<t;o++)e[o]=n.getUint16(r),r+=2;return this.relativeOffset+=2*t,e},N.prototype.parseShortList=function(t){const e=new Array(t),n=this.data;let r=this.offset+this.relativeOffset;for(let o=0;o<t;o++)e[o]=n.getInt16(r),r+=2;return this.relativeOffset+=2*t,e},N.prototype.parseByteList=function(t){const e=new Array(t),n=this.data;let r=this.offset+this.relativeOffset;for(let o=0;o<t;o++)e[o]=n.getUint8(r++);return this.relativeOffset+=t,e},N.prototype.parseList=function(t,e){e||(e=t,t=this.parseUShort());const n=new Array(t);for(let r=0;r<t;r++)n[r]=e.call(this);return n},N.prototype.parseList32=function(t,e){e||(e=t,t=this.parseULong());const n=new Array(t);for(let r=0;r<t;r++)n[r]=e.call(this);return n},N.prototype.parseRecordList=function(t,e){e||(e=t,t=this.parseUShort());const n=new Array(t),r=Object.keys(e);for(let o=0;o<t;o++){const t={};for(let n=0;n<r.length;n++){const o=r[n],i=e[o];t[o]=i.call(this)}n[o]=t}return n},N.prototype.parseRecordList32=function(t,e){e||(e=t,t=this.parseULong());const n=new Array(t),r=Object.keys(e);for(let o=0;o<t;o++){const t={};for(let n=0;n<r.length;n++){const o=r[n],i=e[o];t[o]=i.call(this)}n[o]=t}return n},N.prototype.parseStruct=function(t){if("function"==typeof t)return t.call(this);{const e=Object.keys(t),n={};for(let r=0;r<e.length;r++){const o=e[r],i=t[o];n[o]=i.call(this)}return n}},N.prototype.parseValueRecord=function(t){if(void 0===t&&(t=this.parseUShort()),0===t)return;const e={};return 1&t&&(e.xPlacement=this.parseShort()),2&t&&(e.yPlacement=this.parseShort()),4&t&&(e.xAdvance=this.parseShort()),8&t&&(e.yAdvance=this.parseShort()),16&t&&(e.xPlaDevice=void 0,this.parseShort()),32&t&&(e.yPlaDevice=void 0,this.parseShort()),64&t&&(e.xAdvDevice=void 0,this.parseShort()),128&t&&(e.yAdvDevice=void 0,this.parseShort()),e},N.prototype.parseValueRecordList=function(){const t=this.parseUShort(),e=this.parseUShort(),n=new Array(e);for(let r=0;r<e;r++)n[r]=this.parseValueRecord(t);return n},N.prototype.parsePointer=function(t){const e=this.parseOffset16();if(e>0)return new N(this.data,this.offset+e).parseStruct(t)},N.prototype.parsePointer32=function(t){const e=this.parseOffset32();if(e>0)return new N(this.data,this.offset+e).parseStruct(t)},N.prototype.parseListOfLists=function(t){const e=this.parseOffset16List(),n=e.length,r=this.relativeOffset,o=new Array(n);for(let r=0;r<n;r++){const n=e[r];if(0!==n)if(this.relativeOffset=n,t){const e=this.parseOffset16List(),i=new Array(e.length);for(let r=0;r<e.length;r++)this.relativeOffset=n+e[r],i[r]=t.call(this);o[r]=i}else o[r]=this.parseUShortList();else o[r]=void 0}return this.relativeOffset=r,o},N.prototype.parseCoverage=function(){const t=this.offset+this.relativeOffset,e=this.parseUShort(),n=this.parseUShort();if(1===e)return{format:1,glyphs:this.parseUShortList(n)};if(2===e){const t=new Array(n);for(let e=0;e<n;e++)t[e]={start:this.parseUShort(),end:this.parseUShort(),index:this.parseUShort()};return{format:2,ranges:t}}throw new Error("0x"+t.toString(16)+": Coverage format must be 1 or 2.")},N.prototype.parseClassDef=function(){const t=this.offset+this.relativeOffset,e=this.parseUShort();if(1===e)return{format:1,startGlyph:this.parseUShort(),classes:this.parseUShortList()};if(2===e)return{format:2,ranges:this.parseRecordList({start:N.uShort,end:N.uShort,classId:N.uShort})};throw new Error("0x"+t.toString(16)+": ClassDef format must be 1 or 2.")},N.list=function(t,e){return function(){return this.parseList(t,e)}},N.list32=function(t,e){return function(){return this.parseList32(t,e)}},N.recordList=function(t,e){return function(){return this.parseRecordList(t,e)}},N.recordList32=function(t,e){return function(){return this.parseRecordList32(t,e)}},N.pointer=function(t){return function(){return this.parsePointer(t)}},N.pointer32=function(t){return function(){return this.parsePointer32(t)}},N.tag=N.prototype.parseTag,N.byte=N.prototype.parseByte,N.uShort=N.offset16=N.prototype.parseUShort,N.uShortList=N.prototype.parseUShortList,N.uLong=N.offset32=N.prototype.parseULong,N.uLongList=N.prototype.parseULongList,N.struct=N.prototype.parseStruct,N.coverage=N.prototype.parseCoverage,N.classDef=N.prototype.parseClassDef;const j={reserved:N.uShort,reqFeatureIndex:N.uShort,featureIndexes:N.uShortList};N.prototype.parseScriptList=function(){return this.parsePointer(N.recordList({tag:N.tag,script:N.pointer({defaultLangSys:N.pointer(j),langSysRecords:N.recordList({tag:N.tag,langSys:N.pointer(j)})})}))||[]},N.prototype.parseFeatureList=function(){return this.parsePointer(N.recordList({tag:N.tag,feature:N.pointer({featureParams:N.offset16,lookupListIndexes:N.uShortList})}))||[]},N.prototype.parseLookupList=function(t){return this.parsePointer(N.list(N.pointer((function(){const e=this.parseUShort();p.argument(1<=e&&e<=9,"GPOS/GSUB lookup type "+e+" unknown.");const n=this.parseUShort(),r=16&n;return{lookupType:e,lookupFlag:n,subtables:this.parseList(N.pointer(t[e])),markFilteringSet:r?this.parseUShort():void 0}}))))||[]},N.prototype.parseFeatureVariationsList=function(){return this.parsePointer32((function(){const t=this.parseUShort(),e=this.parseUShort();return p.argument(1===t&&e<1,"GPOS/GSUB feature variations table unknown."),this.parseRecordList32({conditionSetOffset:N.offset32,featureTableSubstitutionOffset:N.offset32})}))||[]};var G={getByte:L,getCard8:L,getUShort:I,getCard16:I,getShort:function(t,e){return t.getInt16(e,!1)},getULong:P,getFixed:F,getTag:function(t,e){let n="";for(let r=e;r<e+4;r+=1)n+=String.fromCharCode(t.getInt8(r));return n},getOffset:function(t,e,n){let r=0;for(let o=0;o<n;o+=1)r<<=8,r+=t.getUint8(e+o);return r},getBytes:function(t,e,n){const r=[];for(let o=e;o<n;o+=1)r.push(t.getUint8(o));return r},bytesToString:function(t){let e="";for(let n=0;n<t.length;n+=1)e+=String.fromCharCode(t[n]);return e},Parser:N};function z(t,e,n){t.segments.push({end:e,start:e,delta:-(e-n),offset:0,glyphIndex:n})}var H={parse:function(t,e){const n={};n.version=G.getUShort(t,e),p.argument(0===n.version,"cmap table version should be 0."),n.numTables=G.getUShort(t,e+2);let r=-1;for(let o=n.numTables-1;o>=0;o-=1){const n=G.getUShort(t,e+4+8*o),i=G.getUShort(t,e+4+8*o+2);if(3===n&&(0===i||1===i||10===i)||0===n&&(0===i||1===i||2===i||3===i||4===i)){r=G.getULong(t,e+4+8*o+4);break}}if(-1===r)throw new Error("No valid cmap sub-tables found.");const o=new G.Parser(t,e+r);if(n.format=o.parseUShort(),12===n.format)!function(t,e){let n;e.parseUShort(),t.length=e.parseULong(),t.language=e.parseULong(),t.groupCount=n=e.parseULong(),t.glyphIndexMap={};for(let r=0;r<n;r+=1){const n=e.parseULong(),r=e.parseULong();let o=e.parseULong();for(let e=n;e<=r;e+=1)t.glyphIndexMap[e]=o,o++}}(n,o);else{if(4!==n.format)throw new Error("Only format 4 and 12 cmap tables are supported (found format "+n.format+").");!function(t,e,n,r,o){let i;t.length=e.parseUShort(),t.language=e.parseUShort(),t.segCount=i=e.parseUShort()>>1,e.skip("uShort",3),t.glyphIndexMap={};const a=new G.Parser(n,r+o+14),s=new G.Parser(n,r+o+16+2*i),u=new G.Parser(n,r+o+16+4*i),c=new G.Parser(n,r+o+16+6*i);let f=r+o+16+8*i;for(let e=0;e<i-1;e+=1){let e;const r=a.parseUShort(),o=s.parseUShort(),i=u.parseShort(),l=c.parseUShort();for(let a=o;a<=r;a+=1)0!==l?(f=c.offset+c.relativeOffset-2,f+=l,f+=2*(a-o),e=G.getUShort(n,f),0!==e&&(e=e+i&65535)):e=a+i&65535,t.glyphIndexMap[a]=e}}(n,o,t,e,r)}return n},make:function(t){let e,n=!0;for(e=t.length-1;e>0;e-=1){if(t.get(e).unicode>65535){console.log("Adding CMAP format 12 (needed!)"),n=!1;break}}let r=[{name:"version",type:"USHORT",value:0},{name:"numTables",type:"USHORT",value:n?1:2},{name:"platformID",type:"USHORT",value:3},{name:"encodingID",type:"USHORT",value:1},{name:"offset",type:"ULONG",value:n?12:20}];n||(r=r.concat([{name:"cmap12PlatformID",type:"USHORT",value:3},{name:"cmap12EncodingID",type:"USHORT",value:10},{name:"cmap12Offset",type:"ULONG",value:0}])),r=r.concat([{name:"format",type:"USHORT",value:4},{name:"cmap4Length",type:"USHORT",value:0},{name:"language",type:"USHORT",value:0},{name:"segCountX2",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]);const o=new C.Table("cmap",r);for(o.segments=[],e=0;e<t.length;e+=1){const n=t.get(e);for(let t=0;t<n.unicodes.length;t+=1)z(o,n.unicodes[t],e);o.segments=o.segments.sort((function(t,e){return t.start-e.start}))}!function(t){t.segments.push({end:65535,start:65535,delta:1,offset:0})}(o);const i=o.segments.length;let a=0,s=[],u=[],c=[],f=[],l=[],p=[];for(e=0;e<i;e+=1){const t=o.segments[e];t.end<=65535&&t.start<=65535?(s=s.concat({name:"end_"+e,type:"USHORT",value:t.end}),u=u.concat({name:"start_"+e,type:"USHORT",value:t.start}),c=c.concat({name:"idDelta_"+e,type:"SHORT",value:t.delta}),f=f.concat({name:"idRangeOffset_"+e,type:"USHORT",value:t.offset}),void 0!==t.glyphId&&(l=l.concat({name:"glyph_"+e,type:"USHORT",value:t.glyphId}))):a+=1,n||void 0===t.glyphIndex||(p=p.concat({name:"cmap12Start_"+e,type:"ULONG",value:t.start}),p=p.concat({name:"cmap12End_"+e,type:"ULONG",value:t.end}),p=p.concat({name:"cmap12Glyph_"+e,type:"ULONG",value:t.glyphIndex}))}if(o.segCountX2=2*(i-a),o.searchRange=2*Math.pow(2,Math.floor(Math.log(i-a)/Math.log(2))),o.entrySelector=Math.log(o.searchRange/2)/Math.log(2),o.rangeShift=o.segCountX2-o.searchRange,o.fields=o.fields.concat(s),o.fields.push({name:"reservedPad",type:"USHORT",value:0}),o.fields=o.fields.concat(u),o.fields=o.fields.concat(c),o.fields=o.fields.concat(f),o.fields=o.fields.concat(l),o.cmap4Length=14+2*s.length+2+2*u.length+2*c.length+2*f.length+2*l.length,!n){const t=16+4*p.length;o.cmap12Offset=20+o.cmap4Length,o.fields=o.fields.concat([{name:"cmap12Format",type:"USHORT",value:12},{name:"cmap12Reserved",type:"USHORT",value:0},{name:"cmap12Length",type:"ULONG",value:t},{name:"cmap12Language",type:"ULONG",value:0},{name:"cmap12nGroups",type:"ULONG",value:p.length/3}]),o.fields=o.fields.concat(p)}return o}};const q=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","266 ff","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"],Y=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls"],W=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"],V=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"];function X(t){this.font=t}function Z(t){this.cmap=t}function Q(t,e){this.encoding=t,this.charset=e}function $(t){switch(t.version){case 1:this.names=V.slice();break;case 2:this.names=new Array(t.numberOfGlyphs);for(let e=0;e<t.numberOfGlyphs;e++)t.glyphNameIndex[e]<V.length?this.names[e]=V[t.glyphNameIndex[e]]:this.names[e]=t.names[t.glyphNameIndex[e]-V.length];break;case 2.5:this.names=new Array(t.numberOfGlyphs);for(let e=0;e<t.numberOfGlyphs;e++)this.names[e]=V[e+t.glyphNameIndex[e]];break;case 3:default:this.names=[]}}function K(t,e){e.lowMemory?function(t){t._IndexToUnicodeMap={};const e=t.tables.cmap.glyphIndexMap,n=Object.keys(e);for(let r=0;r<n.length;r+=1){const o=n[r];let i=e[o];void 0===t._IndexToUnicodeMap[i]?t._IndexToUnicodeMap[i]={unicodes:[parseInt(o)]}:t._IndexToUnicodeMap[i].unicodes.push(parseInt(o))}}(t):function(t){let e;const n=t.tables.cmap.glyphIndexMap,r=Object.keys(n);for(let o=0;o<r.length;o+=1){const i=r[o],a=n[i];e=t.glyphs.get(a),e.addUnicode(parseInt(i))}for(let n=0;n<t.glyphs.length;n+=1)e=t.glyphs.get(n),t.cffEncoding?t.isCIDFont?e.name="gid"+n:e.name=t.cffEncoding.charset[n]:t.glyphNames.names&&(e.name=t.glyphNames.glyphIndexToName(n))}(t)}X.prototype.charToGlyphIndex=function(t){const e=t.codePointAt(0),n=this.font.glyphs;if(n)for(let t=0;t<n.length;t+=1){const r=n.get(t);for(let n=0;n<r.unicodes.length;n+=1)if(r.unicodes[n]===e)return t}return null},Z.prototype.charToGlyphIndex=function(t){return this.cmap.glyphIndexMap[t.codePointAt(0)]||0},Q.prototype.charToGlyphIndex=function(t){const e=t.codePointAt(0),n=this.encoding[e];return this.charset.indexOf(n)},$.prototype.nameToGlyphIndex=function(t){return this.names.indexOf(t)},$.prototype.glyphIndexToName=function(t){return this.names[t]};var J={line:function(t,e,n,r,o){t.beginPath(),t.moveTo(e,n),t.lineTo(r,o),t.stroke()}};function tt(t){this.bindConstructorValues(t)}tt.prototype.bindConstructorValues=function(t){this.index=t.index||0,this.name=t.name||null,this.unicode=t.unicode||void 0,this.unicodes=t.unicodes||void 0!==t.unicode?[t.unicode]:[],t.xMin&&(this.xMin=t.xMin),t.yMin&&(this.yMin=t.yMin),t.xMax&&(this.xMax=t.xMax),t.yMax&&(this.yMax=t.yMax),t.advanceWidth&&(this.advanceWidth=t.advanceWidth),Object.defineProperty(this,"path",function(t,e){let n=e||new c;return{configurable:!0,get:function(){return"function"==typeof n&&(n=n()),n},set:function(t){n=t}}}(0,t.path))},tt.prototype.addUnicode=function(t){0===this.unicodes.length&&(this.unicode=t),this.unicodes.push(t)},tt.prototype.getBoundingBox=function(){return this.path.getBoundingBox()},tt.prototype.getPath=function(t,e,n,r,o){let i,a;t=void 0!==t?t:0,e=void 0!==e?e:0,n=void 0!==n?n:72,r||(r={});let s=r.xScale,u=r.yScale;if(r.hinting&&o&&o.hinting&&(a=this.path&&o.hinting.exec(this,n)),a)i=o.hinting.getCommands(a),t=Math.round(t),e=Math.round(e),s=u=1;else{i=this.path.commands;const t=1/(this.path.unitsPerEm||1e3)*n;void 0===s&&(s=t),void 0===u&&(u=t)}const f=new c;for(let n=0;n<i.length;n+=1){const r=i[n];"M"===r.type?f.moveTo(t+r.x*s,e+-r.y*u):"L"===r.type?f.lineTo(t+r.x*s,e+-r.y*u):"Q"===r.type?f.quadraticCurveTo(t+r.x1*s,e+-r.y1*u,t+r.x*s,e+-r.y*u):"C"===r.type?f.curveTo(t+r.x1*s,e+-r.y1*u,t+r.x2*s,e+-r.y2*u,t+r.x*s,e+-r.y*u):"Z"===r.type&&f.closePath()}return f},tt.prototype.getContours=function(){if(void 0===this.points)return[];const t=[];let e=[];for(let n=0;n<this.points.length;n+=1){const r=this.points[n];e.push(r),r.lastPointOfContour&&(t.push(e),e=[])}return p.argument(0===e.length,"There are still points left in the current contour."),t},tt.prototype.getMetrics=function(){const t=this.path.commands,e=[],n=[];for(let r=0;r<t.length;r+=1){const o=t[r];"Z"!==o.type&&(e.push(o.x),n.push(o.y)),"Q"!==o.type&&"C"!==o.type||(e.push(o.x1),n.push(o.y1)),"C"===o.type&&(e.push(o.x2),n.push(o.y2))}const r={xMin:Math.min.apply(null,e),yMin:Math.min.apply(null,n),xMax:Math.max.apply(null,e),yMax:Math.max.apply(null,n),leftSideBearing:this.leftSideBearing};return isFinite(r.xMin)||(r.xMin=0),isFinite(r.xMax)||(r.xMax=this.advanceWidth),isFinite(r.yMin)||(r.yMin=0),isFinite(r.yMax)||(r.yMax=0),r.rightSideBearing=this.advanceWidth-r.leftSideBearing-(r.xMax-r.xMin),r},tt.prototype.draw=function(t,e,n,r,o){this.getPath(e,n,r,o).draw(t)},tt.prototype.drawPoints=function(t,e,n,r){function o(e,n,r,o){const i=2*Math.PI;t.beginPath();for(let a=0;a<e.length;a+=1)t.moveTo(n+e[a].x*o,r+e[a].y*o),t.arc(n+e[a].x*o,r+e[a].y*o,2,0,i,!1);t.closePath(),t.fill()}e=void 0!==e?e:0,n=void 0!==n?n:0,r=void 0!==r?r:24;const i=1/this.path.unitsPerEm*r,a=[],s=[],u=this.path;for(let t=0;t<u.commands.length;t+=1){const e=u.commands[t];void 0!==e.x&&a.push({x:e.x,y:-e.y}),void 0!==e.x1&&s.push({x:e.x1,y:-e.y1}),void 0!==e.x2&&s.push({x:e.x2,y:-e.y2})}t.fillStyle="blue",o(a,e,n,i),t.fillStyle="red",o(s,e,n,i)},tt.prototype.drawMetrics=function(t,e,n,r){let o;e=void 0!==e?e:0,n=void 0!==n?n:0,r=void 0!==r?r:24,o=1/this.path.unitsPerEm*r,t.lineWidth=1,t.strokeStyle="black",J.line(t,e,-1e4,e,1e4),J.line(t,-1e4,n,1e4,n);const i=this.xMin||0;let a=this.yMin||0;const s=this.xMax||0;let u=this.yMax||0;const c=this.advanceWidth||0;t.strokeStyle="blue",J.line(t,e+i*o,-1e4,e+i*o,1e4),J.line(t,e+s*o,-1e4,e+s*o,1e4),J.line(t,-1e4,n+-a*o,1e4,n+-a*o),J.line(t,-1e4,n+-u*o,1e4,n+-u*o),t.strokeStyle="green",J.line(t,e+c*o,-1e4,e+c*o,1e4)};var et=tt;function nt(t,e,n){Object.defineProperty(t,e,{get:function(){return t.path,t[n]},set:function(e){t[n]=e},enumerable:!0,configurable:!0})}function rt(t,e){if(this.font=t,this.glyphs={},Array.isArray(e))for(let n=0;n<e.length;n++){const r=e[n];r.path.unitsPerEm=t.unitsPerEm,this.glyphs[n]=r}this.length=e&&e.length||0}rt.prototype.get=function(t){if(void 0===this.glyphs[t]){this.font._push(t),"function"==typeof this.glyphs[t]&&(this.glyphs[t]=this.glyphs[t]());let e=this.glyphs[t],n=this.font._IndexToUnicodeMap[t];if(n)for(let t=0;t<n.unicodes.length;t++)e.addUnicode(n.unicodes[t]);this.font.cffEncoding?this.font.isCIDFont?e.name="gid"+t:e.name=this.font.cffEncoding.charset[t]:this.font.glyphNames.names&&(e.name=this.font.glyphNames.glyphIndexToName(t)),this.glyphs[t].advanceWidth=this.font._hmtxTableData[t].advanceWidth,this.glyphs[t].leftSideBearing=this.font._hmtxTableData[t].leftSideBearing}else"function"==typeof this.glyphs[t]&&(this.glyphs[t]=this.glyphs[t]());return this.glyphs[t]},rt.prototype.push=function(t,e){this.glyphs[t]=e,this.length++};var ot={GlyphSet:rt,glyphLoader:function(t,e){return new et({index:e,font:t})},ttfGlyphLoader:function(t,e,n,r,o,i){return function(){const a=new et({index:e,font:t});return a.path=function(){n(a,r,o);const e=i(t.glyphs,a);return e.unitsPerEm=t.unitsPerEm,e},nt(a,"xMin","_xMin"),nt(a,"xMax","_xMax"),nt(a,"yMin","_yMin"),nt(a,"yMax","_yMax"),a}},cffGlyphLoader:function(t,e,n,r){return function(){const o=new et({index:e,font:t});return o.path=function(){const e=n(t,o,r);return e.unitsPerEm=t.unitsPerEm,e},o}}};function it(t,e){if(t===e)return!0;if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n+=1)if(!it(t[n],e[n]))return!1;return!0}return!1}function at(t){let e;return e=t.length<1240?107:t.length<33900?1131:32768,e}function st(t,e,n){const r=[],o=[],i=G.getCard16(t,e);let a,s;if(0!==i){const n=G.getByte(t,e+2);a=e+(i+1)*n+2;let o=e+3;for(let e=0;e<i+1;e+=1)r.push(G.getOffset(t,o,n)),o+=n;s=a+r[i]}else s=e+2;for(let e=0;e<r.length-1;e+=1){let i=G.getBytes(t,a+r[e],a+r[e+1]);n&&(i=n(i)),o.push(i)}return{objects:o,startOffset:e,endOffset:s}}function ut(t,e){let n,r,o,i;if(28===e)return n=t.parseByte(),r=t.parseByte(),n<<8|r;if(29===e)return n=t.parseByte(),r=t.parseByte(),o=t.parseByte(),i=t.parseByte(),n<<24|r<<16|o<<8|i;if(30===e)return function(t){let e="";const n=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"];for(;;){const r=t.parseByte(),o=r>>4,i=15&r;if(15===o)break;if(e+=n[o],15===i)break;e+=n[i]}return parseFloat(e)}(t);if(e>=32&&e<=246)return e-139;if(e>=247&&e<=250)return n=t.parseByte(),256*(e-247)+n+108;if(e>=251&&e<=254)return n=t.parseByte(),256*-(e-251)-n-108;throw new Error("Invalid b0 "+e)}function ct(t,e,n){e=void 0!==e?e:0;const r=new G.Parser(t,e),o=[];let i=[];for(n=void 0!==n?n:t.length;r.relativeOffset<n;){let t=r.parseByte();t<=21?(12===t&&(t=1200+r.parseByte()),o.push([t,i]),i=[]):i.push(ut(r,t))}return function(t){const e={};for(let n=0;n<t.length;n+=1){const r=t[n][0],o=t[n][1];let i;if(i=1===o.length?o[0]:o,e.hasOwnProperty(r)&&!isNaN(e[r]))throw new Error("Object "+e+" already has key "+r);e[r]=i}return e}(o)}function ft(t,e){return e=e<=390?q[e]:t[e-391]}function lt(t,e,n){const r={};let o;for(let i=0;i<e.length;i+=1){const a=e[i];if(Array.isArray(a.type)){const e=[];e.length=a.type.length;for(let r=0;r<a.type.length;r++)o=void 0!==t[a.op]?t[a.op][r]:void 0,void 0===o&&(o=void 0!==a.value&&void 0!==a.value[r]?a.value[r]:null),"SID"===a.type[r]&&(o=ft(n,o)),e[r]=o;r[a.name]=e}else o=t[a.op],void 0===o&&(o=void 0!==a.value?a.value:null),"SID"===a.type&&(o=ft(n,o)),r[a.name]=o}return r}const pt=[{name:"version",op:0,type:"SID"},{name:"notice",op:1,type:"SID"},{name:"copyright",op:1200,type:"SID"},{name:"fullName",op:2,type:"SID"},{name:"familyName",op:3,type:"SID"},{name:"weight",op:4,type:"SID"},{name:"isFixedPitch",op:1201,type:"number",value:0},{name:"italicAngle",op:1202,type:"number",value:0},{name:"underlinePosition",op:1203,type:"number",value:-100},{name:"underlineThickness",op:1204,type:"number",value:50},{name:"paintType",op:1205,type:"number",value:0},{name:"charstringType",op:1206,type:"number",value:2},{name:"fontMatrix",op:1207,type:["real","real","real","real","real","real"],value:[.001,0,0,.001,0,0]},{name:"uniqueId",op:13,type:"number"},{name:"fontBBox",op:5,type:["number","number","number","number"],value:[0,0,0,0]},{name:"strokeWidth",op:1208,type:"number",value:0},{name:"xuid",op:14,type:[],value:null},{name:"charset",op:15,type:"offset",value:0},{name:"encoding",op:16,type:"offset",value:0},{name:"charStrings",op:17,type:"offset",value:0},{name:"private",op:18,type:["number","offset"],value:[0,0]},{name:"ros",op:1230,type:["SID","SID","number"]},{name:"cidFontVersion",op:1231,type:"number",value:0},{name:"cidFontRevision",op:1232,type:"number",value:0},{name:"cidFontType",op:1233,type:"number",value:0},{name:"cidCount",op:1234,type:"number",value:8720},{name:"uidBase",op:1235,type:"number"},{name:"fdArray",op:1236,type:"offset"},{name:"fdSelect",op:1237,type:"offset"},{name:"fontName",op:1238,type:"SID"}],ht=[{name:"subrs",op:19,type:"offset",value:0},{name:"defaultWidthX",op:20,type:"number",value:0},{name:"nominalWidthX",op:21,type:"number",value:0}];function dt(t,e){return lt(ct(t,0,t.byteLength),pt,e)}function mt(t,e,n,r){return lt(ct(t,e,n),ht,r)}function gt(t,e,n,r){const o=[];for(let i=0;i<n.length;i+=1){const a=dt(new DataView(new Uint8Array(n[i]).buffer),r);a._subrs=[],a._subrsBias=0;const s=a.private[0],u=a.private[1];if(0!==s&&0!==u){const n=mt(t,u+e,s,r);if(a._defaultWidthX=n.defaultWidthX,a._nominalWidthX=n.nominalWidthX,0!==n.subrs){const r=st(t,u+n.subrs+e);a._subrs=r.objects,a._subrsBias=at(a._subrs)}a._privateDict=n}o.push(a)}return o}function yt(t,e,n){let r,o,i,a;const s=new c,u=[];let f,l,p,h,d=0,m=!1,g=!1,y=0,v=0;if(t.isCIDFont){const n=t.tables.cff.topDict._fdSelect[e.index],r=t.tables.cff.topDict._fdArray[n];f=r._subrs,l=r._subrsBias,p=r._defaultWidthX,h=r._nominalWidthX}else f=t.tables.cff.topDict._subrs,l=t.tables.cff.topDict._subrsBias,p=t.tables.cff.topDict._defaultWidthX,h=t.tables.cff.topDict._nominalWidthX;let b=p;function x(t,e){g&&s.closePath(),s.moveTo(t,e),g=!0}function w(){let t;t=u.length%2!=0,t&&!m&&(b=u.shift()+h),d+=u.length>>1,u.length=0,m=!0}return function n(c){let p,S,M,k,T,E,A,O,R,U,_,D,C=0;for(;C<c.length;){let L=c[C];switch(C+=1,L){case 1:case 3:w();break;case 4:u.length>1&&!m&&(b=u.shift()+h,m=!0),v+=u.pop(),x(y,v);break;case 5:for(;u.length>0;)y+=u.shift(),v+=u.shift(),s.lineTo(y,v);break;case 6:for(;u.length>0&&(y+=u.shift(),s.lineTo(y,v),0!==u.length);)v+=u.shift(),s.lineTo(y,v);break;case 7:for(;u.length>0&&(v+=u.shift(),s.lineTo(y,v),0!==u.length);)y+=u.shift(),s.lineTo(y,v);break;case 8:for(;u.length>0;)r=y+u.shift(),o=v+u.shift(),i=r+u.shift(),a=o+u.shift(),y=i+u.shift(),v=a+u.shift(),s.curveTo(r,o,i,a,y,v);break;case 10:T=u.pop()+l,E=f[T],E&&n(E);break;case 11:return;case 12:switch(L=c[C],C+=1,L){case 35:r=y+u.shift(),o=v+u.shift(),i=r+u.shift(),a=o+u.shift(),A=i+u.shift(),O=a+u.shift(),R=A+u.shift(),U=O+u.shift(),_=R+u.shift(),D=U+u.shift(),y=_+u.shift(),v=D+u.shift(),u.shift(),s.curveTo(r,o,i,a,A,O),s.curveTo(R,U,_,D,y,v);break;case 34:r=y+u.shift(),o=v,i=r+u.shift(),a=o+u.shift(),A=i+u.shift(),O=a,R=A+u.shift(),U=a,_=R+u.shift(),D=v,y=_+u.shift(),s.curveTo(r,o,i,a,A,O),s.curveTo(R,U,_,D,y,v);break;case 36:r=y+u.shift(),o=v+u.shift(),i=r+u.shift(),a=o+u.shift(),A=i+u.shift(),O=a,R=A+u.shift(),U=a,_=R+u.shift(),D=U+u.shift(),y=_+u.shift(),s.curveTo(r,o,i,a,A,O),s.curveTo(R,U,_,D,y,v);break;case 37:r=y+u.shift(),o=v+u.shift(),i=r+u.shift(),a=o+u.shift(),A=i+u.shift(),O=a+u.shift(),R=A+u.shift(),U=O+u.shift(),_=R+u.shift(),D=U+u.shift(),Math.abs(_-y)>Math.abs(D-v)?y=_+u.shift():v=D+u.shift(),s.curveTo(r,o,i,a,A,O),s.curveTo(R,U,_,D,y,v);break;default:console.log("Glyph "+e.index+": unknown operator 1200"+L),u.length=0}break;case 14:u.length>0&&!m&&(b=u.shift()+h,m=!0),g&&(s.closePath(),g=!1);break;case 18:w();break;case 19:case 20:w(),C+=d+7>>3;break;case 21:u.length>2&&!m&&(b=u.shift()+h,m=!0),v+=u.pop(),y+=u.pop(),x(y,v);break;case 22:u.length>1&&!m&&(b=u.shift()+h,m=!0),y+=u.pop(),x(y,v);break;case 23:w();break;case 24:for(;u.length>2;)r=y+u.shift(),o=v+u.shift(),i=r+u.shift(),a=o+u.shift(),y=i+u.shift(),v=a+u.shift(),s.curveTo(r,o,i,a,y,v);y+=u.shift(),v+=u.shift(),s.lineTo(y,v);break;case 25:for(;u.length>6;)y+=u.shift(),v+=u.shift(),s.lineTo(y,v);r=y+u.shift(),o=v+u.shift(),i=r+u.shift(),a=o+u.shift(),y=i+u.shift(),v=a+u.shift(),s.curveTo(r,o,i,a,y,v);break;case 26:for(u.length%2&&(y+=u.shift());u.length>0;)r=y,o=v+u.shift(),i=r+u.shift(),a=o+u.shift(),y=i,v=a+u.shift(),s.curveTo(r,o,i,a,y,v);break;case 27:for(u.length%2&&(v+=u.shift());u.length>0;)r=y+u.shift(),o=v,i=r+u.shift(),a=o+u.shift(),y=i+u.shift(),v=a,s.curveTo(r,o,i,a,y,v);break;case 28:p=c[C],S=c[C+1],u.push((p<<24|S<<16)>>16),C+=2;break;case 29:T=u.pop()+t.gsubrsBias,E=t.gsubrs[T],E&&n(E);break;case 30:for(;u.length>0&&(r=y,o=v+u.shift(),i=r+u.shift(),a=o+u.shift(),y=i+u.shift(),v=a+(1===u.length?u.shift():0),s.curveTo(r,o,i,a,y,v),0!==u.length);)r=y+u.shift(),o=v,i=r+u.shift(),a=o+u.shift(),v=a+u.shift(),y=i+(1===u.length?u.shift():0),s.curveTo(r,o,i,a,y,v);break;case 31:for(;u.length>0&&(r=y+u.shift(),o=v,i=r+u.shift(),a=o+u.shift(),v=a+u.shift(),y=i+(1===u.length?u.shift():0),s.curveTo(r,o,i,a,y,v),0!==u.length);)r=y,o=v+u.shift(),i=r+u.shift(),a=o+u.shift(),y=i+u.shift(),v=a+(1===u.length?u.shift():0),s.curveTo(r,o,i,a,y,v);break;default:L<32?console.log("Glyph "+e.index+": unknown operator "+L):L<247?u.push(L-139):L<251?(p=c[C],C+=1,u.push(256*(L-247)+p+108)):L<255?(p=c[C],C+=1,u.push(256*-(L-251)-p-108)):(p=c[C],S=c[C+1],M=c[C+2],k=c[C+3],C+=4,u.push((p<<24|S<<16|M<<8|k)/65536))}}}(n),e.advanceWidth=b,s}function vt(t,e){let n,r=q.indexOf(t);return r>=0&&(n=r),r=e.indexOf(t),r>=0?n=r+q.length:(n=q.length+e.length,e.push(t)),n}function bt(t,e,n){const r={};for(let o=0;o<t.length;o+=1){const i=t[o];let a=e[i.name];void 0===a||it(a,i.value)||("SID"===i.type&&(a=vt(a,n)),r[i.op]={name:i.name,type:i.type,value:a})}return r}function xt(t,e){const n=new C.Record("Top DICT",[{name:"dict",type:"DICT",value:{}}]);return n.dict=bt(pt,t,e),n}function wt(t){const e=new C.Record("Top DICT INDEX",[{name:"topDicts",type:"INDEX",value:[]}]);return e.topDicts=[{name:"topDict_0",type:"TABLE",value:t}],e}function St(t){const e=[],n=t.path;e.push({name:"width",type:"NUMBER",value:t.advanceWidth});let r=0,o=0;for(let t=0;t<n.commands.length;t+=1){let i,a,s=n.commands[t];if("Q"===s.type){const t=1/3,e=2/3;s={type:"C",x:s.x,y:s.y,x1:t*r+e*s.x1,y1:t*o+e*s.y1,x2:t*s.x+e*s.x1,y2:t*s.y+e*s.y1}}if("M"===s.type)i=Math.round(s.x-r),a=Math.round(s.y-o),e.push({name:"dx",type:"NUMBER",value:i}),e.push({name:"dy",type:"NUMBER",value:a}),e.push({name:"rmoveto",type:"OP",value:21}),r=Math.round(s.x),o=Math.round(s.y);else if("L"===s.type)i=Math.round(s.x-r),a=Math.round(s.y-o),e.push({name:"dx",type:"NUMBER",value:i}),e.push({name:"dy",type:"NUMBER",value:a}),e.push({name:"rlineto",type:"OP",value:5}),r=Math.round(s.x),o=Math.round(s.y);else if("C"===s.type){const t=Math.round(s.x1-r),n=Math.round(s.y1-o),u=Math.round(s.x2-s.x1),c=Math.round(s.y2-s.y1);i=Math.round(s.x-s.x2),a=Math.round(s.y-s.y2),e.push({name:"dx1",type:"NUMBER",value:t}),e.push({name:"dy1",type:"NUMBER",value:n}),e.push({name:"dx2",type:"NUMBER",value:u}),e.push({name:"dy2",type:"NUMBER",value:c}),e.push({name:"dx",type:"NUMBER",value:i}),e.push({name:"dy",type:"NUMBER",value:a}),e.push({name:"rrcurveto",type:"OP",value:8}),r=Math.round(s.x),o=Math.round(s.y)}}return e.push({name:"endchar",type:"OP",value:14}),e}var Mt={parse:function(t,e,n,r){n.tables.cff={};const o=function(t,e){const n={};return n.formatMajor=G.getCard8(t,e),n.formatMinor=G.getCard8(t,e+1),n.size=G.getCard8(t,e+2),n.offsetSize=G.getCard8(t,e+3),n.startOffset=e,n.endOffset=e+4,n}(t,e),i=st(t,o.endOffset,G.bytesToString),a=st(t,i.endOffset),s=st(t,a.endOffset,G.bytesToString),u=st(t,s.endOffset);n.gsubrs=u.objects,n.gsubrsBias=at(n.gsubrs);const c=gt(t,e,a.objects,s.objects);if(1!==c.length)throw new Error("CFF table has too many fonts in 'FontSet' - count of fonts NameIndex.length = "+c.length);const f=c[0];if(n.tables.cff.topDict=f,f._privateDict&&(n.defaultWidthX=f._privateDict.defaultWidthX,n.nominalWidthX=f._privateDict.nominalWidthX),void 0!==f.ros[0]&&void 0!==f.ros[1]&&(n.isCIDFont=!0),n.isCIDFont){let r=f.fdArray,o=f.fdSelect;if(0===r||0===o)throw new Error("Font is marked as a CID font, but FDArray and/or FDSelect information is missing");r+=e;const i=st(t,r),a=gt(t,e,i.objects,s.objects);f._fdArray=a,o+=e,f._fdSelect=function(t,e,n,r){const o=[];let i;const a=new G.Parser(t,e),s=a.parseCard8();if(0===s)for(let t=0;t<n;t++){if(i=a.parseCard8(),i>=r)throw new Error("CFF table CID Font FDSelect has bad FD index value "+i+" (FD count "+r+")");o.push(i)}else{if(3!==s)throw new Error("CFF Table CID Font FDSelect table has unsupported format "+s);{const t=a.parseCard16();let e,s=a.parseCard16();if(0!==s)throw new Error("CFF Table CID Font FDSelect format 3 range has bad initial GID "+s);for(let u=0;u<t;u++){if(i=a.parseCard8(),e=a.parseCard16(),i>=r)throw new Error("CFF table CID Font FDSelect has bad FD index value "+i+" (FD count "+r+")");if(e>n)throw new Error("CFF Table CID Font FDSelect format 3 range has bad GID "+e);for(;s<e;s++)o.push(i);s=e}if(e!==n)throw new Error("CFF Table CID Font FDSelect format 3 range has bad final GID "+e)}}return o}(t,o,n.numGlyphs,a.length)}const l=e+f.private[1],p=mt(t,l,f.private[0],s.objects);if(n.defaultWidthX=p.defaultWidthX,n.nominalWidthX=p.nominalWidthX,0!==p.subrs){const e=l+p.subrs,r=st(t,e);n.subrs=r.objects,n.subrsBias=at(n.subrs)}else n.subrs=[],n.subrsBias=0;let h;r.lowMemory?(h=function(t,e){const n=[],r=G.getCard16(t,e);let o,i;if(0!==r){const a=G.getByte(t,e+2);o=e+(r+1)*a+2;let s=e+3;for(let e=0;e<r+1;e+=1)n.push(G.getOffset(t,s,a)),s+=a;i=o+n[r]}else i=e+2;return{offsets:n,startOffset:e,endOffset:i}}(t,e+f.charStrings),n.nGlyphs=h.offsets.length):(h=st(t,e+f.charStrings),n.nGlyphs=h.objects.length);const d=function(t,e,n,r){let o,i;const a=new G.Parser(t,e);n-=1;const s=[".notdef"],u=a.parseCard8();if(0===u)for(let t=0;t<n;t+=1)o=a.parseSID(),s.push(ft(r,o));else if(1===u)for(;s.length<=n;){o=a.parseSID(),i=a.parseCard8();for(let t=0;t<=i;t+=1)s.push(ft(r,o)),o+=1}else{if(2!==u)throw new Error("Unknown charset format "+u);for(;s.length<=n;){o=a.parseSID(),i=a.parseCard16();for(let t=0;t<=i;t+=1)s.push(ft(r,o)),o+=1}}return s}(t,e+f.charset,n.nGlyphs,s.objects);if(0===f.encoding?n.cffEncoding=new Q(Y,d):1===f.encoding?n.cffEncoding=new Q(W,d):n.cffEncoding=function(t,e,n){let r;const o={},i=new G.Parser(t,e),a=i.parseCard8();if(0===a){const t=i.parseCard8();for(let e=0;e<t;e+=1)r=i.parseCard8(),o[r]=e}else{if(1!==a)throw new Error("Unknown encoding format "+a);{const t=i.parseCard8();r=1;for(let e=0;e<t;e+=1){const t=i.parseCard8(),e=i.parseCard8();for(let n=t;n<=t+e;n+=1)o[n]=r,r+=1}}}return new Q(o,n)}(t,e+f.encoding,d),n.encoding=n.encoding||n.cffEncoding,n.glyphs=new ot.GlyphSet(n),r.lowMemory)n._push=function(r){const o=function(t,e,n,r,o){const i=G.getCard16(n,r);let a=0;if(0!==i){a=r+(i+1)*G.getByte(n,r+2)+2}let s=G.getBytes(n,a+e[t],a+e[t+1]);return o&&(s=o(s)),s}(r,h.offsets,t,e+f.charStrings);n.glyphs.push(r,ot.cffGlyphLoader(n,r,yt,o))};else for(let t=0;t<n.nGlyphs;t+=1){const e=h.objects[t];n.glyphs.push(t,ot.cffGlyphLoader(n,t,yt,e))}},make:function(t,e){const n=new C.Table("CFF ",[{name:"header",type:"RECORD"},{name:"nameIndex",type:"RECORD"},{name:"topDictIndex",type:"RECORD"},{name:"stringIndex",type:"RECORD"},{name:"globalSubrIndex",type:"RECORD"},{name:"charsets",type:"RECORD"},{name:"charStringsIndex",type:"RECORD"},{name:"privateDict",type:"RECORD"}]),r=1/e.unitsPerEm,o={version:e.version,fullName:e.fullName,familyName:e.familyName,weight:e.weightName,fontBBox:e.fontBBox||[0,0,0,0],fontMatrix:[r,0,0,r,0,0],charset:999,encoding:0,charStrings:999,private:[0,999]},i=[];let a;for(let e=1;e<t.length;e+=1)a=t.get(e),i.push(a.name);const s=[];n.header=new C.Record("Header",[{name:"major",type:"Card8",value:1},{name:"minor",type:"Card8",value:0},{name:"hdrSize",type:"Card8",value:4},{name:"major",type:"Card8",value:1}]),n.nameIndex=function(t){const e=new C.Record("Name INDEX",[{name:"names",type:"INDEX",value:[]}]);e.names=[];for(let n=0;n<t.length;n+=1)e.names.push({name:"name_"+n,type:"NAME",value:t[n]});return e}([e.postScriptName]);let u=xt(o,s);n.topDictIndex=wt(u),n.globalSubrIndex=new C.Record("Global Subr INDEX",[{name:"subrs",type:"INDEX",value:[]}]),n.charsets=function(t,e){const n=new C.Record("Charsets",[{name:"format",type:"Card8",value:0}]);for(let r=0;r<t.length;r+=1){const o=vt(t[r],e);n.fields.push({name:"glyph_"+r,type:"SID",value:o})}return n}(i,s),n.charStringsIndex=function(t){const e=new C.Record("CharStrings INDEX",[{name:"charStrings",type:"INDEX",value:[]}]);for(let n=0;n<t.length;n+=1){const r=t.get(n),o=St(r);e.charStrings.push({name:r.name,type:"CHARSTRING",value:o})}return e}(t),n.privateDict=function(t,e){const n=new C.Record("Private DICT",[{name:"dict",type:"DICT",value:{}}]);return n.dict=bt(ht,t,e),n}({},s),n.stringIndex=function(t){const e=new C.Record("String INDEX",[{name:"strings",type:"INDEX",value:[]}]);e.strings=[];for(let n=0;n<t.length;n+=1)e.strings.push({name:"string_"+n,type:"STRING",value:t[n]});return e}(s);const c=n.header.sizeOf()+n.nameIndex.sizeOf()+n.topDictIndex.sizeOf()+n.stringIndex.sizeOf()+n.globalSubrIndex.sizeOf();return o.charset=c,o.encoding=0,o.charStrings=o.charset+n.charsets.sizeOf(),o.private[1]=o.charStrings+n.charStringsIndex.sizeOf(),u=xt(o,s),n.topDictIndex=wt(u),n}};var kt={parse:function(t,e){const n={},r=new G.Parser(t,e);return n.version=r.parseVersion(),n.fontRevision=Math.round(1e3*r.parseFixed())/1e3,n.checkSumAdjustment=r.parseULong(),n.magicNumber=r.parseULong(),p.argument(1594834165===n.magicNumber,"Font header has wrong magic number."),n.flags=r.parseUShort(),n.unitsPerEm=r.parseUShort(),n.created=r.parseLongDateTime(),n.modified=r.parseLongDateTime(),n.xMin=r.parseShort(),n.yMin=r.parseShort(),n.xMax=r.parseShort(),n.yMax=r.parseShort(),n.macStyle=r.parseUShort(),n.lowestRecPPEM=r.parseUShort(),n.fontDirectionHint=r.parseShort(),n.indexToLocFormat=r.parseShort(),n.glyphDataFormat=r.parseShort(),n},make:function(t){const e=Math.round((new Date).getTime()/1e3)+2082844800;let n=e;return t.createdTimestamp&&(n=t.createdTimestamp+2082844800),new C.Table("head",[{name:"version",type:"FIXED",value:65536},{name:"fontRevision",type:"FIXED",value:65536},{name:"checkSumAdjustment",type:"ULONG",value:0},{name:"magicNumber",type:"ULONG",value:1594834165},{name:"flags",type:"USHORT",value:0},{name:"unitsPerEm",type:"USHORT",value:1e3},{name:"created",type:"LONGDATETIME",value:n},{name:"modified",type:"LONGDATETIME",value:e},{name:"xMin",type:"SHORT",value:0},{name:"yMin",type:"SHORT",value:0},{name:"xMax",type:"SHORT",value:0},{name:"yMax",type:"SHORT",value:0},{name:"macStyle",type:"USHORT",value:0},{name:"lowestRecPPEM",type:"USHORT",value:0},{name:"fontDirectionHint",type:"SHORT",value:2},{name:"indexToLocFormat",type:"SHORT",value:0},{name:"glyphDataFormat",type:"SHORT",value:0}],t)}};var Tt={parse:function(t,e){const n={},r=new G.Parser(t,e);return n.version=r.parseVersion(),n.ascender=r.parseShort(),n.descender=r.parseShort(),n.lineGap=r.parseShort(),n.advanceWidthMax=r.parseUShort(),n.minLeftSideBearing=r.parseShort(),n.minRightSideBearing=r.parseShort(),n.xMaxExtent=r.parseShort(),n.caretSlopeRise=r.parseShort(),n.caretSlopeRun=r.parseShort(),n.caretOffset=r.parseShort(),r.relativeOffset+=8,n.metricDataFormat=r.parseShort(),n.numberOfHMetrics=r.parseUShort(),n},make:function(t){return new C.Table("hhea",[{name:"version",type:"FIXED",value:65536},{name:"ascender",type:"FWORD",value:0},{name:"descender",type:"FWORD",value:0},{name:"lineGap",type:"FWORD",value:0},{name:"advanceWidthMax",type:"UFWORD",value:0},{name:"minLeftSideBearing",type:"FWORD",value:0},{name:"minRightSideBearing",type:"FWORD",value:0},{name:"xMaxExtent",type:"FWORD",value:0},{name:"caretSlopeRise",type:"SHORT",value:1},{name:"caretSlopeRun",type:"SHORT",value:0},{name:"caretOffset",type:"SHORT",value:0},{name:"reserved1",type:"SHORT",value:0},{name:"reserved2",type:"SHORT",value:0},{name:"reserved3",type:"SHORT",value:0},{name:"reserved4",type:"SHORT",value:0},{name:"metricDataFormat",type:"SHORT",value:0},{name:"numberOfHMetrics",type:"USHORT",value:0}],t)}};var Et={parse:function(t,e,n,r,o,i,a){a.lowMemory?function(t,e,n,r,o){let i,a;t._hmtxTableData={};const s=new G.Parser(e,n);for(let e=0;e<o;e+=1)e<r&&(i=s.parseUShort(),a=s.parseShort()),t._hmtxTableData[e]={advanceWidth:i,leftSideBearing:a}}(t,e,n,r,o):function(t,e,n,r,o){let i,a;const s=new G.Parser(t,e);for(let t=0;t<r;t+=1){t<n&&(i=s.parseUShort(),a=s.parseShort());const e=o.get(t);e.advanceWidth=i,e.leftSideBearing=a}}(e,n,r,o,i)},make:function(t){const e=new C.Table("hmtx",[]);for(let n=0;n<t.length;n+=1){const r=t.get(n),o=r.advanceWidth||0,i=r.leftSideBearing||0;e.fields.push({name:"advanceWidth_"+n,type:"USHORT",value:o}),e.fields.push({name:"leftSideBearing_"+n,type:"SHORT",value:i})}return e}};var At={make:function(t){const e=new C.Table("ltag",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"numTags",type:"ULONG",value:t.length}]);let n="";const r=12+4*t.length;for(let o=0;o<t.length;++o){let i=n.indexOf(t[o]);i<0&&(i=n.length,n+=t[o]),e.fields.push({name:"offset "+o,type:"USHORT",value:r+i}),e.fields.push({name:"length "+o,type:"USHORT",value:t[o].length})}return e.fields.push({name:"stringPool",type:"CHARARRAY",value:n}),e},parse:function(t,e){const n=new G.Parser(t,e),r=n.parseULong();p.argument(1===r,"Unsupported ltag table version."),n.skip("uLong",1);const o=n.parseULong(),i=[];for(let r=0;r<o;r++){let r="";const o=e+n.parseUShort(),a=n.parseUShort();for(let e=o;e<o+a;++e)r+=String.fromCharCode(t.getInt8(e));i.push(r)}return i}};var Ot={parse:function(t,e){const n={},r=new G.Parser(t,e);return n.version=r.parseVersion(),n.numGlyphs=r.parseUShort(),1===n.version&&(n.maxPoints=r.parseUShort(),n.maxContours=r.parseUShort(),n.maxCompositePoints=r.parseUShort(),n.maxCompositeContours=r.parseUShort(),n.maxZones=r.parseUShort(),n.maxTwilightPoints=r.parseUShort(),n.maxStorage=r.parseUShort(),n.maxFunctionDefs=r.parseUShort(),n.maxInstructionDefs=r.parseUShort(),n.maxStackElements=r.parseUShort(),n.maxSizeOfInstructions=r.parseUShort(),n.maxComponentElements=r.parseUShort(),n.maxComponentDepth=r.parseUShort()),n},make:function(t){return new C.Table("maxp",[{name:"version",type:"FIXED",value:20480},{name:"numGlyphs",type:"USHORT",value:t}])}};const Rt=["copyright","fontFamily","fontSubfamily","uniqueID","fullName","version","postScriptName","trademark","manufacturer","designer","description","manufacturerURL","designerURL","license","licenseURL","reserved","preferredFamily","preferredSubfamily","compatibleFullName","sampleText","postScriptFindFontName","wwsFamily","wwsSubfamily"],Ut={0:"en",1:"fr",2:"de",3:"it",4:"nl",5:"sv",6:"es",7:"da",8:"pt",9:"no",10:"he",11:"ja",12:"ar",13:"fi",14:"el",15:"is",16:"mt",17:"tr",18:"hr",19:"zh-Hant",20:"ur",21:"hi",22:"th",23:"ko",24:"lt",25:"pl",26:"hu",27:"es",28:"lv",29:"se",30:"fo",31:"fa",32:"ru",33:"zh",34:"nl-BE",35:"ga",36:"sq",37:"ro",38:"cz",39:"sk",40:"si",41:"yi",42:"sr",43:"mk",44:"bg",45:"uk",46:"be",47:"uz",48:"kk",49:"az-Cyrl",50:"az-Arab",51:"hy",52:"ka",53:"mo",54:"ky",55:"tg",56:"tk",57:"mn-CN",58:"mn",59:"ps",60:"ks",61:"ku",62:"sd",63:"bo",64:"ne",65:"sa",66:"mr",67:"bn",68:"as",69:"gu",70:"pa",71:"or",72:"ml",73:"kn",74:"ta",75:"te",76:"si",77:"my",78:"km",79:"lo",80:"vi",81:"id",82:"tl",83:"ms",84:"ms-Arab",85:"am",86:"ti",87:"om",88:"so",89:"sw",90:"rw",91:"rn",92:"ny",93:"mg",94:"eo",128:"cy",129:"eu",130:"ca",131:"la",132:"qu",133:"gn",134:"ay",135:"tt",136:"ug",137:"dz",138:"jv",139:"su",140:"gl",141:"af",142:"br",143:"iu",144:"gd",145:"gv",146:"ga",147:"to",148:"el-polyton",149:"kl",150:"az",151:"nn"},_t={0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:5,11:1,12:4,13:0,14:6,15:0,16:0,17:0,18:0,19:2,20:4,21:9,22:21,23:3,24:29,25:29,26:29,27:29,28:29,29:0,30:0,31:4,32:7,33:25,34:0,35:0,36:0,37:0,38:29,39:29,40:0,41:5,42:7,43:7,44:7,45:7,46:7,47:7,48:7,49:7,50:4,51:24,52:23,53:7,54:7,55:7,56:7,57:27,58:7,59:4,60:4,61:4,62:4,63:26,64:9,65:9,66:9,67:13,68:13,69:11,70:10,71:12,72:17,73:16,74:14,75:15,76:18,77:19,78:20,79:22,80:30,81:0,82:0,83:0,84:4,85:28,86:28,87:28,88:0,89:0,90:0,91:0,92:0,93:0,94:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:7,136:4,137:26,138:0,139:0,140:0,141:0,142:0,143:28,144:0,145:0,146:0,147:0,148:6,149:0,150:0,151:0},Dt={1078:"af",1052:"sq",1156:"gsw",1118:"am",5121:"ar-DZ",15361:"ar-BH",3073:"ar",2049:"ar-IQ",11265:"ar-JO",13313:"ar-KW",12289:"ar-LB",4097:"ar-LY",6145:"ary",8193:"ar-OM",16385:"ar-QA",1025:"ar-SA",10241:"ar-SY",7169:"aeb",14337:"ar-AE",9217:"ar-YE",1067:"hy",1101:"as",2092:"az-Cyrl",1068:"az",1133:"ba",1069:"eu",1059:"be",2117:"bn",1093:"bn-IN",8218:"bs-Cyrl",5146:"bs",1150:"br",1026:"bg",1027:"ca",3076:"zh-HK",5124:"zh-MO",2052:"zh",4100:"zh-SG",1028:"zh-TW",1155:"co",1050:"hr",4122:"hr-BA",1029:"cs",1030:"da",1164:"prs",1125:"dv",2067:"nl-BE",1043:"nl",3081:"en-AU",10249:"en-BZ",4105:"en-CA",9225:"en-029",16393:"en-IN",6153:"en-IE",8201:"en-JM",17417:"en-MY",5129:"en-NZ",13321:"en-PH",18441:"en-SG",7177:"en-ZA",11273:"en-TT",2057:"en-GB",1033:"en",12297:"en-ZW",1061:"et",1080:"fo",1124:"fil",1035:"fi",2060:"fr-BE",3084:"fr-CA",1036:"fr",5132:"fr-LU",6156:"fr-MC",4108:"fr-CH",1122:"fy",1110:"gl",1079:"ka",3079:"de-AT",1031:"de",5127:"de-LI",4103:"de-LU",2055:"de-CH",1032:"el",1135:"kl",1095:"gu",1128:"ha",1037:"he",1081:"hi",1038:"hu",1039:"is",1136:"ig",1057:"id",1117:"iu",2141:"iu-Latn",2108:"ga",1076:"xh",1077:"zu",1040:"it",2064:"it-CH",1041:"ja",1099:"kn",1087:"kk",1107:"km",1158:"quc",1159:"rw",1089:"sw",1111:"kok",1042:"ko",1088:"ky",1108:"lo",1062:"lv",1063:"lt",2094:"dsb",1134:"lb",1071:"mk",2110:"ms-BN",1086:"ms",1100:"ml",1082:"mt",1153:"mi",1146:"arn",1102:"mr",1148:"moh",1104:"mn",2128:"mn-CN",1121:"ne",1044:"nb",2068:"nn",1154:"oc",1096:"or",1123:"ps",1045:"pl",1046:"pt",2070:"pt-PT",1094:"pa",1131:"qu-BO",2155:"qu-EC",3179:"qu",1048:"ro",1047:"rm",1049:"ru",9275:"smn",4155:"smj-NO",5179:"smj",3131:"se-FI",1083:"se",2107:"se-SE",8251:"sms",6203:"sma-NO",7227:"sms",1103:"sa",7194:"sr-Cyrl-BA",3098:"sr",6170:"sr-Latn-BA",2074:"sr-Latn",1132:"nso",1074:"tn",1115:"si",1051:"sk",1060:"sl",11274:"es-AR",16394:"es-BO",13322:"es-CL",9226:"es-CO",5130:"es-CR",7178:"es-DO",12298:"es-EC",17418:"es-SV",4106:"es-GT",18442:"es-HN",2058:"es-MX",19466:"es-NI",6154:"es-PA",15370:"es-PY",10250:"es-PE",20490:"es-PR",3082:"es",1034:"es",21514:"es-US",14346:"es-UY",8202:"es-VE",2077:"sv-FI",1053:"sv",1114:"syr",1064:"tg",2143:"tzm",1097:"ta",1092:"tt",1098:"te",1054:"th",1105:"bo",1055:"tr",1090:"tk",1152:"ug",1058:"uk",1070:"hsb",1056:"ur",2115:"uz-Cyrl",1091:"uz",1066:"vi",1106:"cy",1160:"wo",1157:"sah",1144:"ii",1130:"yo"};function Ct(t,e,n){switch(t){case 0:if(65535===e)return"und";if(n)return n[e];break;case 1:return Ut[e];case 3:return Dt[e]}}const Lt={0:"macintosh",1:"x-mac-japanese",2:"x-mac-chinesetrad",3:"x-mac-korean",6:"x-mac-greek",7:"x-mac-cyrillic",9:"x-mac-devanagai",10:"x-mac-gurmukhi",11:"x-mac-gujarati",12:"x-mac-oriya",13:"x-mac-bengali",14:"x-mac-tamil",15:"x-mac-telugu",16:"x-mac-kannada",17:"x-mac-malayalam",18:"x-mac-sinhalese",19:"x-mac-burmese",20:"x-mac-khmer",21:"x-mac-thai",22:"x-mac-lao",23:"x-mac-georgian",24:"x-mac-armenian",25:"x-mac-chinesesimp",26:"x-mac-tibetan",27:"x-mac-mongolian",28:"x-mac-ethiopic",29:"x-mac-ce",30:"x-mac-vietnamese",31:"x-mac-extarabic"},It={15:"x-mac-icelandic",17:"x-mac-turkish",18:"x-mac-croatian",24:"x-mac-ce",25:"x-mac-ce",26:"x-mac-ce",27:"x-mac-ce",28:"x-mac-ce",30:"x-mac-icelandic",37:"x-mac-romanian",38:"x-mac-ce",39:"x-mac-ce",40:"x-mac-ce",143:"x-mac-inuit",146:"x-mac-gaelic"};function Pt(t,e,n){switch(t){case 0:return"utf-16";case 1:return It[n]||Lt[e];case 3:if(1===e||10===e)return"utf-16"}}function Ft(t){const e={};for(let n in t)e[t[n]]=parseInt(n);return e}function Bt(t,e,n,r,o,i){return new C.Record("NameRecord",[{name:"platformID",type:"USHORT",value:t},{name:"encodingID",type:"USHORT",value:e},{name:"languageID",type:"USHORT",value:n},{name:"nameID",type:"USHORT",value:r},{name:"length",type:"USHORT",value:o},{name:"offset",type:"USHORT",value:i}])}function Nt(t,e){let n=function(t,e){const n=t.length,r=e.length-n+1;t:for(let o=0;o<r;o++)for(;o<r;o++){for(let r=0;r<n;r++)if(e[o+r]!==t[r])continue t;return o}return-1}(t,e);if(n<0){n=e.length;let r=0;const o=t.length;for(;r<o;++r)e.push(t[r])}return n}var jt={parse:function(t,e,n){const r={},o=new G.Parser(t,e),i=o.parseUShort(),a=o.parseUShort(),s=o.offset+o.parseUShort();for(let e=0;e<a;e++){const e=o.parseUShort(),i=o.parseUShort(),a=o.parseUShort(),u=o.parseUShort(),c=Rt[u]||u,f=o.parseUShort(),l=o.parseUShort(),p=Ct(e,a,n),d=Pt(e,i,a);if(void 0!==d&&void 0!==p){let e;if(e="utf-16"===d?h.UTF16(t,s+l,f):h.MACSTRING(t,s+l,f,d),e){let t=r[c];void 0===t&&(t=r[c]={}),t[p]=e}}}let u=0;return 1===i&&(u=o.parseUShort()),r},make:function(t,e){let n;const r=[],o={},i=Ft(Rt);for(let e in t){let a=i[e];if(void 0===a&&(a=e),n=parseInt(a),isNaN(n))throw new Error('Name table entry "'+e+'" does not exist, see nameTableNames for complete list.');o[n]=t[e],r.push(n)}const a=Ft(Ut),s=Ft(Dt),u=[],c=[];for(let t=0;t<r.length;t++){n=r[t];const i=o[n];for(let t in i){const r=i[t];let o=1,f=a[t],l=_t[f];const p=Pt(o,l,f);let h=d.MACSTRING(r,p);void 0===h&&(o=0,f=e.indexOf(t),f<0&&(f=e.length,e.push(t)),l=4,h=d.UTF16(r));const m=Nt(h,c);u.push(Bt(o,l,f,n,h.length,m));const g=s[t];if(void 0!==g){const t=d.UTF16(r),e=Nt(t,c);u.push(Bt(3,1,g,n,t.length,e))}}}u.sort((function(t,e){return t.platformID-e.platformID||t.encodingID-e.encodingID||t.languageID-e.languageID||t.nameID-e.nameID}));const f=new C.Table("name",[{name:"format",type:"USHORT",value:0},{name:"count",type:"USHORT",value:u.length},{name:"stringOffset",type:"USHORT",value:6+12*u.length}]);for(let t=0;t<u.length;t++)f.fields.push({name:"record_"+t,type:"RECORD",value:u[t]});return f.fields.push({name:"strings",type:"LITERAL",value:c}),f}};const Gt=[{begin:0,end:127},{begin:128,end:255},{begin:256,end:383},{begin:384,end:591},{begin:592,end:687},{begin:688,end:767},{begin:768,end:879},{begin:880,end:1023},{begin:11392,end:11519},{begin:1024,end:1279},{begin:1328,end:1423},{begin:1424,end:1535},{begin:42240,end:42559},{begin:1536,end:1791},{begin:1984,end:2047},{begin:2304,end:2431},{begin:2432,end:2559},{begin:2560,end:2687},{begin:2688,end:2815},{begin:2816,end:2943},{begin:2944,end:3071},{begin:3072,end:3199},{begin:3200,end:3327},{begin:3328,end:3455},{begin:3584,end:3711},{begin:3712,end:3839},{begin:4256,end:4351},{begin:6912,end:7039},{begin:4352,end:4607},{begin:7680,end:7935},{begin:7936,end:8191},{begin:8192,end:8303},{begin:8304,end:8351},{begin:8352,end:8399},{begin:8400,end:8447},{begin:8448,end:8527},{begin:8528,end:8591},{begin:8592,end:8703},{begin:8704,end:8959},{begin:8960,end:9215},{begin:9216,end:9279},{begin:9280,end:9311},{begin:9312,end:9471},{begin:9472,end:9599},{begin:9600,end:9631},{begin:9632,end:9727},{begin:9728,end:9983},{begin:9984,end:10175},{begin:12288,end:12351},{begin:12352,end:12447},{begin:12448,end:12543},{begin:12544,end:12591},{begin:12592,end:12687},{begin:43072,end:43135},{begin:12800,end:13055},{begin:13056,end:13311},{begin:44032,end:55215},{begin:55296,end:57343},{begin:67840,end:67871},{begin:19968,end:40959},{begin:57344,end:63743},{begin:12736,end:12783},{begin:64256,end:64335},{begin:64336,end:65023},{begin:65056,end:65071},{begin:65040,end:65055},{begin:65104,end:65135},{begin:65136,end:65279},{begin:65280,end:65519},{begin:65520,end:65535},{begin:3840,end:4095},{begin:1792,end:1871},{begin:1920,end:1983},{begin:3456,end:3583},{begin:4096,end:4255},{begin:4608,end:4991},{begin:5024,end:5119},{begin:5120,end:5759},{begin:5760,end:5791},{begin:5792,end:5887},{begin:6016,end:6143},{begin:6144,end:6319},{begin:10240,end:10495},{begin:40960,end:42127},{begin:5888,end:5919},{begin:66304,end:66351},{begin:66352,end:66383},{begin:66560,end:66639},{begin:118784,end:119039},{begin:119808,end:120831},{begin:1044480,end:1048573},{begin:65024,end:65039},{begin:917504,end:917631},{begin:6400,end:6479},{begin:6480,end:6527},{begin:6528,end:6623},{begin:6656,end:6687},{begin:11264,end:11359},{begin:11568,end:11647},{begin:19904,end:19967},{begin:43008,end:43055},{begin:65536,end:65663},{begin:65856,end:65935},{begin:66432,end:66463},{begin:66464,end:66527},{begin:66640,end:66687},{begin:66688,end:66735},{begin:67584,end:67647},{begin:68096,end:68191},{begin:119552,end:119647},{begin:73728,end:74751},{begin:119648,end:119679},{begin:7040,end:7103},{begin:7168,end:7247},{begin:7248,end:7295},{begin:43136,end:43231},{begin:43264,end:43311},{begin:43312,end:43359},{begin:43520,end:43615},{begin:65936,end:65999},{begin:66e3,end:66047},{begin:66208,end:66271},{begin:127024,end:127135}];var zt={parse:function(t,e){const n={},r=new G.Parser(t,e);n.version=r.parseUShort(),n.xAvgCharWidth=r.parseShort(),n.usWeightClass=r.parseUShort(),n.usWidthClass=r.parseUShort(),n.fsType=r.parseUShort(),n.ySubscriptXSize=r.parseShort(),n.ySubscriptYSize=r.parseShort(),n.ySubscriptXOffset=r.parseShort(),n.ySubscriptYOffset=r.parseShort(),n.ySuperscriptXSize=r.parseShort(),n.ySuperscriptYSize=r.parseShort(),n.ySuperscriptXOffset=r.parseShort(),n.ySuperscriptYOffset=r.parseShort(),n.yStrikeoutSize=r.parseShort(),n.yStrikeoutPosition=r.parseShort(),n.sFamilyClass=r.parseShort(),n.panose=[];for(let t=0;t<10;t++)n.panose[t]=r.parseByte();return n.ulUnicodeRange1=r.parseULong(),n.ulUnicodeRange2=r.parseULong(),n.ulUnicodeRange3=r.parseULong(),n.ulUnicodeRange4=r.parseULong(),n.achVendID=String.fromCharCode(r.parseByte(),r.parseByte(),r.parseByte(),r.parseByte()),n.fsSelection=r.parseUShort(),n.usFirstCharIndex=r.parseUShort(),n.usLastCharIndex=r.parseUShort(),n.sTypoAscender=r.parseShort(),n.sTypoDescender=r.parseShort(),n.sTypoLineGap=r.parseShort(),n.usWinAscent=r.parseUShort(),n.usWinDescent=r.parseUShort(),n.version>=1&&(n.ulCodePageRange1=r.parseULong(),n.ulCodePageRange2=r.parseULong()),n.version>=2&&(n.sxHeight=r.parseShort(),n.sCapHeight=r.parseShort(),n.usDefaultChar=r.parseUShort(),n.usBreakChar=r.parseUShort(),n.usMaxContent=r.parseUShort()),n},make:function(t){return new C.Table("OS/2",[{name:"version",type:"USHORT",value:3},{name:"xAvgCharWidth",type:"SHORT",value:0},{name:"usWeightClass",type:"USHORT",value:0},{name:"usWidthClass",type:"USHORT",value:0},{name:"fsType",type:"USHORT",value:0},{name:"ySubscriptXSize",type:"SHORT",value:650},{name:"ySubscriptYSize",type:"SHORT",value:699},{name:"ySubscriptXOffset",type:"SHORT",value:0},{name:"ySubscriptYOffset",type:"SHORT",value:140},{name:"ySuperscriptXSize",type:"SHORT",value:650},{name:"ySuperscriptYSize",type:"SHORT",value:699},{name:"ySuperscriptXOffset",type:"SHORT",value:0},{name:"ySuperscriptYOffset",type:"SHORT",value:479},{name:"yStrikeoutSize",type:"SHORT",value:49},{name:"yStrikeoutPosition",type:"SHORT",value:258},{name:"sFamilyClass",type:"SHORT",value:0},{name:"bFamilyType",type:"BYTE",value:0},{name:"bSerifStyle",type:"BYTE",value:0},{name:"bWeight",type:"BYTE",value:0},{name:"bProportion",type:"BYTE",value:0},{name:"bContrast",type:"BYTE",value:0},{name:"bStrokeVariation",type:"BYTE",value:0},{name:"bArmStyle",type:"BYTE",value:0},{name:"bLetterform",type:"BYTE",value:0},{name:"bMidline",type:"BYTE",value:0},{name:"bXHeight",type:"BYTE",value:0},{name:"ulUnicodeRange1",type:"ULONG",value:0},{name:"ulUnicodeRange2",type:"ULONG",value:0},{name:"ulUnicodeRange3",type:"ULONG",value:0},{name:"ulUnicodeRange4",type:"ULONG",value:0},{name:"achVendID",type:"CHARARRAY",value:"XXXX"},{name:"fsSelection",type:"USHORT",value:0},{name:"usFirstCharIndex",type:"USHORT",value:0},{name:"usLastCharIndex",type:"USHORT",value:0},{name:"sTypoAscender",type:"SHORT",value:0},{name:"sTypoDescender",type:"SHORT",value:0},{name:"sTypoLineGap",type:"SHORT",value:0},{name:"usWinAscent",type:"USHORT",value:0},{name:"usWinDescent",type:"USHORT",value:0},{name:"ulCodePageRange1",type:"ULONG",value:0},{name:"ulCodePageRange2",type:"ULONG",value:0},{name:"sxHeight",type:"SHORT",value:0},{name:"sCapHeight",type:"SHORT",value:0},{name:"usDefaultChar",type:"USHORT",value:0},{name:"usBreakChar",type:"USHORT",value:0},{name:"usMaxContext",type:"USHORT",value:0}],t)},unicodeRanges:Gt,getUnicodeRange:function(t){for(let e=0;e<Gt.length;e+=1){const n=Gt[e];if(t>=n.begin&&t<n.end)return e}return-1}};var Ht={parse:function(t,e){const n={},r=new G.Parser(t,e);switch(n.version=r.parseVersion(),n.italicAngle=r.parseFixed(),n.underlinePosition=r.parseShort(),n.underlineThickness=r.parseShort(),n.isFixedPitch=r.parseULong(),n.minMemType42=r.parseULong(),n.maxMemType42=r.parseULong(),n.minMemType1=r.parseULong(),n.maxMemType1=r.parseULong(),n.version){case 1:n.names=V.slice();break;case 2:n.numberOfGlyphs=r.parseUShort(),n.glyphNameIndex=new Array(n.numberOfGlyphs);for(let t=0;t<n.numberOfGlyphs;t++)n.glyphNameIndex[t]=r.parseUShort();n.names=[];for(let t=0;t<n.numberOfGlyphs;t++)if(n.glyphNameIndex[t]>=V.length){const t=r.parseChar();n.names.push(r.parseString(t))}break;case 2.5:n.numberOfGlyphs=r.parseUShort(),n.offset=new Array(n.numberOfGlyphs);for(let t=0;t<n.numberOfGlyphs;t++)n.offset[t]=r.parseChar()}return n},make:function(){return new C.Table("post",[{name:"version",type:"FIXED",value:196608},{name:"italicAngle",type:"FIXED",value:0},{name:"underlinePosition",type:"FWORD",value:0},{name:"underlineThickness",type:"FWORD",value:0},{name:"isFixedPitch",type:"ULONG",value:0},{name:"minMemType42",type:"ULONG",value:0},{name:"maxMemType42",type:"ULONG",value:0},{name:"minMemType1",type:"ULONG",value:0},{name:"maxMemType1",type:"ULONG",value:0}])}};const qt=new Array(9);qt[1]=function(){const t=this.offset+this.relativeOffset,e=this.parseUShort();return 1===e?{substFormat:1,coverage:this.parsePointer(N.coverage),deltaGlyphId:this.parseUShort()}:2===e?{substFormat:2,coverage:this.parsePointer(N.coverage),substitute:this.parseOffset16List()}:void p.assert(!1,"0x"+t.toString(16)+": lookup type 1 format must be 1 or 2.")},qt[2]=function(){const t=this.parseUShort();return p.argument(1===t,"GSUB Multiple Substitution Subtable identifier-format must be 1"),{substFormat:t,coverage:this.parsePointer(N.coverage),sequences:this.parseListOfLists()}},qt[3]=function(){const t=this.parseUShort();return p.argument(1===t,"GSUB Alternate Substitution Subtable identifier-format must be 1"),{substFormat:t,coverage:this.parsePointer(N.coverage),alternateSets:this.parseListOfLists()}},qt[4]=function(){const t=this.parseUShort();return p.argument(1===t,"GSUB ligature table identifier-format must be 1"),{substFormat:t,coverage:this.parsePointer(N.coverage),ligatureSets:this.parseListOfLists((function(){return{ligGlyph:this.parseUShort(),components:this.parseUShortList(this.parseUShort()-1)}}))}};const Yt={sequenceIndex:N.uShort,lookupListIndex:N.uShort};qt[5]=function(){const t=this.offset+this.relativeOffset,e=this.parseUShort();if(1===e)return{substFormat:e,coverage:this.parsePointer(N.coverage),ruleSets:this.parseListOfLists((function(){const t=this.parseUShort(),e=this.parseUShort();return{input:this.parseUShortList(t-1),lookupRecords:this.parseRecordList(e,Yt)}}))};if(2===e)return{substFormat:e,coverage:this.parsePointer(N.coverage),classDef:this.parsePointer(N.classDef),classSets:this.parseListOfLists((function(){const t=this.parseUShort(),e=this.parseUShort();return{classes:this.parseUShortList(t-1),lookupRecords:this.parseRecordList(e,Yt)}}))};if(3===e){const t=this.parseUShort(),n=this.parseUShort();return{substFormat:e,coverages:this.parseList(t,N.pointer(N.coverage)),lookupRecords:this.parseRecordList(n,Yt)}}p.assert(!1,"0x"+t.toString(16)+": lookup type 5 format must be 1, 2 or 3.")},qt[6]=function(){const t=this.offset+this.relativeOffset,e=this.parseUShort();return 1===e?{substFormat:1,coverage:this.parsePointer(N.coverage),chainRuleSets:this.parseListOfLists((function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(Yt)}}))}:2===e?{substFormat:2,coverage:this.parsePointer(N.coverage),backtrackClassDef:this.parsePointer(N.classDef),inputClassDef:this.parsePointer(N.classDef),lookaheadClassDef:this.parsePointer(N.classDef),chainClassSet:this.parseListOfLists((function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(Yt)}}))}:3===e?{substFormat:3,backtrackCoverage:this.parseList(N.pointer(N.coverage)),inputCoverage:this.parseList(N.pointer(N.coverage)),lookaheadCoverage:this.parseList(N.pointer(N.coverage)),lookupRecords:this.parseRecordList(Yt)}:void p.assert(!1,"0x"+t.toString(16)+": lookup type 6 format must be 1, 2 or 3.")},qt[7]=function(){const t=this.parseUShort();p.argument(1===t,"GSUB Extension Substitution subtable identifier-format must be 1");const e=this.parseUShort(),n=new N(this.data,this.offset+this.parseULong());return{substFormat:1,lookupType:e,extension:qt[e].call(n)}},qt[8]=function(){const t=this.parseUShort();return p.argument(1===t,"GSUB Reverse Chaining Contextual Single Substitution Subtable identifier-format must be 1"),{substFormat:t,coverage:this.parsePointer(N.coverage),backtrackCoverage:this.parseList(N.pointer(N.coverage)),lookaheadCoverage:this.parseList(N.pointer(N.coverage)),substitutes:this.parseUShortList()}};const Wt=new Array(9);Wt[1]=function(t){return 1===t.substFormat?new C.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new C.Coverage(t.coverage)},{name:"deltaGlyphID",type:"USHORT",value:t.deltaGlyphId}]):new C.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:2},{name:"coverage",type:"TABLE",value:new C.Coverage(t.coverage)}].concat(C.ushortList("substitute",t.substitute)))},Wt[3]=function(t){return p.assert(1===t.substFormat,"Lookup type 3 substFormat must be 1."),new C.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new C.Coverage(t.coverage)}].concat(C.tableList("altSet",t.alternateSets,(function(t){return new C.Table("alternateSetTable",C.ushortList("alternate",t))}))))},Wt[4]=function(t){return p.assert(1===t.substFormat,"Lookup type 4 substFormat must be 1."),new C.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new C.Coverage(t.coverage)}].concat(C.tableList("ligSet",t.ligatureSets,(function(t){return new C.Table("ligatureSetTable",C.tableList("ligature",t,(function(t){return new C.Table("ligatureTable",[{name:"ligGlyph",type:"USHORT",value:t.ligGlyph}].concat(C.ushortList("component",t.components,t.components.length+1)))})))}))))};var Vt={parse:function(t,e){const n=new N(t,e=e||0),r=n.parseVersion(1);return p.argument(1===r||1.1===r,"Unsupported GSUB table version."),1===r?{version:r,scripts:n.parseScriptList(),features:n.parseFeatureList(),lookups:n.parseLookupList(qt)}:{version:r,scripts:n.parseScriptList(),features:n.parseFeatureList(),lookups:n.parseLookupList(qt),variations:n.parseFeatureVariationsList()}},make:function(t){return new C.Table("GSUB",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new C.ScriptList(t.scripts)},{name:"features",type:"TABLE",value:new C.FeatureList(t.features)},{name:"lookups",type:"TABLE",value:new C.LookupList(t.lookups,Wt)}])}};var Xt={parse:function(t,e){const n=new G.Parser(t,e),r=n.parseULong();p.argument(1===r,"Unsupported META table version."),n.parseULong(),n.parseULong();const o=n.parseULong(),i={};for(let r=0;r<o;r++){const r=n.parseTag(),o=n.parseULong(),a=n.parseULong(),s=h.UTF8(t,e+o,a);i[r]=s}return i},make:function(t){const e=Object.keys(t).length;let n="";const r=16+12*e,o=new C.Table("meta",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"offset",type:"ULONG",value:r},{name:"numTags",type:"ULONG",value:e}]);for(let e in t){const i=n.length;n+=t[e],o.fields.push({name:"tag "+e,type:"TAG",value:e}),o.fields.push({name:"offset "+e,type:"ULONG",value:r+i}),o.fields.push({name:"length "+e,type:"ULONG",value:t[e].length})}return o.fields.push({name:"stringPool",type:"CHARARRAY",value:n}),o}};function Zt(t){return Math.log(t)/Math.log(2)|0}function Qt(t){for(;t.length%4!=0;)t.push(0);let e=0;for(let n=0;n<t.length;n+=4)e+=(t[n]<<24)+(t[n+1]<<16)+(t[n+2]<<8)+t[n+3];return e%=Math.pow(2,32),e}function $t(t,e,n,r){return new C.Record("Table Record",[{name:"tag",type:"TAG",value:void 0!==t?t:""},{name:"checkSum",type:"ULONG",value:void 0!==e?e:0},{name:"offset",type:"ULONG",value:void 0!==n?n:0},{name:"length",type:"ULONG",value:void 0!==r?r:0}])}function Kt(t){const e=new C.Table("sfnt",[{name:"version",type:"TAG",value:"OTTO"},{name:"numTables",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]);e.tables=t,e.numTables=t.length;const n=Math.pow(2,Zt(e.numTables));e.searchRange=16*n,e.entrySelector=Zt(n),e.rangeShift=16*e.numTables-e.searchRange;const r=[],o=[];let i=e.sizeOf()+$t().sizeOf()*e.numTables;for(;i%4!=0;)i+=1,o.push({name:"padding",type:"BYTE",value:0});for(let e=0;e<t.length;e+=1){const n=t[e];p.argument(4===n.tableName.length,"Table name"+n.tableName+" is invalid.");const a=n.sizeOf(),s=$t(n.tableName,Qt(n.encode()),i,a);for(r.push({name:s.tag+" Table Record",type:"RECORD",value:s}),o.push({name:n.tableName+" table",type:"RECORD",value:n}),i+=a,p.argument(!isNaN(i),"Something went wrong calculating the offset.");i%4!=0;)i+=1,o.push({name:"padding",type:"BYTE",value:0})}return r.sort((function(t,e){return t.value.tag>e.value.tag?1:-1})),e.fields=e.fields.concat(r),e.fields=e.fields.concat(o),e}function Jt(t,e,n){for(let n=0;n<e.length;n+=1){const r=t.charToGlyphIndex(e[n]);if(r>0){return t.glyphs.get(r).getMetrics()}}return n}function te(t){let e=0;for(let n=0;n<t.length;n+=1)e+=t[n];return e/t.length}var ee={make:Kt,fontToTable:function(t){const e=[],n=[],r=[],o=[],i=[],a=[],s=[];let u,c=0,f=0,l=0,p=0,h=0;for(let d=0;d<t.glyphs.length;d+=1){const m=t.glyphs.get(d),g=0|m.unicode;if(isNaN(m.advanceWidth))throw new Error("Glyph "+m.name+" ("+d+"): advanceWidth is not a number.");(u>g||void 0===u)&&g>0&&(u=g),c<g&&(c=g);const y=zt.getUnicodeRange(g);if(y<32)f|=1<<y;else if(y<64)l|=1<<y-32;else if(y<96)p|=1<<y-64;else{if(!(y<123))throw new Error("Unicode ranges bits > 123 are reserved for internal usage");h|=1<<y-96}if(".notdef"===m.name)continue;const v=m.getMetrics();e.push(v.xMin),n.push(v.yMin),r.push(v.xMax),o.push(v.yMax),a.push(v.leftSideBearing),s.push(v.rightSideBearing),i.push(m.advanceWidth)}const d={xMin:Math.min.apply(null,e),yMin:Math.min.apply(null,n),xMax:Math.max.apply(null,r),yMax:Math.max.apply(null,o),advanceWidthMax:Math.max.apply(null,i),advanceWidthAvg:te(i),minLeftSideBearing:Math.min.apply(null,a),maxLeftSideBearing:Math.max.apply(null,a),minRightSideBearing:Math.min.apply(null,s)};d.ascender=t.ascender,d.descender=t.descender;const m=kt.make({flags:3,unitsPerEm:t.unitsPerEm,xMin:d.xMin,yMin:d.yMin,xMax:d.xMax,yMax:d.yMax,lowestRecPPEM:3,createdTimestamp:t.createdTimestamp}),g=Tt.make({ascender:d.ascender,descender:d.descender,advanceWidthMax:d.advanceWidthMax,minLeftSideBearing:d.minLeftSideBearing,minRightSideBearing:d.minRightSideBearing,xMaxExtent:d.maxLeftSideBearing+(d.xMax-d.xMin),numberOfHMetrics:t.glyphs.length}),y=Ot.make(t.glyphs.length),v=zt.make({xAvgCharWidth:Math.round(d.advanceWidthAvg),usWeightClass:t.tables.os2.usWeightClass,usWidthClass:t.tables.os2.usWidthClass,usFirstCharIndex:u,usLastCharIndex:c,ulUnicodeRange1:f,ulUnicodeRange2:l,ulUnicodeRange3:p,ulUnicodeRange4:h,fsSelection:t.tables.os2.fsSelection,sTypoAscender:d.ascender,sTypoDescender:d.descender,sTypoLineGap:0,usWinAscent:d.yMax,usWinDescent:Math.abs(d.yMin),ulCodePageRange1:1,sxHeight:Jt(t,"xyvw",{yMax:Math.round(d.ascender/2)}).yMax,sCapHeight:Jt(t,"HIKLEFJMNTZBDPRAGOQSUVWXY",d).yMax,usDefaultChar:t.hasChar(" ")?32:0,usBreakChar:t.hasChar(" ")?32:0}),b=Et.make(t.glyphs),x=H.make(t.glyphs),w=t.getEnglishName("fontFamily"),S=t.getEnglishName("fontSubfamily"),M=w+" "+S;let k=t.getEnglishName("postScriptName");k||(k=w.replace(/\s/g,"")+"-"+S);const T={};for(let e in t.names)T[e]=t.names[e];T.uniqueID||(T.uniqueID={en:t.getEnglishName("manufacturer")+":"+M}),T.postScriptName||(T.postScriptName={en:k}),T.preferredFamily||(T.preferredFamily=t.names.fontFamily),T.preferredSubfamily||(T.preferredSubfamily=t.names.fontSubfamily);const E=[],A=jt.make(T,E),O=E.length>0?At.make(E):void 0,R=Ht.make(),U=Mt.make(t.glyphs,{version:t.getEnglishName("version"),fullName:M,familyName:w,weightName:S,postScriptName:k,unitsPerEm:t.unitsPerEm,fontBBox:[0,d.yMin,d.ascender,d.advanceWidthMax]}),_=t.metas&&Object.keys(t.metas).length>0?Xt.make(t.metas):void 0,D=[m,g,y,v,A,x,R,U,b];O&&D.push(O),t.tables.gsub&&D.push(Vt.make(t.tables.gsub)),_&&D.push(_);const C=Kt(D),L=Qt(C.encode()),I=C.fields;let P=!1;for(let t=0;t<I.length;t+=1)if("head table"===I[t].name){I[t].value.checkSumAdjustment=2981146554-L,P=!0;break}if(!P)throw new Error("Could not find head table with checkSum to adjust.");return C},computeCheckSum:Qt};function ne(t,e){let n=0,r=t.length-1;for(;n<=r;){const o=n+r>>>1,i=t[o].tag;if(i===e)return o;i<e?n=o+1:r=o-1}return-n-1}function re(t,e){let n=0,r=t.length-1;for(;n<=r;){const o=n+r>>>1,i=t[o];if(i===e)return o;i<e?n=o+1:r=o-1}return-n-1}function oe(t,e){let n,r=0,o=t.length-1;for(;r<=o;){const i=r+o>>>1;n=t[i];const a=n.start;if(a===e)return n;a<e?r=i+1:o=i-1}if(r>0)return n=t[r-1],e>n.end?0:n}function ie(t,e){this.font=t,this.tableName=e}ie.prototype={searchTag:ne,binSearch:re,getTable:function(t){let e=this.font.tables[this.tableName];return!e&&t&&(e=this.font.tables[this.tableName]=this.createDefaultTable()),e},getScriptNames:function(){let t=this.getTable();return t?t.scripts.map((function(t){return t.tag})):[]},getDefaultScriptName:function(){let t=this.getTable();if(!t)return;let e=!1;for(let n=0;n<t.scripts.length;n++){const r=t.scripts[n].tag;if("DFLT"===r)return r;"latn"===r&&(e=!0)}return e?"latn":void 0},getScriptTable:function(t,e){const n=this.getTable(e);if(n){t=t||"DFLT";const r=n.scripts,o=ne(n.scripts,t);if(o>=0)return r[o].script;if(e){const e={tag:t,script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}};return r.splice(-1-o,0,e),e.script}}},getLangSysTable:function(t,e,n){const r=this.getScriptTable(t,n);if(r){if(!e||"dflt"===e||"DFLT"===e)return r.defaultLangSys;const t=ne(r.langSysRecords,e);if(t>=0)return r.langSysRecords[t].langSys;if(n){const n={tag:e,langSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]}};return r.langSysRecords.splice(-1-t,0,n),n.langSys}}},getFeatureTable:function(t,e,n,r){const o=this.getLangSysTable(t,e,r);if(o){let t;const e=o.featureIndexes,i=this.font.tables[this.tableName].features;for(let r=0;r<e.length;r++)if(t=i[e[r]],t.tag===n)return t.feature;if(r){const r=i.length;return p.assert(0===r||n>=i[r-1].tag,"Features must be added in alphabetical order."),t={tag:n,feature:{params:0,lookupListIndexes:[]}},i.push(t),e.push(r),t.feature}}},getLookupTables:function(t,e,n,r,o){const i=this.getFeatureTable(t,e,n,o),a=[];if(i){let t;const e=i.lookupListIndexes,n=this.font.tables[this.tableName].lookups;for(let o=0;o<e.length;o++)t=n[e[o]],t.lookupType===r&&a.push(t);if(0===a.length&&o){t={lookupType:r,lookupFlag:0,subtables:[],markFilteringSet:void 0};const o=n.length;return n.push(t),e.push(o),[t]}}return a},getGlyphClass:function(t,e){switch(t.format){case 1:return t.startGlyph<=e&&e<t.startGlyph+t.classes.length?t.classes[e-t.startGlyph]:0;case 2:const n=oe(t.ranges,e);return n?n.classId:0}},getCoverageIndex:function(t,e){switch(t.format){case 1:const n=re(t.glyphs,e);return n>=0?n:-1;case 2:const r=oe(t.ranges,e);return r?r.index+e-r.start:-1}},expandCoverage:function(t){if(1===t.format)return t.glyphs;{const e=[],n=t.ranges;for(let t=0;t<n.length;t++){const r=n[t],o=r.start,i=r.end;for(let t=o;t<=i;t++)e.push(t)}return e}}};var ae=ie;function se(t){ae.call(this,t,"gpos")}se.prototype=ae.prototype,se.prototype.init=function(){const t=this.getDefaultScriptName();this.defaultKerningTables=this.getKerningTables(t)},se.prototype.getKerningValue=function(t,e,n){for(let r=0;r<t.length;r++){const o=t[r].subtables;for(let t=0;t<o.length;t++){const r=o[t],i=this.getCoverageIndex(r.coverage,e);if(!(i<0))switch(r.posFormat){case 1:let t=r.pairSets[i];for(let e=0;e<t.length;e++){let r=t[e];if(r.secondGlyph===n)return r.value1&&r.value1.xAdvance||0}break;case 2:const o=this.getGlyphClass(r.classDef1,e),a=this.getGlyphClass(r.classDef2,n),s=r.classRecords[o][a];return s.value1&&s.value1.xAdvance||0}}}return 0},se.prototype.getKerningTables=function(t,e){if(this.font.tables.gpos)return this.getLookupTables(t,e,"kern",2)};var ue=se;function ce(t){ae.call(this,t,"gsub")}function fe(t,e){const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function le(t,e,n){const r=t.subtables;for(let t=0;t<r.length;t++){const n=r[t];if(n.substFormat===e)return n}if(n)return r.push(n),n}ce.prototype=ae.prototype,ce.prototype.createDefaultTable=function(){return{version:1,scripts:[{tag:"DFLT",script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}],features:[],lookups:[]}},ce.prototype.getSingle=function(t,e,n){const r=[],o=this.getLookupTables(e,n,t,1);for(let t=0;t<o.length;t++){const e=o[t].subtables;for(let t=0;t<e.length;t++){const n=e[t],o=this.expandCoverage(n.coverage);let i;if(1===n.substFormat){const t=n.deltaGlyphId;for(i=0;i<o.length;i++){const e=o[i];r.push({sub:e,by:e+t})}}else{const t=n.substitute;for(i=0;i<o.length;i++)r.push({sub:o[i],by:t[i]})}}}return r},ce.prototype.getAlternates=function(t,e,n){const r=[],o=this.getLookupTables(e,n,t,3);for(let t=0;t<o.length;t++){const e=o[t].subtables;for(let t=0;t<e.length;t++){const n=e[t],o=this.expandCoverage(n.coverage),i=n.alternateSets;for(let t=0;t<o.length;t++)r.push({sub:o[t],by:i[t]})}}return r},ce.prototype.getLigatures=function(t,e,n){const r=[],o=this.getLookupTables(e,n,t,4);for(let t=0;t<o.length;t++){const e=o[t].subtables;for(let t=0;t<e.length;t++){const n=e[t],o=this.expandCoverage(n.coverage),i=n.ligatureSets;for(let t=0;t<o.length;t++){const e=o[t],n=i[t];for(let t=0;t<n.length;t++){const o=n[t];r.push({sub:[e].concat(o.components),by:o.ligGlyph})}}}}return r},ce.prototype.addSingle=function(t,e,n,r){const o=le(this.getLookupTables(n,r,t,1,!0)[0],2,{substFormat:2,coverage:{format:1,glyphs:[]},substitute:[]});p.assert(1===o.coverage.format,"Ligature: unable to modify coverage table format "+o.coverage.format);const i=e.sub;let a=this.binSearch(o.coverage.glyphs,i);a<0&&(a=-1-a,o.coverage.glyphs.splice(a,0,i),o.substitute.splice(a,0,0)),o.substitute[a]=e.by},ce.prototype.addAlternate=function(t,e,n,r){const o=le(this.getLookupTables(n,r,t,3,!0)[0],1,{substFormat:1,coverage:{format:1,glyphs:[]},alternateSets:[]});p.assert(1===o.coverage.format,"Ligature: unable to modify coverage table format "+o.coverage.format);const i=e.sub;let a=this.binSearch(o.coverage.glyphs,i);a<0&&(a=-1-a,o.coverage.glyphs.splice(a,0,i),o.alternateSets.splice(a,0,0)),o.alternateSets[a]=e.by},ce.prototype.addLigature=function(t,e,n,r){const o=this.getLookupTables(n,r,t,4,!0)[0];let i=o.subtables[0];i||(i={substFormat:1,coverage:{format:1,glyphs:[]},ligatureSets:[]},o.subtables[0]=i),p.assert(1===i.coverage.format,"Ligature: unable to modify coverage table format "+i.coverage.format);const a=e.sub[0],s=e.sub.slice(1),u={ligGlyph:e.by,components:s};let c=this.binSearch(i.coverage.glyphs,a);if(c>=0){const t=i.ligatureSets[c];for(let e=0;e<t.length;e++)if(fe(t[e].components,s))return;t.push(u)}else c=-1-c,i.coverage.glyphs.splice(c,0,a),i.ligatureSets.splice(c,0,[u])},ce.prototype.getFeature=function(t,e,n){if(/ss\d\d/.test(t))return this.getSingle(t,e,n);switch(t){case"aalt":case"salt":return this.getSingle(t,e,n).concat(this.getAlternates(t,e,n));case"dlig":case"liga":case"rlig":return this.getLigatures(t,e,n)}},ce.prototype.add=function(t,e,n,r){if(/ss\d\d/.test(t))return this.addSingle(t,e,n,r);switch(t){case"aalt":case"salt":return"number"==typeof e.by?this.addSingle(t,e,n,r):this.addAlternate(t,e,n,r);case"dlig":case"liga":case"rlig":return this.addLigature(t,e,n,r)}};var pe=ce,he=n(74);function de(t,e,n,r,o){let i;return(e&r)>0?(i=t.parseByte(),0==(e&o)&&(i=-i),i=n+i):i=(e&o)>0?n:n+t.parseShort(),i}function me(t,e,n){const r=new G.Parser(e,n);let o,i;if(t.numberOfContours=r.parseShort(),t._xMin=r.parseShort(),t._yMin=r.parseShort(),t._xMax=r.parseShort(),t._yMax=r.parseShort(),t.numberOfContours>0){const e=t.endPointIndices=[];for(let n=0;n<t.numberOfContours;n+=1)e.push(r.parseUShort());t.instructionLength=r.parseUShort(),t.instructions=[];for(let e=0;e<t.instructionLength;e+=1)t.instructions.push(r.parseByte());const n=e[e.length-1]+1;o=[];for(let t=0;t<n;t+=1)if(i=r.parseByte(),o.push(i),(8&i)>0){const e=r.parseByte();for(let n=0;n<e;n+=1)o.push(i),t+=1}if(p.argument(o.length===n,"Bad flags."),e.length>0){const a=[];let s;if(n>0){for(let t=0;t<n;t+=1)i=o[t],s={},s.onCurve=!!(1&i),s.lastPointOfContour=e.indexOf(t)>=0,a.push(s);let t=0;for(let e=0;e<n;e+=1)i=o[e],s=a[e],s.x=de(r,i,t,2,16),t=s.x;let u=0;for(let t=0;t<n;t+=1)i=o[t],s=a[t],s.y=de(r,i,u,4,32),u=s.y}t.points=a}else t.points=[]}else if(0===t.numberOfContours)t.points=[];else{t.isComposite=!0,t.points=[],t.components=[];let e=!0;for(;e;){o=r.parseUShort();const n={glyphIndex:r.parseUShort(),xScale:1,scale01:0,scale10:0,yScale:1,dx:0,dy:0};(1&o)>0?(2&o)>0?(n.dx=r.parseShort(),n.dy=r.parseShort()):n.matchedPoints=[r.parseUShort(),r.parseUShort()]:(2&o)>0?(n.dx=r.parseChar(),n.dy=r.parseChar()):n.matchedPoints=[r.parseByte(),r.parseByte()],(8&o)>0?n.xScale=n.yScale=r.parseF2Dot14():(64&o)>0?(n.xScale=r.parseF2Dot14(),n.yScale=r.parseF2Dot14()):(128&o)>0&&(n.xScale=r.parseF2Dot14(),n.scale01=r.parseF2Dot14(),n.scale10=r.parseF2Dot14(),n.yScale=r.parseF2Dot14()),t.components.push(n),e=!!(32&o)}if(256&o){t.instructionLength=r.parseUShort(),t.instructions=[];for(let e=0;e<t.instructionLength;e+=1)t.instructions.push(r.parseByte())}}}function ge(t,e){const n=[];for(let r=0;r<t.length;r+=1){const o=t[r],i={x:e.xScale*o.x+e.scale01*o.y+e.dx,y:e.scale10*o.x+e.yScale*o.y+e.dy,onCurve:o.onCurve,lastPointOfContour:o.lastPointOfContour};n.push(i)}return n}function ye(t){const e=new c;if(!t)return e;const n=function(t){const e=[];let n=[];for(let r=0;r<t.length;r+=1){const o=t[r];n.push(o),o.lastPointOfContour&&(e.push(n),n=[])}return p.argument(0===n.length,"There are still points left in the current contour."),e}(t);for(let t=0;t<n.length;++t){const r=n[t];let o=null,i=r[r.length-1],a=r[0];if(i.onCurve)e.moveTo(i.x,i.y);else if(a.onCurve)e.moveTo(a.x,a.y);else{const t={x:.5*(i.x+a.x),y:.5*(i.y+a.y)};e.moveTo(t.x,t.y)}for(let t=0;t<r.length;++t)if(o=i,i=a,a=r[(t+1)%r.length],i.onCurve)e.lineTo(i.x,i.y);else{let t=o,n=a;o.onCurve||(t={x:.5*(i.x+o.x),y:.5*(i.y+o.y)}),a.onCurve||(n={x:.5*(i.x+a.x),y:.5*(i.y+a.y)}),e.quadraticCurveTo(i.x,i.y,n.x,n.y)}e.closePath()}return e}function ve(t,e){if(e.isComposite)for(let n=0;n<e.components.length;n+=1){const r=e.components[n],o=t.get(r.glyphIndex);if(o.getPath(),o.points){let t;if(void 0===r.matchedPoints)t=ge(o.points,r);else{if(r.matchedPoints[0]>e.points.length-1||r.matchedPoints[1]>o.points.length-1)throw Error("Matched points out of range in "+e.name);const n=e.points[r.matchedPoints[0]];let i=o.points[r.matchedPoints[1]];const a={xScale:r.xScale,scale01:r.scale01,scale10:r.scale10,yScale:r.yScale,dx:0,dy:0};i=ge([i],a)[0],a.dx=n.x-i.x,a.dy=n.y-i.y,t=ge(o.points,a)}e.points=e.points.concat(t)}}return ye(e.points)}var be={getPath:ye,parse:function(t,e,n,r,o){return o.lowMemory?function(t,e,n,r){const o=new ot.GlyphSet(r);return r._push=function(i){const a=n[i];a!==n[i+1]?o.push(i,ot.ttfGlyphLoader(r,i,me,t,e+a,ve)):o.push(i,ot.glyphLoader(r,i))},o}(t,e,n,r):function(t,e,n,r){const o=new ot.GlyphSet(r);for(let i=0;i<n.length-1;i+=1){const a=n[i];a!==n[i+1]?o.push(i,ot.ttfGlyphLoader(r,i,me,t,e+a,ve)):o.push(i,ot.glyphLoader(r,i))}return o}(t,e,n,r)}};let xe,we,Se,Me;function ke(t){this.font=t,this.getCommands=function(t){return be.getPath(t).commands},this._fpgmState=this._prepState=void 0,this._errorState=0}function Te(t){return t}function Ee(t){return Math.sign(t)*Math.round(Math.abs(t))}function Ae(t){return Math.sign(t)*Math.round(Math.abs(2*t))/2}function Oe(t){return Math.sign(t)*(Math.round(Math.abs(t)+.5)-.5)}function Re(t){return Math.sign(t)*Math.ceil(Math.abs(t))}function Ue(t){return Math.sign(t)*Math.floor(Math.abs(t))}const _e=function(t){const e=this.srPeriod;let n=this.srPhase;let r=1;return t<0&&(t=-t,r=-1),t+=this.srThreshold-n,t=Math.trunc(t/e)*e,(t+=n)<0?n*r:t*r},De={x:1,y:0,axis:"x",distance:function(t,e,n,r){return(n?t.xo:t.x)-(r?e.xo:e.x)},interpolate:function(t,e,n,r){let o,i,a,s,u,c,f;if(!r||r===this)return o=t.xo-e.xo,i=t.xo-n.xo,u=e.x-e.xo,c=n.x-n.xo,a=Math.abs(o),s=Math.abs(i),f=a+s,0===f?void(t.x=t.xo+(u+c)/2):void(t.x=t.xo+(u*s+c*a)/f);o=r.distance(t,e,!0,!0),i=r.distance(t,n,!0,!0),u=r.distance(e,e,!1,!0),c=r.distance(n,n,!1,!0),a=Math.abs(o),s=Math.abs(i),f=a+s,0!==f?De.setRelative(t,t,(u*s+c*a)/f,r,!0):De.setRelative(t,t,(u+c)/2,r,!0)},normalSlope:Number.NEGATIVE_INFINITY,setRelative:function(t,e,n,r,o){if(!r||r===this)return void(t.x=(o?e.xo:e.x)+n);const i=o?e.xo:e.x,a=o?e.yo:e.y,s=i+n*r.x,u=a+n*r.y;t.x=s+(t.y-u)/r.normalSlope},slope:0,touch:function(t){t.xTouched=!0},touched:function(t){return t.xTouched},untouch:function(t){t.xTouched=!1}},Ce={x:0,y:1,axis:"y",distance:function(t,e,n,r){return(n?t.yo:t.y)-(r?e.yo:e.y)},interpolate:function(t,e,n,r){let o,i,a,s,u,c,f;if(!r||r===this)return o=t.yo-e.yo,i=t.yo-n.yo,u=e.y-e.yo,c=n.y-n.yo,a=Math.abs(o),s=Math.abs(i),f=a+s,0===f?void(t.y=t.yo+(u+c)/2):void(t.y=t.yo+(u*s+c*a)/f);o=r.distance(t,e,!0,!0),i=r.distance(t,n,!0,!0),u=r.distance(e,e,!1,!0),c=r.distance(n,n,!1,!0),a=Math.abs(o),s=Math.abs(i),f=a+s,0!==f?Ce.setRelative(t,t,(u*s+c*a)/f,r,!0):Ce.setRelative(t,t,(u+c)/2,r,!0)},normalSlope:0,setRelative:function(t,e,n,r,o){if(!r||r===this)return void(t.y=(o?e.yo:e.y)+n);const i=o?e.xo:e.x,a=o?e.yo:e.y,s=i+n*r.x,u=a+n*r.y;t.y=u+r.normalSlope*(t.x-s)},slope:Number.POSITIVE_INFINITY,touch:function(t){t.yTouched=!0},touched:function(t){return t.yTouched},untouch:function(t){t.yTouched=!1}};function Le(t,e){this.x=t,this.y=e,this.axis=void 0,this.slope=e/t,this.normalSlope=-t/e,Object.freeze(this)}function Ie(t,e){const n=Math.sqrt(t*t+e*e);return e/=n,1===(t/=n)&&0===e?De:0===t&&1===e?Ce:new Le(t,e)}function Pe(t,e,n,r){this.x=this.xo=Math.round(64*t)/64,this.y=this.yo=Math.round(64*e)/64,this.lastPointOfContour=n,this.onCurve=r,this.prevPointOnContour=void 0,this.nextPointOnContour=void 0,this.xTouched=!1,this.yTouched=!1,Object.preventExtensions(this)}Object.freeze(De),Object.freeze(Ce),Le.prototype.distance=function(t,e,n,r){return this.x*De.distance(t,e,n,r)+this.y*Ce.distance(t,e,n,r)},Le.prototype.interpolate=function(t,e,n,r){let o,i,a,s,u,c,f;a=r.distance(t,e,!0,!0),s=r.distance(t,n,!0,!0),o=r.distance(e,e,!1,!0),i=r.distance(n,n,!1,!0),u=Math.abs(a),c=Math.abs(s),f=u+c,0!==f?this.setRelative(t,t,(o*c+i*u)/f,r,!0):this.setRelative(t,t,(o+i)/2,r,!0)},Le.prototype.setRelative=function(t,e,n,r,o){r=r||this;const i=o?e.xo:e.x,a=o?e.yo:e.y,s=i+n*r.x,u=a+n*r.y,c=r.normalSlope,f=this.slope,l=t.x,p=t.y;t.x=(f*l-c*s+u-p)/(f-c),t.y=f*(t.x-l)+p},Le.prototype.touch=function(t){t.xTouched=!0,t.yTouched=!0},Pe.prototype.nextTouched=function(t){let e=this.nextPointOnContour;for(;!t.touched(e)&&e!==this;)e=e.nextPointOnContour;return e},Pe.prototype.prevTouched=function(t){let e=this.prevPointOnContour;for(;!t.touched(e)&&e!==this;)e=e.prevPointOnContour;return e};const Fe=Object.freeze(new Pe(0,0)),Be={cvCutIn:17/16,deltaBase:9,deltaShift:.125,loop:1,minDis:1,autoFlip:!0};function Ne(t,e){switch(this.env=t,this.stack=[],this.prog=e,t){case"glyf":this.zp0=this.zp1=this.zp2=1,this.rp0=this.rp1=this.rp2=0;case"prep":this.fv=this.pv=this.dpv=De,this.round=Ee}}function je(t){const e=t.tZone=new Array(t.gZone.length);for(let t=0;t<e.length;t++)e[t]=new Pe(0,0)}function Ge(t,e){const n=t.prog;let r,o=t.ip,i=1;do{if(r=n[++o],88===r)i++;else if(89===r)i--;else if(64===r)o+=n[o+1]+1;else if(65===r)o+=2*n[o+1]+1;else if(r>=176&&r<=183)o+=r-176+1;else if(r>=184&&r<=191)o+=2*(r-184+1);else if(e&&1===i&&27===r)break}while(i>0);t.ip=o}function ze(t,e){exports.DEBUG&&console.log(e.step,"SVTCA["+t.axis+"]"),e.fv=e.pv=e.dpv=t}function He(t,e){exports.DEBUG&&console.log(e.step,"SPVTCA["+t.axis+"]"),e.pv=e.dpv=t}function qe(t,e){exports.DEBUG&&console.log(e.step,"SFVTCA["+t.axis+"]"),e.fv=t}function Ye(t,e){const n=e.stack,r=n.pop(),o=n.pop(),i=e.z2[r],a=e.z1[o];let s,u;exports.DEBUG&&console.log("SPVTL["+t+"]",r,o),t?(s=i.y-a.y,u=a.x-i.x):(s=a.x-i.x,u=a.y-i.y),e.pv=e.dpv=Ie(s,u)}function We(t,e){const n=e.stack,r=n.pop(),o=n.pop(),i=e.z2[r],a=e.z1[o];let s,u;exports.DEBUG&&console.log("SFVTL["+t+"]",r,o),t?(s=i.y-a.y,u=a.x-i.x):(s=a.x-i.x,u=a.y-i.y),e.fv=Ie(s,u)}function Ve(t){exports.DEBUG&&console.log(t.step,"POP[]"),t.stack.pop()}function Xe(t,e){const n=e.stack.pop(),r=e.z0[n],o=e.fv,i=e.pv;exports.DEBUG&&console.log(e.step,"MDAP["+t+"]",n);let a=i.distance(r,Fe);t&&(a=e.round(a)),o.setRelative(r,Fe,a,i),o.touch(r),e.rp0=e.rp1=n}function Ze(t,e){const n=e.z2,r=n.length-2;let o,i,a;exports.DEBUG&&console.log(e.step,"IUP["+t.axis+"]");for(let e=0;e<r;e++)o=n[e],t.touched(o)||(i=o.prevTouched(t),i!==o&&(a=o.nextTouched(t),i===a&&t.setRelative(o,o,t.distance(i,i,!1,!0),t,!0),t.interpolate(o,i,a,t)))}function Qe(t,e){const n=e.stack,r=t?e.rp1:e.rp2,o=(t?e.z0:e.z1)[r],i=e.fv,a=e.pv;let s=e.loop;const u=e.z2;for(;s--;){const r=n.pop(),c=u[r],f=a.distance(o,o,!1,!0);i.setRelative(c,c,f,a),i.touch(c),exports.DEBUG&&console.log(e.step,(e.loop>1?"loop "+(e.loop-s)+": ":"")+"SHP["+(t?"rp1":"rp2")+"]",r)}e.loop=1}function $e(t,e){const n=e.stack,r=t?e.rp1:e.rp2,o=(t?e.z0:e.z1)[r],i=e.fv,a=e.pv,s=n.pop(),u=e.z2[e.contours[s]];let c=u;exports.DEBUG&&console.log(e.step,"SHC["+t+"]",s);const f=a.distance(o,o,!1,!0);do{c!==o&&i.setRelative(c,c,f,a),c=c.nextPointOnContour}while(c!==u)}function Ke(t,e){const n=e.stack,r=t?e.rp1:e.rp2,o=(t?e.z0:e.z1)[r],i=e.fv,a=e.pv,s=n.pop();let u,c;switch(exports.DEBUG&&console.log(e.step,"SHZ["+t+"]",s),s){case 0:u=e.tZone;break;case 1:u=e.gZone;break;default:throw new Error("Invalid zone")}const f=a.distance(o,o,!1,!0),l=u.length-2;for(let t=0;t<l;t++)c=u[t],i.setRelative(c,c,f,a)}function Je(t,e){const n=e.stack,r=n.pop()/64,o=n.pop(),i=e.z1[o],a=e.z0[e.rp0],s=e.fv,u=e.pv;s.setRelative(i,a,r,u),s.touch(i),exports.DEBUG&&console.log(e.step,"MSIRP["+t+"]",r,o),e.rp1=e.rp0,e.rp2=o,t&&(e.rp0=o)}function tn(t,e){const n=e.stack,r=n.pop(),o=n.pop(),i=e.z0[o],a=e.fv,s=e.pv;let u=e.cvt[r];exports.DEBUG&&console.log(e.step,"MIAP["+t+"]",r,"(",u,")",o);let c=s.distance(i,Fe);t&&(Math.abs(c-u)<e.cvCutIn&&(c=u),c=e.round(c)),a.setRelative(i,Fe,c,s),0===e.zp0&&(i.xo=i.x,i.yo=i.y),a.touch(i),e.rp0=e.rp1=o}function en(t,e){const n=e.stack,r=n.pop(),o=e.z2[r];exports.DEBUG&&console.log(e.step,"GC["+t+"]",r),n.push(64*e.dpv.distance(o,Fe,t,!1))}function nn(t,e){const n=e.stack,r=n.pop(),o=n.pop(),i=e.z1[r],a=e.z0[o],s=e.dpv.distance(a,i,t,t);exports.DEBUG&&console.log(e.step,"MD["+t+"]",r,o,"->",s),e.stack.push(Math.round(64*s))}function rn(t,e){const n=e.stack,r=n.pop(),o=e.fv,i=e.pv,a=e.ppem,s=e.deltaBase+16*(t-1),u=e.deltaShift,c=e.z0;exports.DEBUG&&console.log(e.step,"DELTAP["+t+"]",r,n);for(let t=0;t<r;t++){const t=n.pop(),r=n.pop();if(s+((240&r)>>4)!==a)continue;let f=(15&r)-8;f>=0&&f++,exports.DEBUG&&console.log(e.step,"DELTAPFIX",t,"by",f*u);const l=c[t];o.setRelative(l,l,f*u,i)}}function on(t,e){const n=e.stack,r=n.pop();exports.DEBUG&&console.log(e.step,"ROUND[]"),n.push(64*e.round(r/64))}function an(t,e){const n=e.stack,r=n.pop(),o=e.ppem,i=e.deltaBase+16*(t-1),a=e.deltaShift;exports.DEBUG&&console.log(e.step,"DELTAC["+t+"]",r,n);for(let t=0;t<r;t++){const t=n.pop(),r=n.pop();if(i+((240&r)>>4)!==o)continue;let s=(15&r)-8;s>=0&&s++;const u=s*a;exports.DEBUG&&console.log(e.step,"DELTACFIX",t,"by",u),e.cvt[t]+=u}}function sn(t,e){const n=e.stack,r=n.pop(),o=n.pop(),i=e.z2[r],a=e.z1[o];let s,u;exports.DEBUG&&console.log(e.step,"SDPVTL["+t+"]",r,o),t?(s=i.y-a.y,u=a.x-i.x):(s=a.x-i.x,u=a.y-i.y),e.dpv=Ie(s,u)}function un(t,e){const n=e.stack,r=e.prog;let o=e.ip;exports.DEBUG&&console.log(e.step,"PUSHB["+t+"]");for(let e=0;e<t;e++)n.push(r[++o]);e.ip=o}function cn(t,e){let n=e.ip;const r=e.prog,o=e.stack;exports.DEBUG&&console.log(e.ip,"PUSHW["+t+"]");for(let e=0;e<t;e++){let t=r[++n]<<8|r[++n];32768&t&&(t=-(1+(65535^t))),o.push(t)}e.ip=n}function fn(t,e,n,r,o,i){const a=i.stack,s=t&&a.pop(),u=a.pop(),c=i.rp0,f=i.z0[c],l=i.z1[u],p=i.minDis,h=i.fv,d=i.dpv;let m,g,y,v;g=m=d.distance(l,f,!0,!0),y=g>=0?1:-1,g=Math.abs(g),t&&(v=i.cvt[s],r&&Math.abs(g-v)<i.cvCutIn&&(g=v)),n&&g<p&&(g=p),r&&(g=i.round(g)),h.setRelative(l,f,y*g,d),h.touch(l),exports.DEBUG&&console.log(i.step,(t?"MIRP[":"MDRP[")+(e?"M":"m")+(n?">":"_")+(r?"R":"_")+(0===o?"Gr":1===o?"Bl":2===o?"Wh":"")+"]",t?s+"("+i.cvt[s]+","+v+")":"",u,"(d =",m,"->",y*g,")"),i.rp1=i.rp0,i.rp2=u,e&&(i.rp0=u)}ke.prototype.exec=function(t,e){if("number"!=typeof e)throw new Error("Point size is not a number!");if(this._errorState>2)return;const n=this.font;let r=this._prepState;if(!r||r.ppem!==e){let t=this._fpgmState;if(!t){Ne.prototype=Be,t=this._fpgmState=new Ne("fpgm",n.tables.fpgm),t.funcs=[],t.font=n,exports.DEBUG&&(console.log("---EXEC FPGM---"),t.step=-1);try{we(t)}catch(t){return console.log("Hinting error in FPGM:"+t),void(this._errorState=3)}}Ne.prototype=t,r=this._prepState=new Ne("prep",n.tables.prep),r.ppem=e;const o=n.tables.cvt;if(o){const t=r.cvt=new Array(o.length),i=e/n.unitsPerEm;for(let e=0;e<o.length;e++)t[e]=o[e]*i}else r.cvt=[];exports.DEBUG&&(console.log("---EXEC PREP---"),r.step=-1);try{we(r)}catch(t){this._errorState<2&&console.log("Hinting error in PREP:"+t),this._errorState=2}}if(!(this._errorState>1))try{return Se(t,r)}catch(t){return this._errorState<1&&(console.log("Hinting error:"+t),console.log("Note: further hinting errors are silenced")),void(this._errorState=1)}},Se=function(t,e){const n=e.ppem/e.font.unitsPerEm,r=n;let o,i,a,s=t.components;if(Ne.prototype=e,s){const u=e.font;i=[],o=[];for(let t=0;t<s.length;t++){const e=s[t],c=u.glyphs.get(e.glyphIndex);a=new Ne("glyf",c.instructions),exports.DEBUG&&(console.log("---EXEC COMP "+t+"---"),a.step=-1),Me(c,a,n,r);const f=Math.round(e.dx*n),l=Math.round(e.dy*r),p=a.gZone,h=a.contours;for(let t=0;t<p.length;t++){const e=p[t];e.xTouched=e.yTouched=!1,e.xo=e.x=e.x+f,e.yo=e.y=e.y+l}const d=i.length;i.push.apply(i,p);for(let t=0;t<h.length;t++)o.push(h[t]+d)}t.instructions&&!a.inhibitGridFit&&(a=new Ne("glyf",t.instructions),a.gZone=a.z0=a.z1=a.z2=i,a.contours=o,i.push(new Pe(0,0),new Pe(Math.round(t.advanceWidth*n),0)),exports.DEBUG&&(console.log("---EXEC COMPOSITE---"),a.step=-1),we(a),i.length-=2)}else a=new Ne("glyf",t.instructions),exports.DEBUG&&(console.log("---EXEC GLYPH---"),a.step=-1),Me(t,a,n,r),i=a.gZone;return i},Me=function(t,e,n,r){const o=t.points||[],i=o.length,a=e.gZone=e.z0=e.z1=e.z2=[],s=e.contours=[];let u,c,f;for(let t=0;t<i;t++)u=o[t],a[t]=new Pe(u.x*n,u.y*r,u.lastPointOfContour,u.onCurve);for(let t=0;t<i;t++)u=a[t],c||(c=u,s.push(t)),u.lastPointOfContour?(u.nextPointOnContour=c,c.prevPointOnContour=u,c=void 0):(f=a[t+1],u.nextPointOnContour=f,f.prevPointOnContour=u);if(!e.inhibitGridFit){if(exports.DEBUG){console.log("PROCESSING GLYPH",e.stack);for(let t=0;t<i;t++)console.log(t,a[t].x,a[t].y)}if(a.push(new Pe(0,0),new Pe(Math.round(t.advanceWidth*n),0)),we(e),a.length-=2,exports.DEBUG){console.log("FINISHED GLYPH",e.stack);for(let t=0;t<i;t++)console.log(t,a[t].x,a[t].y)}}},we=function(t){let e=t.prog;if(!e)return;const n=e.length;let r;for(t.ip=0;t.ip<n;t.ip++){if(exports.DEBUG&&t.step++,r=xe[e[t.ip]],!r)throw new Error("unknown instruction: 0x"+Number(e[t.ip]).toString(16));r(t)}},xe=[ze.bind(void 0,Ce),ze.bind(void 0,De),He.bind(void 0,Ce),He.bind(void 0,De),qe.bind(void 0,Ce),qe.bind(void 0,De),Ye.bind(void 0,0),Ye.bind(void 0,1),We.bind(void 0,0),We.bind(void 0,1),function(t){const e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"SPVFS[]",n,r),t.pv=t.dpv=Ie(r,n)},function(t){const e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"SPVFS[]",n,r),t.fv=Ie(r,n)},function(t){const e=t.stack,n=t.pv;exports.DEBUG&&console.log(t.step,"GPV[]"),e.push(16384*n.x),e.push(16384*n.y)},function(t){const e=t.stack,n=t.fv;exports.DEBUG&&console.log(t.step,"GFV[]"),e.push(16384*n.x),e.push(16384*n.y)},function(t){t.fv=t.pv,exports.DEBUG&&console.log(t.step,"SFVTPV[]")},function(t){const e=t.stack,n=e.pop(),r=e.pop(),o=e.pop(),i=e.pop(),a=e.pop(),s=t.z0,u=t.z1,c=s[n],f=s[r],l=u[o],p=u[i],h=t.z2[a];exports.DEBUG&&console.log("ISECT[], ",n,r,o,i,a);const d=c.x,m=c.y,g=f.x,y=f.y,v=l.x,b=l.y,x=p.x,w=p.y,S=(d-g)*(b-w)-(m-y)*(v-x),M=d*y-m*g,k=v*w-b*x;h.x=(M*(v-x)-k*(d-g))/S,h.y=(M*(b-w)-k*(m-y))/S},function(t){t.rp0=t.stack.pop(),exports.DEBUG&&console.log(t.step,"SRP0[]",t.rp0)},function(t){t.rp1=t.stack.pop(),exports.DEBUG&&console.log(t.step,"SRP1[]",t.rp1)},function(t){t.rp2=t.stack.pop(),exports.DEBUG&&console.log(t.step,"SRP2[]",t.rp2)},function(t){const e=t.stack.pop();switch(exports.DEBUG&&console.log(t.step,"SZP0[]",e),t.zp0=e,e){case 0:t.tZone||je(t),t.z0=t.tZone;break;case 1:t.z0=t.gZone;break;default:throw new Error("Invalid zone pointer")}},function(t){const e=t.stack.pop();switch(exports.DEBUG&&console.log(t.step,"SZP1[]",e),t.zp1=e,e){case 0:t.tZone||je(t),t.z1=t.tZone;break;case 1:t.z1=t.gZone;break;default:throw new Error("Invalid zone pointer")}},function(t){const e=t.stack.pop();switch(exports.DEBUG&&console.log(t.step,"SZP2[]",e),t.zp2=e,e){case 0:t.tZone||je(t),t.z2=t.tZone;break;case 1:t.z2=t.gZone;break;default:throw new Error("Invalid zone pointer")}},function(t){const e=t.stack.pop();switch(exports.DEBUG&&console.log(t.step,"SZPS[]",e),t.zp0=t.zp1=t.zp2=e,e){case 0:t.tZone||je(t),t.z0=t.z1=t.z2=t.tZone;break;case 1:t.z0=t.z1=t.z2=t.gZone;break;default:throw new Error("Invalid zone pointer")}},function(t){t.loop=t.stack.pop(),exports.DEBUG&&console.log(t.step,"SLOOP[]",t.loop)},function(t){exports.DEBUG&&console.log(t.step,"RTG[]"),t.round=Ee},function(t){exports.DEBUG&&console.log(t.step,"RTHG[]"),t.round=Oe},function(t){const e=t.stack.pop();exports.DEBUG&&console.log(t.step,"SMD[]",e),t.minDis=e/64},function(t){exports.DEBUG&&console.log(t.step,"ELSE[]"),Ge(t,!1)},function(t){const e=t.stack.pop();exports.DEBUG&&console.log(t.step,"JMPR[]",e),t.ip+=e-1},function(t){const e=t.stack.pop();exports.DEBUG&&console.log(t.step,"SCVTCI[]",e),t.cvCutIn=e/64},void 0,void 0,function(t){const e=t.stack;exports.DEBUG&&console.log(t.step,"DUP[]"),e.push(e[e.length-1])},Ve,function(t){exports.DEBUG&&console.log(t.step,"CLEAR[]"),t.stack.length=0},function(t){const e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"SWAP[]"),e.push(n),e.push(r)},function(t){const e=t.stack;exports.DEBUG&&console.log(t.step,"DEPTH[]"),e.push(e.length)},function(t){const e=t.stack,n=e.pop();exports.DEBUG&&console.log(t.step,"CINDEX[]",n),e.push(e[e.length-n])},function(t){const e=t.stack,n=e.pop();exports.DEBUG&&console.log(t.step,"MINDEX[]",n),e.push(e.splice(e.length-n,1)[0])},void 0,void 0,void 0,function(t){const e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"LOOPCALL[]",n,r);const o=t.ip,i=t.prog;t.prog=t.funcs[n];for(let e=0;e<r;e++)we(t),exports.DEBUG&&console.log(++t.step,e+1<r?"next loopcall":"done loopcall",e);t.ip=o,t.prog=i},function(t){const e=t.stack.pop();exports.DEBUG&&console.log(t.step,"CALL[]",e);const n=t.ip,r=t.prog;t.prog=t.funcs[e],we(t),t.ip=n,t.prog=r,exports.DEBUG&&console.log(++t.step,"returning from",e)},function(t){if("fpgm"!==t.env)throw new Error("FDEF not allowed here");const e=t.stack,n=t.prog;let r=t.ip;const o=e.pop(),i=r;for(exports.DEBUG&&console.log(t.step,"FDEF[]",o);45!==n[++r];);t.ip=r,t.funcs[o]=n.slice(i+1,r)},void 0,Xe.bind(void 0,0),Xe.bind(void 0,1),Ze.bind(void 0,Ce),Ze.bind(void 0,De),Qe.bind(void 0,0),Qe.bind(void 0,1),$e.bind(void 0,0),$e.bind(void 0,1),Ke.bind(void 0,0),Ke.bind(void 0,1),function(t){const e=t.stack;let n=t.loop;const r=t.fv,o=e.pop()/64,i=t.z2;for(;n--;){const a=e.pop(),s=i[a];exports.DEBUG&&console.log(t.step,(t.loop>1?"loop "+(t.loop-n)+": ":"")+"SHPIX[]",a,o),r.setRelative(s,s,o),r.touch(s)}t.loop=1},function(t){const e=t.stack,n=t.rp1,r=t.rp2;let o=t.loop;const i=t.z0[n],a=t.z1[r],s=t.fv,u=t.dpv,c=t.z2;for(;o--;){const f=e.pop(),l=c[f];exports.DEBUG&&console.log(t.step,(t.loop>1?"loop "+(t.loop-o)+": ":"")+"IP[]",f,n,"<->",r),s.interpolate(l,i,a,u),s.touch(l)}t.loop=1},Je.bind(void 0,0),Je.bind(void 0,1),function(t){const e=t.stack,n=t.rp0,r=t.z0[n];let o=t.loop;const i=t.fv,a=t.pv,s=t.z1;for(;o--;){const n=e.pop(),u=s[n];exports.DEBUG&&console.log(t.step,(t.loop>1?"loop "+(t.loop-o)+": ":"")+"ALIGNRP[]",n),i.setRelative(u,r,0,a),i.touch(u)}t.loop=1},function(t){exports.DEBUG&&console.log(t.step,"RTDG[]"),t.round=Ae},tn.bind(void 0,0),tn.bind(void 0,1),function(t){const e=t.prog;let n=t.ip;const r=t.stack,o=e[++n];exports.DEBUG&&console.log(t.step,"NPUSHB[]",o);for(let t=0;t<o;t++)r.push(e[++n]);t.ip=n},function(t){let e=t.ip;const n=t.prog,r=t.stack,o=n[++e];exports.DEBUG&&console.log(t.step,"NPUSHW[]",o);for(let t=0;t<o;t++){let t=n[++e]<<8|n[++e];32768&t&&(t=-(1+(65535^t))),r.push(t)}t.ip=e},function(t){const e=t.stack;let n=t.store;n||(n=t.store=[]);const r=e.pop(),o=e.pop();exports.DEBUG&&console.log(t.step,"WS",r,o),n[o]=r},function(t){const e=t.stack,n=t.store,r=e.pop();exports.DEBUG&&console.log(t.step,"RS",r);const o=n&&n[r]||0;e.push(o)},function(t){const e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"WCVTP",n,r),t.cvt[r]=n/64},function(t){const e=t.stack,n=e.pop();exports.DEBUG&&console.log(t.step,"RCVT",n),e.push(64*t.cvt[n])},en.bind(void 0,0),en.bind(void 0,1),void 0,nn.bind(void 0,0),nn.bind(void 0,1),function(t){exports.DEBUG&&console.log(t.step,"MPPEM[]"),t.stack.push(t.ppem)},void 0,function(t){exports.DEBUG&&console.log(t.step,"FLIPON[]"),t.autoFlip=!0},void 0,void 0,function(t){const e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"LT[]",n,r),e.push(r<n?1:0)},function(t){const e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"LTEQ[]",n,r),e.push(r<=n?1:0)},function(t){const e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"GT[]",n,r),e.push(r>n?1:0)},function(t){const e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"GTEQ[]",n,r),e.push(r>=n?1:0)},function(t){const e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"EQ[]",n,r),e.push(n===r?1:0)},function(t){const e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"NEQ[]",n,r),e.push(n!==r?1:0)},function(t){const e=t.stack,n=e.pop();exports.DEBUG&&console.log(t.step,"ODD[]",n),e.push(Math.trunc(n)%2?1:0)},function(t){const e=t.stack,n=e.pop();exports.DEBUG&&console.log(t.step,"EVEN[]",n),e.push(Math.trunc(n)%2?0:1)},function(t){let e=t.stack.pop();exports.DEBUG&&console.log(t.step,"IF[]",e),e||(Ge(t,!0),exports.DEBUG&&console.log(t.step,"EIF[]"))},function(t){exports.DEBUG&&console.log(t.step,"EIF[]")},function(t){const e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"AND[]",n,r),e.push(n&&r?1:0)},function(t){const e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"OR[]",n,r),e.push(n||r?1:0)},function(t){const e=t.stack,n=e.pop();exports.DEBUG&&console.log(t.step,"NOT[]",n),e.push(n?0:1)},rn.bind(void 0,1),function(t){const e=t.stack.pop();exports.DEBUG&&console.log(t.step,"SDB[]",e),t.deltaBase=e},function(t){const e=t.stack.pop();exports.DEBUG&&console.log(t.step,"SDS[]",e),t.deltaShift=Math.pow(.5,e)},function(t){const e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"ADD[]",n,r),e.push(r+n)},function(t){const e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"SUB[]",n,r),e.push(r-n)},function(t){const e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"DIV[]",n,r),e.push(64*r/n)},function(t){const e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"MUL[]",n,r),e.push(r*n/64)},function(t){const e=t.stack,n=e.pop();exports.DEBUG&&console.log(t.step,"ABS[]",n),e.push(Math.abs(n))},function(t){const e=t.stack;let n=e.pop();exports.DEBUG&&console.log(t.step,"NEG[]",n),e.push(-n)},function(t){const e=t.stack,n=e.pop();exports.DEBUG&&console.log(t.step,"FLOOR[]",n),e.push(64*Math.floor(n/64))},function(t){const e=t.stack,n=e.pop();exports.DEBUG&&console.log(t.step,"CEILING[]",n),e.push(64*Math.ceil(n/64))},on.bind(void 0,0),on.bind(void 0,1),on.bind(void 0,2),on.bind(void 0,3),void 0,void 0,void 0,void 0,function(t){const e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"WCVTF[]",n,r),t.cvt[r]=n*t.ppem/t.font.unitsPerEm},rn.bind(void 0,2),rn.bind(void 0,3),an.bind(void 0,1),an.bind(void 0,2),an.bind(void 0,3),function(t){let e,n=t.stack.pop();switch(exports.DEBUG&&console.log(t.step,"SROUND[]",n),t.round=_e,192&n){case 0:e=.5;break;case 64:e=1;break;case 128:e=2;break;default:throw new Error("invalid SROUND value")}switch(t.srPeriod=e,48&n){case 0:t.srPhase=0;break;case 16:t.srPhase=.25*e;break;case 32:t.srPhase=.5*e;break;case 48:t.srPhase=.75*e;break;default:throw new Error("invalid SROUND value")}n&=15,t.srThreshold=0===n?0:(n/8-.5)*e},function(t){let e,n=t.stack.pop();switch(exports.DEBUG&&console.log(t.step,"S45ROUND[]",n),t.round=_e,192&n){case 0:e=Math.sqrt(2)/2;break;case 64:e=Math.sqrt(2);break;case 128:e=2*Math.sqrt(2);break;default:throw new Error("invalid S45ROUND value")}switch(t.srPeriod=e,48&n){case 0:t.srPhase=0;break;case 16:t.srPhase=.25*e;break;case 32:t.srPhase=.5*e;break;case 48:t.srPhase=.75*e;break;default:throw new Error("invalid S45ROUND value")}n&=15,t.srThreshold=0===n?0:(n/8-.5)*e},void 0,void 0,function(t){exports.DEBUG&&console.log(t.step,"ROFF[]"),t.round=Te},void 0,function(t){exports.DEBUG&&console.log(t.step,"RUTG[]"),t.round=Re},function(t){exports.DEBUG&&console.log(t.step,"RDTG[]"),t.round=Ue},Ve,Ve,void 0,void 0,void 0,void 0,void 0,function(t){const e=t.stack.pop();exports.DEBUG&&console.log(t.step,"SCANCTRL[]",e)},sn.bind(void 0,0),sn.bind(void 0,1),function(t){const e=t.stack,n=e.pop();let r=0;exports.DEBUG&&console.log(t.step,"GETINFO[]",n),1&n&&(r=35),32&n&&(r|=4096),e.push(r)},void 0,function(t){const e=t.stack,n=e.pop(),r=e.pop(),o=e.pop();exports.DEBUG&&console.log(t.step,"ROLL[]"),e.push(r),e.push(n),e.push(o)},function(t){const e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"MAX[]",n,r),e.push(Math.max(r,n))},function(t){const e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"MIN[]",n,r),e.push(Math.min(r,n))},function(t){const e=t.stack.pop();exports.DEBUG&&console.log(t.step,"SCANTYPE[]",e)},function(t){const e=t.stack.pop();let n=t.stack.pop();switch(exports.DEBUG&&console.log(t.step,"INSTCTRL[]",e,n),e){case 1:return void(t.inhibitGridFit=!!n);case 2:return void(t.ignoreCvt=!!n);default:throw new Error("invalid INSTCTRL[] selector")}},void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,un.bind(void 0,1),un.bind(void 0,2),un.bind(void 0,3),un.bind(void 0,4),un.bind(void 0,5),un.bind(void 0,6),un.bind(void 0,7),un.bind(void 0,8),cn.bind(void 0,1),cn.bind(void 0,2),cn.bind(void 0,3),cn.bind(void 0,4),cn.bind(void 0,5),cn.bind(void 0,6),cn.bind(void 0,7),cn.bind(void 0,8),fn.bind(void 0,0,0,0,0,0),fn.bind(void 0,0,0,0,0,1),fn.bind(void 0,0,0,0,0,2),fn.bind(void 0,0,0,0,0,3),fn.bind(void 0,0,0,0,1,0),fn.bind(void 0,0,0,0,1,1),fn.bind(void 0,0,0,0,1,2),fn.bind(void 0,0,0,0,1,3),fn.bind(void 0,0,0,1,0,0),fn.bind(void 0,0,0,1,0,1),fn.bind(void 0,0,0,1,0,2),fn.bind(void 0,0,0,1,0,3),fn.bind(void 0,0,0,1,1,0),fn.bind(void 0,0,0,1,1,1),fn.bind(void 0,0,0,1,1,2),fn.bind(void 0,0,0,1,1,3),fn.bind(void 0,0,1,0,0,0),fn.bind(void 0,0,1,0,0,1),fn.bind(void 0,0,1,0,0,2),fn.bind(void 0,0,1,0,0,3),fn.bind(void 0,0,1,0,1,0),fn.bind(void 0,0,1,0,1,1),fn.bind(void 0,0,1,0,1,2),fn.bind(void 0,0,1,0,1,3),fn.bind(void 0,0,1,1,0,0),fn.bind(void 0,0,1,1,0,1),fn.bind(void 0,0,1,1,0,2),fn.bind(void 0,0,1,1,0,3),fn.bind(void 0,0,1,1,1,0),fn.bind(void 0,0,1,1,1,1),fn.bind(void 0,0,1,1,1,2),fn.bind(void 0,0,1,1,1,3),fn.bind(void 0,1,0,0,0,0),fn.bind(void 0,1,0,0,0,1),fn.bind(void 0,1,0,0,0,2),fn.bind(void 0,1,0,0,0,3),fn.bind(void 0,1,0,0,1,0),fn.bind(void 0,1,0,0,1,1),fn.bind(void 0,1,0,0,1,2),fn.bind(void 0,1,0,0,1,3),fn.bind(void 0,1,0,1,0,0),fn.bind(void 0,1,0,1,0,1),fn.bind(void 0,1,0,1,0,2),fn.bind(void 0,1,0,1,0,3),fn.bind(void 0,1,0,1,1,0),fn.bind(void 0,1,0,1,1,1),fn.bind(void 0,1,0,1,1,2),fn.bind(void 0,1,0,1,1,3),fn.bind(void 0,1,1,0,0,0),fn.bind(void 0,1,1,0,0,1),fn.bind(void 0,1,1,0,0,2),fn.bind(void 0,1,1,0,0,3),fn.bind(void 0,1,1,0,1,0),fn.bind(void 0,1,1,0,1,1),fn.bind(void 0,1,1,0,1,2),fn.bind(void 0,1,1,0,1,3),fn.bind(void 0,1,1,1,0,0),fn.bind(void 0,1,1,1,0,1),fn.bind(void 0,1,1,1,0,2),fn.bind(void 0,1,1,1,0,3),fn.bind(void 0,1,1,1,1,0),fn.bind(void 0,1,1,1,1,1),fn.bind(void 0,1,1,1,1,2),fn.bind(void 0,1,1,1,1,3)];var ln=ke;function pn(t){this.char=t,this.state={},this.activeState=null}function hn(t,e,n){this.contextName=n,this.startIndex=t,this.endOffset=e}function dn(t,e,n){this.contextName=t,this.openRange=null,this.ranges=[],this.checkStart=e,this.checkEnd=n}function mn(t,e){this.context=t,this.index=e,this.length=t.length,this.current=t[e],this.backtrack=t.slice(0,e),this.lookahead=t.slice(e+1)}function gn(t){this.eventId=t,this.subscribers=[]}function yn(t){const e=["start","end","next","newToken","contextStart","contextEnd","insertToken","removeToken","removeRange","replaceToken","replaceRange","composeRUD","updateContextsRanges"];e.forEach(t=>{Object.defineProperty(this.events,t,{value:new gn(t)})}),t&&e.forEach(e=>{const n=t[e];"function"==typeof n&&this.events[e].subscribe(n)});["insertToken","removeToken","removeRange","replaceToken","replaceRange","composeRUD"].forEach(t=>{this.events[t].subscribe(this.updateContextsRanges)})}function vn(t){this.tokens=[],this.registeredContexts={},this.contextCheckers=[],this.events={},this.registeredModifiers=[],yn.call(this,t)}pn.prototype.setState=function(t,e){return this.state[t]=e,this.activeState={key:t,value:this.state[t]},this.activeState},pn.prototype.getState=function(t){return this.state[t]||null},vn.prototype.inboundIndex=function(t){return t>=0&&t<this.tokens.length},vn.prototype.composeRUD=function(t){const e=t.map(t=>this[t[0]].apply(this,t.slice(1).concat(!0))),n=t=>"object"==typeof t&&t.hasOwnProperty("FAIL");if(e.every(n))return{FAIL:"composeRUD: one or more operations hasn't completed successfully",report:e.filter(n)};this.dispatch("composeRUD",[e.filter(t=>!n(t))])},vn.prototype.replaceRange=function(t,e,n,r){e=null!==e?e:this.tokens.length;const o=n.every(t=>t instanceof pn);if(!isNaN(t)&&this.inboundIndex(t)&&o){const o=this.tokens.splice.apply(this.tokens,[t,e].concat(n));return r||this.dispatch("replaceToken",[t,e,n]),[o,n]}return{FAIL:"replaceRange: invalid tokens or startIndex."}},vn.prototype.replaceToken=function(t,e,n){if(!isNaN(t)&&this.inboundIndex(t)&&e instanceof pn){const r=this.tokens.splice(t,1,e);return n||this.dispatch("replaceToken",[t,e]),[r[0],e]}return{FAIL:"replaceToken: invalid token or index."}},vn.prototype.removeRange=function(t,e,n){e=isNaN(e)?this.tokens.length:e;const r=this.tokens.splice(t,e);return n||this.dispatch("removeRange",[r,t,e]),r},vn.prototype.removeToken=function(t,e){if(!isNaN(t)&&this.inboundIndex(t)){const n=this.tokens.splice(t,1);return e||this.dispatch("removeToken",[n,t]),n}return{FAIL:"removeToken: invalid token index."}},vn.prototype.insertToken=function(t,e,n){return t.every(t=>t instanceof pn)?(this.tokens.splice.apply(this.tokens,[e,0].concat(t)),n||this.dispatch("insertToken",[t,e]),t):{FAIL:"insertToken: invalid token(s)."}},vn.prototype.registerModifier=function(t,e,n){this.events.newToken.subscribe((function(r,o){const i=[r,o],a=[r,o];if(null===e||!0===e.apply(this,i)){let e=n.apply(this,a);r.setState(t,e)}})),this.registeredModifiers.push(t)},gn.prototype.subscribe=function(t){return"function"==typeof t?this.subscribers.push(t)-1:{FAIL:`invalid '${this.eventId}' event handler`}},gn.prototype.unsubscribe=function(t){this.subscribers.splice(t,1)},mn.prototype.setCurrentIndex=function(t){this.index=t,this.current=this.context[t],this.backtrack=this.context.slice(0,t),this.lookahead=this.context.slice(t+1)},mn.prototype.get=function(t){switch(!0){case 0===t:return this.current;case t<0&&Math.abs(t)<=this.backtrack.length:return this.backtrack.slice(t)[0];case t>0&&t<=this.lookahead.length:return this.lookahead[t-1];default:return null}},vn.prototype.rangeToText=function(t){if(t instanceof hn)return this.getRangeTokens(t).map(t=>t.char).join("")},vn.prototype.getText=function(){return this.tokens.map(t=>t.char).join("")},vn.prototype.getContext=function(t){let e=this.registeredContexts[t];return e||null},vn.prototype.on=function(t,e){const n=this.events[t];return n?n.subscribe(e):null},vn.prototype.dispatch=function(t,e){const n=this.events[t];n instanceof gn&&n.subscribers.forEach(t=>{t.apply(this,e||[])})},vn.prototype.registerContextChecker=function(t,e,n){if(this.getContext(t))return{FAIL:`context name '${t}' is already registered.`};if("function"!=typeof e)return{FAIL:"missing context start check."};if("function"!=typeof n)return{FAIL:"missing context end check."};const r=new dn(t,e,n);return this.registeredContexts[t]=r,this.contextCheckers.push(r),r},vn.prototype.getRangeTokens=function(t){const e=t.startIndex+t.endOffset;return[].concat(this.tokens.slice(t.startIndex,e))},vn.prototype.getContextRanges=function(t){const e=this.getContext(t);return e?e.ranges:{FAIL:`context checker '${t}' is not registered.`}},vn.prototype.resetContextsRanges=function(){const t=this.registeredContexts;for(const e in t)if(t.hasOwnProperty(e)){t[e].ranges=[]}},vn.prototype.updateContextsRanges=function(){this.resetContextsRanges();const t=this.tokens.map(t=>t.char);for(let e=0;e<t.length;e++){const n=new mn(t,e);this.runContextCheck(n)}this.dispatch("updateContextsRanges",[this.registeredContexts])},vn.prototype.setEndOffset=function(t,e){let n=new hn(this.getContext(e).openRange.startIndex,t,e);const r=this.getContext(e).ranges;return n.rangeId=`${e}.${r.length}`,r.push(n),this.getContext(e).openRange=null,n},vn.prototype.runContextCheck=function(t){const e=t.index;this.contextCheckers.forEach(n=>{let r=n.contextName,o=this.getContext(r).openRange;if(!o&&n.checkStart(t)&&(o=new hn(e,null,r),this.getContext(r).openRange=o,this.dispatch("contextStart",[r,e])),o&&n.checkEnd(t)){const t=e-o.startIndex+1,n=this.setEndOffset(t,r);this.dispatch("contextEnd",[r,n])}})},vn.prototype.tokenize=function(t){this.tokens=[],this.resetContextsRanges();let e=Array.from(t);this.dispatch("start");for(let t=0;t<e.length;t++){const n=e[t],r=new mn(e,t);this.dispatch("next",[r]),this.runContextCheck(r);let o=new pn(n);this.tokens.push(o),this.dispatch("newToken",[o,r])}return this.dispatch("end",[this.tokens]),this.tokens};var bn=vn;function xn(t){return/[\u0600-\u065F\u066A-\u06D2\u06FA-\u06FF]/.test(t)}function wn(t){return/[\u0630\u0690\u0621\u0631\u0661\u0671\u0622\u0632\u0672\u0692\u06C2\u0623\u0673\u0693\u06C3\u0624\u0694\u06C4\u0625\u0675\u0695\u06C5\u06E5\u0676\u0696\u06C6\u0627\u0677\u0697\u06C7\u0648\u0688\u0698\u06C8\u0689\u0699\u06C9\u068A\u06CA\u066B\u068B\u06CB\u068C\u068D\u06CD\u06FD\u068E\u06EE\u06FE\u062F\u068F\u06CF\u06EF]/.test(t)}function Sn(t){return/[\u0600-\u0605\u060C-\u060E\u0610-\u061B\u061E\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED]/.test(t)}function Mn(t){return/[A-z]/.test(t)}function kn(t){this.font=t,this.features={}}function Tn(t){this.id=t.id,this.tag=t.tag,this.substitution=t.substitution}function En(t,e){if(!t)return-1;switch(e.format){case 1:return e.glyphs.indexOf(t);case 2:let n=e.ranges;for(let e=0;e<n.length;e++){const r=n[e];if(t>=r.start&&t<=r.end){let e=t-r.start;return r.index+e}}break;default:return-1}return-1}function An(t,e){return-1===En(t,e.coverage)?null:t+e.deltaGlyphId}function On(t,e){let n=En(t,e.coverage);return-1===n?null:e.substitute[n]}function Rn(t,e){let n=[];for(let r=0;r<t.length;r++){const o=t[r];let i=e.current;i=Array.isArray(i)?i[0]:i;const a=En(i,o);-1!==a&&n.push(a)}return n.length!==t.length?-1:n}function Un(t,e){const n=e.inputCoverage.length+e.lookaheadCoverage.length+e.backtrackCoverage.length;if(t.context.length<n)return[];let r=Rn(e.inputCoverage,t);if(-1===r)return[];const o=e.inputCoverage.length-1;if(t.lookahead.length<e.lookaheadCoverage.length)return[];let i=t.lookahead.slice(o);for(;i.length&&Sn(i[0].char);)i.shift();const a=new mn(i,0);let s=Rn(e.lookaheadCoverage,a),u=[].concat(t.backtrack);for(u.reverse();u.length&&Sn(u[0].char);)u.shift();if(u.length<e.backtrackCoverage.length)return[];const c=new mn(u,0);let f=Rn(e.backtrackCoverage,c);let l=[];if(r.length===e.inputCoverage.length&&s.length===e.lookaheadCoverage.length&&f.length===e.backtrackCoverage.length)for(let n=0;n<e.lookupRecords.length;n++){const o=e.lookupRecords[n].lookupListIndex,i=this.getLookupByIndex(o);for(let e=0;e<i.subtables.length;e++){const n=i.subtables[e],o=this.getLookupMethod(i,n);if("12"===this.getSubstitutionType(i,n))for(let e=0;e<r.length;e++){const n=o(t.get(e));n&&l.push(n)}}}return l}function _n(t,e){let n,r=En(t.current,e.coverage);if(-1===r)return null;let o=e.ligatureSets[r];for(let e=0;e<o.length;e++){n=o[e];for(let e=0;e<n.components.length;e++){if(t.lookahead[e]!==n.components[e])break;if(e===n.components.length-1)return n}}return null}function Dn(t,e){let n=En(t,e.coverage);return-1===n?null:e.sequences[n]}kn.prototype.getDefaultScriptFeaturesIndexes=function(){const t=this.font.tables.gsub.scripts;for(let e=0;e<t.length;e++){const n=t[e];if("DFLT"===n.tag)return n.script.defaultLangSys.featureIndexes}return[]},kn.prototype.getScriptFeaturesIndexes=function(t){if(!this.font.tables.gsub)return[];if(!t)return this.getDefaultScriptFeaturesIndexes();const e=this.font.tables.gsub.scripts;for(let n=0;n<e.length;n++){const r=e[n];if(r.tag===t&&r.script.defaultLangSys)return r.script.defaultLangSys.featureIndexes;{let e=r.langSysRecords;if(e)for(let n=0;n<e.length;n++){const r=e[n];if(r.tag===t){return r.langSys.featureIndexes}}}}return this.getDefaultScriptFeaturesIndexes()},kn.prototype.mapTagsToFeatures=function(t,e){let n={};for(let e=0;e<t.length;e++){const r=t[e].tag,o=t[e].feature;n[r]=o}this.features[e].tags=n},kn.prototype.getScriptFeatures=function(t){let e=this.features[t];if(this.features.hasOwnProperty(t))return e;const n=this.getScriptFeaturesIndexes(t);if(!n)return null;const r=this.font.tables.gsub;return e=n.map(t=>r.features[t]),this.features[t]=e,this.mapTagsToFeatures(e,t),e},kn.prototype.getSubstitutionType=function(t,e){return t.lookupType.toString()+e.substFormat.toString()},kn.prototype.getLookupMethod=function(t,e){switch(this.getSubstitutionType(t,e)){case"11":return t=>An.apply(this,[t,e]);case"12":return t=>On.apply(this,[t,e]);case"63":return t=>Un.apply(this,[t,e]);case"41":return t=>_n.apply(this,[t,e]);case"21":return t=>Dn.apply(this,[t,e]);default:throw new Error(`lookupType: ${t.lookupType} - `+`substFormat: ${e.substFormat} `+"is not yet supported")}},kn.prototype.lookupFeature=function(t){let e=t.contextParams,n=e.index;const r=this.getFeature({tag:t.tag,script:t.script});if(!r)return new Error(`font '${this.font.names.fullName.en}' `+`doesn't support feature '${t.tag}' `+`for script '${t.script}'.`);const o=this.getFeatureLookups(r),i=[].concat(e.context);for(let r=0;r<o.length;r++){const a=o[r],s=this.getLookupSubtables(a);for(let r=0;r<s.length;r++){const o=s[r],u=this.getSubstitutionType(a,o),c=this.getLookupMethod(a,o);let f;switch(u){case"11":f=c(e.current),f&&i.splice(n,1,new Tn({id:11,tag:t.tag,substitution:f}));break;case"12":f=c(e.current),f&&i.splice(n,1,new Tn({id:12,tag:t.tag,substitution:f}));break;case"63":f=c(e),Array.isArray(f)&&f.length&&i.splice(n,1,new Tn({id:63,tag:t.tag,substitution:f}));break;case"41":f=c(e),f&&i.splice(n,1,new Tn({id:41,tag:t.tag,substitution:f}));break;case"21":f=c(e.current),f&&i.splice(n,1,new Tn({id:21,tag:t.tag,substitution:f}))}e=new mn(i,n),Array.isArray(f)&&!f.length||(f=null)}}return i.length?i:null},kn.prototype.supports=function(t){if(!t.script)return!1;this.getScriptFeatures(t.script);const e=this.features.hasOwnProperty(t.script);if(!t.tag)return e;const n=this.features[t.script].some(e=>e.tag===t.tag);return e&&n},kn.prototype.getLookupSubtables=function(t){return t.subtables||null},kn.prototype.getLookupByIndex=function(t){return this.font.tables.gsub.lookups[t]||null},kn.prototype.getFeatureLookups=function(t){return t.lookupListIndexes.map(this.getLookupByIndex.bind(this))},kn.prototype.getFeature=function(t){if(!this.font)return{FAIL:"No font was found"};this.features.hasOwnProperty(t.script)||this.getScriptFeatures(t.script);const e=this.features[t.script];return e?e.tags[t.tag]?this.features[t.script].tags[t.tag]:null:{FAIL:`No feature for script ${t.script}`}};var Cn=kn;var Ln={startCheck:function(t){const e=t.current,n=t.get(-1);return null===n&&xn(e)||!xn(n)&&xn(e)},endCheck:function(t){const e=t.get(1);return(null===e||!xn(e))}};var In={startCheck:function(t){const e=t.current,n=t.get(-1);return(xn(e)||Sn(e))&&!xn(n)},endCheck:function(t){const e=t.get(1);switch(!0){case null===e:return!0;case!xn(e)&&!Sn(e):const n=/\s/.test(e);if(!n)return!0;if(n){let e=!1;if(e=t.lookahead.some(t=>xn(t)||Sn(t)),!e)return!0}break;default:return!1}}};const Pn={11:function(t,e,n){e[n].setState(t.tag,t.substitution)},12:function(t,e,n){e[n].setState(t.tag,t.substitution)},63:function(t,e,n){t.substitution.forEach((r,o)=>{e[n+o].setState(t.tag,r)})},41:function(t,e,n){let r=e[n];r.setState(t.tag,t.substitution.ligGlyph);const o=t.substitution.components.length;for(let t=0;t<o;t++)r=e[n+t+1],r.setState("deleted",!0)}};var Fn=function(t,e,n){t instanceof Tn&&Pn[t.id](t,e,n)};var Bn=function(t){const e=this.featuresTags.arab,n=this.tokenizer.getRangeTokens(t);if(1===n.length)return;let r=new mn(n.map(t=>t.getState("glyphIndex")),0);const o=new mn(n.map(t=>t.char),0);n.forEach((t,i)=>{if(Sn(t.char))return;r.setCurrentIndex(i),o.setCurrentIndex(i);let a,s=0;switch(function(t){let e=[].concat(t.backtrack);for(let t=e.length-1;t>=0;t--){const n=e[t],r=wn(n),o=Sn(n);if(!r&&!o)return!0;if(r)return!1}return!1}(o)&&(s|=1),function(t){if(wn(t.current))return!1;for(let e=0;e<t.lookahead.length;e++){if(!Sn(t.lookahead[e]))return!0}return!1}(o)&&(s|=2),s){case 1:a="fina";break;case 2:a="init";break;case 3:a="medi"}if(-1===e.indexOf(a))return;let u=this.query.lookupFeature({tag:a,script:"arab",contextParams:r});if(u instanceof Error)return console.info(u.message);u.forEach((t,e)=>{t instanceof Tn&&(Fn(t,n,e),r.context[e]=t.substitution)})})};function Nn(t,e){return new mn(t.map(t=>t.activeState.value),e||0)}var jn=function(t){let e=this.tokenizer.getRangeTokens(t),n=Nn(e);n.context.forEach((t,r)=>{n.setCurrentIndex(r);let o=this.query.lookupFeature({tag:"rlig",script:"arab",contextParams:n});o.length&&(o.forEach(t=>Fn(t,e,r)),n=Nn(e))})};var Gn={startCheck:function(t){const e=t.current,n=t.get(-1);return null===n&&Mn(e)||!Mn(n)&&Mn(e)},endCheck:function(t){const e=t.get(1);return(null===e||!Mn(e))}};function zn(t,e){return new mn(t.map(t=>t.activeState.value),e||0)}var Hn=function(t){let e=this.tokenizer.getRangeTokens(t),n=zn(e);n.context.forEach((t,r)=>{n.setCurrentIndex(r);let o=this.query.lookupFeature({tag:"liga",script:"latn",contextParams:n});o.length&&(o.forEach(t=>Fn(t,e,r)),n=zn(e))})};function qn(t){this.baseDir=t||"ltr",this.tokenizer=new bn,this.featuresTags={}}function Yn(t){const e=this.contextChecks[`${t}Check`];return this.tokenizer.registerContextChecker(t,e.startCheck,e.endCheck)}function Wn(){return Yn.call(this,"latinWord"),Yn.call(this,"arabicWord"),Yn.call(this,"arabicSentence"),this.tokenizer.tokenize(this.text)}function Vn(){this.tokenizer.getContextRanges("arabicSentence").forEach(t=>{let e=this.tokenizer.getRangeTokens(t);this.tokenizer.replaceRange(t.startIndex,t.endOffset,e.reverse())})}function Xn(){if(-1===this.tokenizer.registeredModifiers.indexOf("glyphIndex"))throw new Error("glyphIndex modifier is required to apply arabic presentation features.")}function Zn(){this.featuresTags.hasOwnProperty("arab")&&(Xn.call(this),this.tokenizer.getContextRanges("arabicWord").forEach(t=>{Bn.call(this,t)}))}function Qn(){this.featuresTags.hasOwnProperty("arab")&&-1!==this.featuresTags.arab.indexOf("rlig")&&(Xn.call(this),this.tokenizer.getContextRanges("arabicWord").forEach(t=>{jn.call(this,t)}))}function $n(){this.featuresTags.hasOwnProperty("latn")&&-1!==this.featuresTags.latn.indexOf("liga")&&(Xn.call(this),this.tokenizer.getContextRanges("latinWord").forEach(t=>{Hn.call(this,t)}))}qn.prototype.setText=function(t){this.text=t},qn.prototype.contextChecks={latinWordCheck:Gn,arabicWordCheck:Ln,arabicSentenceCheck:In},qn.prototype.registerFeatures=function(t,e){const n=e.filter(e=>this.query.supports({script:t,tag:e}));this.featuresTags.hasOwnProperty(t)?this.featuresTags[t]=this.featuresTags[t].concat(n):this.featuresTags[t]=n},qn.prototype.applyFeatures=function(t,e){if(!t)throw new Error("No valid font was provided to apply features");this.query||(this.query=new Cn(t));for(let t=0;t<e.length;t++){const n=e[t];this.query.supports({script:n.script})&&this.registerFeatures(n.script,n.tags)}},qn.prototype.registerModifier=function(t,e,n){this.tokenizer.registerModifier(t,e,n)},qn.prototype.checkContextReady=function(t){return!!this.tokenizer.getContext(t)},qn.prototype.applyFeaturesToContexts=function(){this.checkContextReady("arabicWord")&&(Zn.call(this),Qn.call(this)),this.checkContextReady("latinWord")&&$n.call(this),this.checkContextReady("arabicSentence")&&Vn.call(this)},qn.prototype.processText=function(t){this.text&&this.text===t||(this.setText(t),Wn.call(this),this.applyFeaturesToContexts())},qn.prototype.getBidiText=function(t){return this.processText(t),this.tokenizer.getText()},qn.prototype.getTextGlyphs=function(t){this.processText(t);let e=[];for(let t=0;t<this.tokenizer.tokens.length;t++){const n=this.tokenizer.tokens[t];if(n.state.deleted)continue;const r=n.activeState.value;e.push(Array.isArray(r)?r[0]:r)}return e};var Kn=qn;function Jn(t){(t=t||{}).empty||(Object(he.b)(t.familyName,"When creating a new Font object, familyName is required."),Object(he.b)(t.styleName,"When creating a new Font object, styleName is required."),Object(he.b)(t.unitsPerEm,"When creating a new Font object, unitsPerEm is required."),Object(he.b)(t.ascender,"When creating a new Font object, ascender is required."),Object(he.b)(t.descender,"When creating a new Font object, descender is required."),Object(he.b)(t.descender<0,"Descender should be negative (e.g. -512)."),this.names={fontFamily:{en:t.familyName||" "},fontSubfamily:{en:t.styleName||" "},fullName:{en:t.fullName||t.familyName+" "+t.styleName},postScriptName:{en:t.postScriptName||(t.familyName+t.styleName).replace(/\s/g,"")},designer:{en:t.designer||" "},designerURL:{en:t.designerURL||" "},manufacturer:{en:t.manufacturer||" "},manufacturerURL:{en:t.manufacturerURL||" "},license:{en:t.license||" "},licenseURL:{en:t.licenseURL||" "},version:{en:t.version||"Version 0.1"},description:{en:t.description||" "},copyright:{en:t.copyright||" "},trademark:{en:t.trademark||" "}},this.unitsPerEm=t.unitsPerEm||1e3,this.ascender=t.ascender,this.descender=t.descender,this.createdTimestamp=t.createdTimestamp,this.tables={os2:{usWeightClass:t.weightClass||this.usWeightClasses.MEDIUM,usWidthClass:t.widthClass||this.usWidthClasses.MEDIUM,fsSelection:t.fsSelection||this.fsSelectionValues.REGULAR}}),this.supported=!0,this.glyphs=new ot.GlyphSet(this,t.glyphs||[]),this.encoding=new X(this),this.position=new ue(this),this.substitution=new pe(this),this.tables=this.tables||{},this._push=null,this._hmtxTableData={},Object.defineProperty(this,"hinting",{get:function(){return this._hinting?this._hinting:"truetype"===this.outlinesFormat?this._hinting=new ln(this):void 0}})}Jn.prototype.hasChar=function(t){return null!==this.encoding.charToGlyphIndex(t)},Jn.prototype.charToGlyphIndex=function(t){return this.encoding.charToGlyphIndex(t)},Jn.prototype.charToGlyph=function(t){const e=this.charToGlyphIndex(t);let n=this.glyphs.get(e);return n||(n=this.glyphs.get(0)),n},Jn.prototype.updateFeatures=function(t){return this.defaultRenderOptions.features.map(e=>"latn"===e.script?{script:"latn",tags:e.tags.filter(e=>t[e])}:e)},Jn.prototype.stringToGlyphs=function(t,e){const n=new Kn;n.registerModifier("glyphIndex",null,t=>this.charToGlyphIndex(t.char));let r=e?this.updateFeatures(e.features):this.defaultRenderOptions.features;n.applyFeatures(this,r);const o=n.getTextGlyphs(t);let i=o.length;const a=new Array(i),s=this.glyphs.get(0);for(let t=0;t<i;t+=1)a[t]=this.glyphs.get(o[t])||s;return a},Jn.prototype.nameToGlyphIndex=function(t){return this.glyphNames.nameToGlyphIndex(t)},Jn.prototype.nameToGlyph=function(t){const e=this.nameToGlyphIndex(t);let n=this.glyphs.get(e);return n||(n=this.glyphs.get(0)),n},Jn.prototype.glyphIndexToName=function(t){return this.glyphNames.glyphIndexToName?this.glyphNames.glyphIndexToName(t):""},Jn.prototype.getKerningValue=function(t,e){t=t.index||t,e=e.index||e;const n=this.position.defaultKerningTables;return n?this.position.getKerningValue(n,t,e):this.kerningPairs[t+","+e]||0},Jn.prototype.defaultRenderOptions={kerning:!0,features:[{script:"arab",tags:["init","medi","fina","rlig"]},{script:"latn",tags:["liga","rlig"]}]},Jn.prototype.forEachGlyph=function(t,e,n,r,o,i){e=void 0!==e?e:0,n=void 0!==n?n:0,r=void 0!==r?r:72,o=o||this.defaultRenderOptions;const a=1/this.unitsPerEm*r,s=this.stringToGlyphs(t,o);let u;if(o.kerning){const t=o.script||this.position.getDefaultScriptName();u=this.position.getKerningTables(t,o.language)}for(let t=0;t<s.length;t+=1){const c=s[t];if(i.call(this,c,e,n,r,o),c.advanceWidth&&(e+=c.advanceWidth*a),o.kerning&&t<s.length-1){e+=(u?this.position.getKerningValue(u,c.index,s[t+1].index):this.getKerningValue(c,s[t+1]))*a}o.letterSpacing?e+=o.letterSpacing*r:o.tracking&&(e+=o.tracking/1e3*r)}return e},Jn.prototype.getPath=function(t,e,n,r,o){const i=new c;return this.forEachGlyph(t,e,n,r,o,(function(t,e,n,r){const a=t.getPath(e,n,r,o,this);i.extend(a)})),i},Jn.prototype.getPaths=function(t,e,n,r,o){const i=[];return this.forEachGlyph(t,e,n,r,o,(function(t,e,n,r){const a=t.getPath(e,n,r,o,this);i.push(a)})),i},Jn.prototype.getAdvanceWidth=function(t,e,n){return this.forEachGlyph(t,0,0,e,n,(function(){}))},Jn.prototype.draw=function(t,e,n,r,o,i){this.getPath(e,n,r,o,i).draw(t)},Jn.prototype.drawPoints=function(t,e,n,r,o,i){this.forEachGlyph(e,n,r,o,i,(function(e,n,r,o){e.drawPoints(t,n,r,o)}))},Jn.prototype.drawMetrics=function(t,e,n,r,o,i){this.forEachGlyph(e,n,r,o,i,(function(e,n,r,o){e.drawMetrics(t,n,r,o)}))},Jn.prototype.getEnglishName=function(t){const e=this.names[t];if(e)return e.en},Jn.prototype.validate=function(){const t=[],e=this;function n(e,n){e||t.push(n)}function r(t){const r=e.getEnglishName(t);n(r&&r.trim().length>0,"No English "+t+" specified.")}r("fontFamily"),r("weightName"),r("manufacturer"),r("copyright"),r("version"),n(this.unitsPerEm>0,"No unitsPerEm specified.")},Jn.prototype.toTables=function(){return ee.fontToTable(this)},Jn.prototype.toBuffer=function(){return console.warn("Font.toBuffer is deprecated. Use Font.toArrayBuffer instead."),this.toArrayBuffer()},Jn.prototype.toArrayBuffer=function(){const t=this.toTables().encode(),e=new ArrayBuffer(t.length),n=new Uint8Array(e);for(let e=0;e<t.length;e++)n[e]=t[e];return e},Jn.prototype.download=function(t){const e=this.getEnglishName("fontFamily"),r=this.getEnglishName("fontSubfamily");t=t||e.replace(/\s/g,"")+"-"+r+".otf";const o=this.toArrayBuffer();if(Object(he.c)())if(window.URL=window.URL||window.webkitURL,window.URL){const e=new DataView(o),n=new Blob([e],{type:"font/opentype"});let r=document.createElement("a");r.href=window.URL.createObjectURL(n),r.download=t;let i=document.createEvent("MouseEvents");i.initEvent("click",!0,!1),r.dispatchEvent(i)}else console.warn("Font file could not be downloaded. Try using a different browser.");else{const e=n(283),r=Object(he.a)(o);e.writeFileSync(t,r)}},Jn.prototype.fsSelectionValues={ITALIC:1,UNDERSCORE:2,NEGATIVE:4,OUTLINED:8,STRIKEOUT:16,BOLD:32,REGULAR:64,USER_TYPO_METRICS:128,WWS:256,OBLIQUE:512},Jn.prototype.usWidthClasses={ULTRA_CONDENSED:1,EXTRA_CONDENSED:2,CONDENSED:3,SEMI_CONDENSED:4,MEDIUM:5,SEMI_EXPANDED:6,EXPANDED:7,EXTRA_EXPANDED:8,ULTRA_EXPANDED:9},Jn.prototype.usWeightClasses={THIN:100,EXTRA_LIGHT:200,LIGHT:300,NORMAL:400,MEDIUM:500,SEMI_BOLD:600,BOLD:700,EXTRA_BOLD:800,BLACK:900};var tr=Jn;function er(t,e){const n=JSON.stringify(t);let r=256;for(let t in e){let o=parseInt(t);if(o&&!(o<256)){if(JSON.stringify(e[t])===n)return o;r<=o&&(r=o+1)}}return e[r]=t,r}function nr(t,e,n){const r=er(e.name,n);return[{name:"tag_"+t,type:"TAG",value:e.tag},{name:"minValue_"+t,type:"FIXED",value:e.minValue<<16},{name:"defaultValue_"+t,type:"FIXED",value:e.defaultValue<<16},{name:"maxValue_"+t,type:"FIXED",value:e.maxValue<<16},{name:"flags_"+t,type:"USHORT",value:0},{name:"nameID_"+t,type:"USHORT",value:r}]}function rr(t,e,n){const r={},o=new G.Parser(t,e);return r.tag=o.parseTag(),r.minValue=o.parseFixed(),r.defaultValue=o.parseFixed(),r.maxValue=o.parseFixed(),o.skip("uShort",1),r.name=n[o.parseUShort()]||{},r}function or(t,e,n,r){const o=[{name:"nameID_"+t,type:"USHORT",value:er(e.name,r)},{name:"flags_"+t,type:"USHORT",value:0}];for(let r=0;r<n.length;++r){const i=n[r].tag;o.push({name:"axis_"+t+" "+i,type:"FIXED",value:e.coordinates[i]<<16})}return o}function ir(t,e,n,r){const o={},i=new G.Parser(t,e);o.name=r[i.parseUShort()]||{},i.skip("uShort",1),o.coordinates={};for(let t=0;t<n.length;++t)o.coordinates[n[t].tag]=i.parseFixed();return o}var ar={make:function(t,e){const n=new C.Table("fvar",[{name:"version",type:"ULONG",value:65536},{name:"offsetToData",type:"USHORT",value:0},{name:"countSizePairs",type:"USHORT",value:2},{name:"axisCount",type:"USHORT",value:t.axes.length},{name:"axisSize",type:"USHORT",value:20},{name:"instanceCount",type:"USHORT",value:t.instances.length},{name:"instanceSize",type:"USHORT",value:4+4*t.axes.length}]);n.offsetToData=n.sizeOf();for(let r=0;r<t.axes.length;r++)n.fields=n.fields.concat(nr(r,t.axes[r],e));for(let r=0;r<t.instances.length;r++)n.fields=n.fields.concat(or(r,t.instances[r],t.axes,e));return n},parse:function(t,e,n){const r=new G.Parser(t,e),o=r.parseULong();p.argument(65536===o,"Unsupported fvar table version.");const i=r.parseOffset16();r.skip("uShort",1);const a=r.parseUShort(),s=r.parseUShort(),u=r.parseUShort(),c=r.parseUShort(),f=[];for(let r=0;r<a;r++)f.push(rr(t,e+i+r*s,n));const l=[],h=e+i+a*s;for(let e=0;e<u;e++)l.push(ir(t,h+e*c,f,n));return{axes:f,instances:l}}};const sr=new Array(10);sr[1]=function(){const t=this.offset+this.relativeOffset,e=this.parseUShort();return 1===e?{posFormat:1,coverage:this.parsePointer(N.coverage),value:this.parseValueRecord()}:2===e?{posFormat:2,coverage:this.parsePointer(N.coverage),values:this.parseValueRecordList()}:void p.assert(!1,"0x"+t.toString(16)+": GPOS lookup type 1 format must be 1 or 2.")},sr[2]=function(){const t=this.offset+this.relativeOffset,e=this.parseUShort();p.assert(1===e||2===e,"0x"+t.toString(16)+": GPOS lookup type 2 format must be 1 or 2.");const n=this.parsePointer(N.coverage),r=this.parseUShort(),o=this.parseUShort();if(1===e)return{posFormat:e,coverage:n,valueFormat1:r,valueFormat2:o,pairSets:this.parseList(N.pointer(N.list((function(){return{secondGlyph:this.parseUShort(),value1:this.parseValueRecord(r),value2:this.parseValueRecord(o)}}))))};if(2===e){const t=this.parsePointer(N.classDef),i=this.parsePointer(N.classDef),a=this.parseUShort(),s=this.parseUShort();return{posFormat:e,coverage:n,valueFormat1:r,valueFormat2:o,classDef1:t,classDef2:i,class1Count:a,class2Count:s,classRecords:this.parseList(a,N.list(s,(function(){return{value1:this.parseValueRecord(r),value2:this.parseValueRecord(o)}})))}}},sr[3]=function(){return{error:"GPOS Lookup 3 not supported"}},sr[4]=function(){return{error:"GPOS Lookup 4 not supported"}},sr[5]=function(){return{error:"GPOS Lookup 5 not supported"}},sr[6]=function(){return{error:"GPOS Lookup 6 not supported"}},sr[7]=function(){return{error:"GPOS Lookup 7 not supported"}},sr[8]=function(){return{error:"GPOS Lookup 8 not supported"}},sr[9]=function(){return{error:"GPOS Lookup 9 not supported"}};const ur=new Array(10);var cr={parse:function(t,e){const n=new N(t,e=e||0),r=n.parseVersion(1);return p.argument(1===r||1.1===r,"Unsupported GPOS table version "+r),1===r?{version:r,scripts:n.parseScriptList(),features:n.parseFeatureList(),lookups:n.parseLookupList(sr)}:{version:r,scripts:n.parseScriptList(),features:n.parseFeatureList(),lookups:n.parseLookupList(sr),variations:n.parseFeatureVariationsList()}},make:function(t){return new C.Table("GPOS",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new C.ScriptList(t.scripts)},{name:"features",type:"TABLE",value:new C.FeatureList(t.features)},{name:"lookups",type:"TABLE",value:new C.LookupList(t.lookups,ur)}])}};var fr={parse:function(t,e){const n=new G.Parser(t,e),r=n.parseUShort();if(0===r)return function(t){const e={};t.skip("uShort");const n=t.parseUShort();p.argument(0===n,"Unsupported kern sub-table version."),t.skip("uShort",2);const r=t.parseUShort();t.skip("uShort",3);for(let n=0;n<r;n+=1){const n=t.parseUShort(),r=t.parseUShort(),o=t.parseShort();e[n+","+r]=o}return e}(n);if(1===r)return function(t){const e={};t.skip("uShort"),t.parseULong()>1&&console.warn("Only the first kern subtable is supported."),t.skip("uLong");const n=255&t.parseUShort();if(t.skip("uShort"),0===n){const n=t.parseUShort();t.skip("uShort",3);for(let r=0;r<n;r+=1){const n=t.parseUShort(),r=t.parseUShort(),o=t.parseShort();e[n+","+r]=o}}return e}(n);throw new Error("Unsupported kern table version ("+r+").")}};var lr={parse:function(t,e,n,r){const o=new G.Parser(t,e),i=r?o.parseUShort:o.parseULong,a=[];for(let t=0;t<n+1;t+=1){let t=i.call(o);r&&(t*=2),a.push(t)}return a}};function pr(t,e){n(283).readFile(t,(function(t,n){if(t)return e(t.message);e(null,Object(he.d)(n))}))}function hr(t,e){const n=new XMLHttpRequest;n.open("get",t,!0),n.responseType="arraybuffer",n.onload=function(){return n.response?e(null,n.response):e("Font could not be loaded: "+n.statusText)},n.onerror=function(){e("Font could not be loaded")},n.send()}function dr(t,e){const n=[];let r=12;for(let o=0;o<e;o+=1){const e=G.getTag(t,r),o=G.getULong(t,r+4),i=G.getULong(t,r+8),a=G.getULong(t,r+12);n.push({tag:e,checksum:o,offset:i,length:a,compression:!1}),r+=16}return n}function mr(t,e){if("WOFF"===e.compression){const n=new Uint8Array(t.buffer,e.offset+2,e.compressedLength-2),r=new Uint8Array(e.length);if(o()(n,r),r.byteLength!==e.length)throw new Error("Decompression error: "+e.tag+" decompressed length doesn't match recorded length");return{data:new DataView(r.buffer,0),offset:0}}return{data:t,offset:e.offset}}function gr(t,e){let n,r;e=null==e?{}:e;const o=new tr({empty:!0}),i=new DataView(t,0);let a,s=[];const u=G.getTag(i,0);if(u===String.fromCharCode(0,1,0,0)||"true"===u||"typ1"===u)o.outlinesFormat="truetype",a=G.getUShort(i,4),s=dr(i,a);else if("OTTO"===u)o.outlinesFormat="cff",a=G.getUShort(i,4),s=dr(i,a);else{if("wOFF"!==u)throw new Error("Unsupported OpenType signature "+u);{const t=G.getTag(i,4);if(t===String.fromCharCode(0,1,0,0))o.outlinesFormat="truetype";else{if("OTTO"!==t)throw new Error("Unsupported OpenType flavor "+u);o.outlinesFormat="cff"}a=G.getUShort(i,12),s=function(t,e){const n=[];let r=44;for(let o=0;o<e;o+=1){const e=G.getTag(t,r),o=G.getULong(t,r+4),i=G.getULong(t,r+8),a=G.getULong(t,r+12);let s;s=i<a&&"WOFF",n.push({tag:e,offset:o,compression:s,compressedLength:i,length:a}),r+=20}return n}(i,a)}}let c,f,l,p,h,d,m,g,y,v,b;for(let t=0;t<a;t+=1){const e=s[t];let a;switch(e.tag){case"cmap":a=mr(i,e),o.tables.cmap=H.parse(a.data,a.offset),o.encoding=new Z(o.tables.cmap);break;case"cvt ":a=mr(i,e),b=new G.Parser(a.data,a.offset),o.tables.cvt=b.parseShortList(e.length/2);break;case"fvar":f=e;break;case"fpgm":a=mr(i,e),b=new G.Parser(a.data,a.offset),o.tables.fpgm=b.parseByteList(e.length);break;case"head":a=mr(i,e),o.tables.head=kt.parse(a.data,a.offset),o.unitsPerEm=o.tables.head.unitsPerEm,n=o.tables.head.indexToLocFormat;break;case"hhea":a=mr(i,e),o.tables.hhea=Tt.parse(a.data,a.offset),o.ascender=o.tables.hhea.ascender,o.descender=o.tables.hhea.descender,o.numberOfHMetrics=o.tables.hhea.numberOfHMetrics;break;case"hmtx":d=e;break;case"ltag":a=mr(i,e),r=At.parse(a.data,a.offset);break;case"maxp":a=mr(i,e),o.tables.maxp=Ot.parse(a.data,a.offset),o.numGlyphs=o.tables.maxp.numGlyphs;break;case"name":y=e;break;case"OS/2":a=mr(i,e),o.tables.os2=zt.parse(a.data,a.offset);break;case"post":a=mr(i,e),o.tables.post=Ht.parse(a.data,a.offset),o.glyphNames=new $(o.tables.post);break;case"prep":a=mr(i,e),b=new G.Parser(a.data,a.offset),o.tables.prep=b.parseByteList(e.length);break;case"glyf":l=e;break;case"loca":g=e;break;case"CFF ":c=e;break;case"kern":m=e;break;case"GPOS":p=e;break;case"GSUB":h=e;break;case"meta":v=e}}const x=mr(i,y);if(o.tables.name=jt.parse(x.data,x.offset,r),o.names=o.tables.name,l&&g){const t=0===n,r=mr(i,g),a=lr.parse(r.data,r.offset,o.numGlyphs,t),s=mr(i,l);o.glyphs=be.parse(s.data,s.offset,a,o,e)}else{if(!c)throw new Error("Font doesn't contain TrueType or CFF outlines.");{const t=mr(i,c);Mt.parse(t.data,t.offset,o,e)}}const w=mr(i,d);if(Et.parse(o,w.data,w.offset,o.numberOfHMetrics,o.numGlyphs,o.glyphs,e),K(o,e),m){const t=mr(i,m);o.kerningPairs=fr.parse(t.data,t.offset)}else o.kerningPairs={};if(p){const t=mr(i,p);o.tables.gpos=cr.parse(t.data,t.offset),o.position.init()}if(h){const t=mr(i,h);o.tables.gsub=Vt.parse(t.data,t.offset)}if(f){const t=mr(i,f);o.tables.fvar=ar.parse(t.data,t.offset,o.names)}if(v){const t=mr(i,v);o.tables.meta=Xt.parse(t.data,t.offset),o.metas=o.tables.meta}return o}function yr(t,e,n){("undefined"==typeof window?pr:hr)(t,(function(t,r){if(t)return e(t);let o;try{o=gr(r,n)}catch(t){return e(t,null)}return e(null,o)}))}function vr(t,e){const r=n(283).readFileSync(t);return gr(Object(he.d)(r),e)}},1010:function(t,e,n){"use strict";n.r(e),n.d(e,"glMatrix",(function(){return r})),n.d(e,"mat2",(function(){return o})),n.d(e,"mat2d",(function(){return i})),n.d(e,"mat3",(function(){return a})),n.d(e,"mat4",(function(){return s})),n.d(e,"quat",(function(){return f})),n.d(e,"quat2",(function(){return l})),n.d(e,"vec2",(function(){return p})),n.d(e,"vec3",(function(){return u})),n.d(e,"vec4",(function(){return c}));var r={};n.r(r),n.d(r,"EPSILON",(function(){return h})),n.d(r,"ARRAY_TYPE",(function(){return d})),n.d(r,"RANDOM",(function(){return m})),n.d(r,"setMatrixArrayType",(function(){return g})),n.d(r,"toRadian",(function(){return v})),n.d(r,"equals",(function(){return b}));var o={};n.r(o),n.d(o,"create",(function(){return x})),n.d(o,"clone",(function(){return w})),n.d(o,"copy",(function(){return S})),n.d(o,"identity",(function(){return M})),n.d(o,"fromValues",(function(){return k})),n.d(o,"set",(function(){return T})),n.d(o,"transpose",(function(){return E})),n.d(o,"invert",(function(){return A})),n.d(o,"adjoint",(function(){return O})),n.d(o,"determinant",(function(){return R})),n.d(o,"multiply",(function(){return U})),n.d(o,"rotate",(function(){return _})),n.d(o,"scale",(function(){return D})),n.d(o,"fromRotation",(function(){return C})),n.d(o,"fromScaling",(function(){return L})),n.d(o,"str",(function(){return I})),n.d(o,"frob",(function(){return P})),n.d(o,"LDU",(function(){return F})),n.d(o,"add",(function(){return B})),n.d(o,"subtract",(function(){return N})),n.d(o,"exactEquals",(function(){return j})),n.d(o,"equals",(function(){return G})),n.d(o,"multiplyScalar",(function(){return z})),n.d(o,"multiplyScalarAndAdd",(function(){return H})),n.d(o,"mul",(function(){return q})),n.d(o,"sub",(function(){return Y}));var i={};n.r(i),n.d(i,"create",(function(){return W})),n.d(i,"clone",(function(){return V})),n.d(i,"copy",(function(){return X})),n.d(i,"identity",(function(){return Z})),n.d(i,"fromValues",(function(){return Q})),n.d(i,"set",(function(){return $})),n.d(i,"invert",(function(){return K})),n.d(i,"determinant",(function(){return J})),n.d(i,"multiply",(function(){return tt})),n.d(i,"rotate",(function(){return et})),n.d(i,"scale",(function(){return nt})),n.d(i,"translate",(function(){return rt})),n.d(i,"fromRotation",(function(){return ot})),n.d(i,"fromScaling",(function(){return it})),n.d(i,"fromTranslation",(function(){return at})),n.d(i,"str",(function(){return st})),n.d(i,"frob",(function(){return ut})),n.d(i,"add",(function(){return ct})),n.d(i,"subtract",(function(){return ft})),n.d(i,"multiplyScalar",(function(){return lt})),n.d(i,"multiplyScalarAndAdd",(function(){return pt})),n.d(i,"exactEquals",(function(){return ht})),n.d(i,"equals",(function(){return dt})),n.d(i,"mul",(function(){return mt})),n.d(i,"sub",(function(){return gt}));var a={};n.r(a),n.d(a,"create",(function(){return yt})),n.d(a,"fromMat4",(function(){return vt})),n.d(a,"clone",(function(){return bt})),n.d(a,"copy",(function(){return xt})),n.d(a,"fromValues",(function(){return wt})),n.d(a,"set",(function(){return St})),n.d(a,"identity",(function(){return Mt})),n.d(a,"transpose",(function(){return kt})),n.d(a,"invert",(function(){return Tt})),n.d(a,"adjoint",(function(){return Et})),n.d(a,"determinant",(function(){return At})),n.d(a,"multiply",(function(){return Ot})),n.d(a,"translate",(function(){return Rt})),n.d(a,"rotate",(function(){return Ut})),n.d(a,"scale",(function(){return _t})),n.d(a,"fromTranslation",(function(){return Dt})),n.d(a,"fromRotation",(function(){return Ct})),n.d(a,"fromScaling",(function(){return Lt})),n.d(a,"fromMat2d",(function(){return It})),n.d(a,"fromQuat",(function(){return Pt})),n.d(a,"normalFromMat4",(function(){return Ft})),n.d(a,"projection",(function(){return Bt})),n.d(a,"str",(function(){return Nt})),n.d(a,"frob",(function(){return jt})),n.d(a,"add",(function(){return Gt})),n.d(a,"subtract",(function(){return zt})),n.d(a,"multiplyScalar",(function(){return Ht})),n.d(a,"multiplyScalarAndAdd",(function(){return qt})),n.d(a,"exactEquals",(function(){return Yt})),n.d(a,"equals",(function(){return Wt})),n.d(a,"mul",(function(){return Vt})),n.d(a,"sub",(function(){return Xt}));var s={};n.r(s),n.d(s,"create",(function(){return Zt})),n.d(s,"clone",(function(){return Qt})),n.d(s,"copy",(function(){return $t})),n.d(s,"fromValues",(function(){return Kt})),n.d(s,"set",(function(){return Jt})),n.d(s,"identity",(function(){return te})),n.d(s,"transpose",(function(){return ee})),n.d(s,"invert",(function(){return ne})),n.d(s,"adjoint",(function(){return re})),n.d(s,"determinant",(function(){return oe})),n.d(s,"multiply",(function(){return ie})),n.d(s,"translate",(function(){return ae})),n.d(s,"scale",(function(){return se})),n.d(s,"rotate",(function(){return ue})),n.d(s,"rotateX",(function(){return ce})),n.d(s,"rotateY",(function(){return fe})),n.d(s,"rotateZ",(function(){return le})),n.d(s,"fromTranslation",(function(){return pe})),n.d(s,"fromScaling",(function(){return he})),n.d(s,"fromRotation",(function(){return de})),n.d(s,"fromXRotation",(function(){return me})),n.d(s,"fromYRotation",(function(){return ge})),n.d(s,"fromZRotation",(function(){return ye})),n.d(s,"fromRotationTranslation",(function(){return ve})),n.d(s,"fromQuat2",(function(){return be})),n.d(s,"getTranslation",(function(){return xe})),n.d(s,"getScaling",(function(){return we})),n.d(s,"getRotation",(function(){return Se})),n.d(s,"fromRotationTranslationScale",(function(){return Me})),n.d(s,"fromRotationTranslationScaleOrigin",(function(){return ke})),n.d(s,"fromQuat",(function(){return Te})),n.d(s,"frustum",(function(){return Ee})),n.d(s,"perspective",(function(){return Ae})),n.d(s,"perspectiveFromFieldOfView",(function(){return Oe})),n.d(s,"ortho",(function(){return Re})),n.d(s,"lookAt",(function(){return Ue})),n.d(s,"targetTo",(function(){return _e})),n.d(s,"str",(function(){return De})),n.d(s,"frob",(function(){return Ce})),n.d(s,"add",(function(){return Le})),n.d(s,"subtract",(function(){return Ie})),n.d(s,"multiplyScalar",(function(){return Pe})),n.d(s,"multiplyScalarAndAdd",(function(){return Fe})),n.d(s,"exactEquals",(function(){return Be})),n.d(s,"equals",(function(){return Ne})),n.d(s,"mul",(function(){return je})),n.d(s,"sub",(function(){return Ge}));var u={};n.r(u),n.d(u,"create",(function(){return ze})),n.d(u,"clone",(function(){return He})),n.d(u,"length",(function(){return qe})),n.d(u,"fromValues",(function(){return Ye})),n.d(u,"copy",(function(){return We})),n.d(u,"set",(function(){return Ve})),n.d(u,"add",(function(){return Xe})),n.d(u,"subtract",(function(){return Ze})),n.d(u,"multiply",(function(){return Qe})),n.d(u,"divide",(function(){return $e})),n.d(u,"ceil",(function(){return Ke})),n.d(u,"floor",(function(){return Je})),n.d(u,"min",(function(){return tn})),n.d(u,"max",(function(){return en})),n.d(u,"round",(function(){return nn})),n.d(u,"scale",(function(){return rn})),n.d(u,"scaleAndAdd",(function(){return on})),n.d(u,"distance",(function(){return an})),n.d(u,"squaredDistance",(function(){return sn})),n.d(u,"squaredLength",(function(){return un})),n.d(u,"negate",(function(){return cn})),n.d(u,"inverse",(function(){return fn})),n.d(u,"normalize",(function(){return ln})),n.d(u,"dot",(function(){return pn})),n.d(u,"cross",(function(){return hn})),n.d(u,"lerp",(function(){return dn})),n.d(u,"hermite",(function(){return mn})),n.d(u,"bezier",(function(){return gn})),n.d(u,"random",(function(){return yn})),n.d(u,"transformMat4",(function(){return vn})),n.d(u,"transformMat3",(function(){return bn})),n.d(u,"transformQuat",(function(){return xn})),n.d(u,"rotateX",(function(){return wn})),n.d(u,"rotateY",(function(){return Sn})),n.d(u,"rotateZ",(function(){return Mn})),n.d(u,"angle",(function(){return kn})),n.d(u,"str",(function(){return Tn})),n.d(u,"exactEquals",(function(){return En})),n.d(u,"equals",(function(){return An})),n.d(u,"sub",(function(){return Rn})),n.d(u,"mul",(function(){return Un})),n.d(u,"div",(function(){return _n})),n.d(u,"dist",(function(){return Dn})),n.d(u,"sqrDist",(function(){return Cn})),n.d(u,"len",(function(){return Ln})),n.d(u,"sqrLen",(function(){return In})),n.d(u,"forEach",(function(){return Pn}));var c={};n.r(c),n.d(c,"create",(function(){return Fn})),n.d(c,"clone",(function(){return Bn})),n.d(c,"fromValues",(function(){return Nn})),n.d(c,"copy",(function(){return jn})),n.d(c,"set",(function(){return Gn})),n.d(c,"add",(function(){return zn})),n.d(c,"subtract",(function(){return Hn})),n.d(c,"multiply",(function(){return qn})),n.d(c,"divide",(function(){return Yn})),n.d(c,"ceil",(function(){return Wn})),n.d(c,"floor",(function(){return Vn})),n.d(c,"min",(function(){return Xn})),n.d(c,"max",(function(){return Zn})),n.d(c,"round",(function(){return Qn})),n.d(c,"scale",(function(){return $n})),n.d(c,"scaleAndAdd",(function(){return Kn})),n.d(c,"distance",(function(){return Jn})),n.d(c,"squaredDistance",(function(){return tr})),n.d(c,"length",(function(){return er})),n.d(c,"squaredLength",(function(){return nr})),n.d(c,"negate",(function(){return rr})),n.d(c,"inverse",(function(){return or})),n.d(c,"normalize",(function(){return ir})),n.d(c,"dot",(function(){return ar})),n.d(c,"lerp",(function(){return sr})),n.d(c,"random",(function(){return ur})),n.d(c,"transformMat4",(function(){return cr})),n.d(c,"transformQuat",(function(){return fr})),n.d(c,"str",(function(){return lr})),n.d(c,"exactEquals",(function(){return pr})),n.d(c,"equals",(function(){return hr})),n.d(c,"sub",(function(){return dr})),n.d(c,"mul",(function(){return mr})),n.d(c,"div",(function(){return gr})),n.d(c,"dist",(function(){return yr})),n.d(c,"sqrDist",(function(){return vr})),n.d(c,"len",(function(){return br})),n.d(c,"sqrLen",(function(){return xr})),n.d(c,"forEach",(function(){return wr}));var f={};n.r(f),n.d(f,"create",(function(){return Sr})),n.d(f,"identity",(function(){return Mr})),n.d(f,"setAxisAngle",(function(){return kr})),n.d(f,"getAxisAngle",(function(){return Tr})),n.d(f,"multiply",(function(){return Er})),n.d(f,"rotateX",(function(){return Ar})),n.d(f,"rotateY",(function(){return Or})),n.d(f,"rotateZ",(function(){return Rr})),n.d(f,"calculateW",(function(){return Ur})),n.d(f,"slerp",(function(){return _r})),n.d(f,"random",(function(){return Dr})),n.d(f,"invert",(function(){return Cr})),n.d(f,"conjugate",(function(){return Lr})),n.d(f,"fromMat3",(function(){return Ir})),n.d(f,"fromEuler",(function(){return Pr})),n.d(f,"str",(function(){return Fr})),n.d(f,"clone",(function(){return qr})),n.d(f,"fromValues",(function(){return Yr})),n.d(f,"copy",(function(){return Wr})),n.d(f,"set",(function(){return Vr})),n.d(f,"add",(function(){return Xr})),n.d(f,"mul",(function(){return Zr})),n.d(f,"scale",(function(){return Qr})),n.d(f,"dot",(function(){return $r})),n.d(f,"lerp",(function(){return Kr})),n.d(f,"length",(function(){return Jr})),n.d(f,"len",(function(){return to})),n.d(f,"squaredLength",(function(){return eo})),n.d(f,"sqrLen",(function(){return no})),n.d(f,"normalize",(function(){return ro})),n.d(f,"exactEquals",(function(){return oo})),n.d(f,"equals",(function(){return io})),n.d(f,"rotationTo",(function(){return ao})),n.d(f,"sqlerp",(function(){return so})),n.d(f,"setAxes",(function(){return uo}));var l={};n.r(l),n.d(l,"create",(function(){return co})),n.d(l,"clone",(function(){return fo})),n.d(l,"fromValues",(function(){return lo})),n.d(l,"fromRotationTranslationValues",(function(){return po})),n.d(l,"fromRotationTranslation",(function(){return ho})),n.d(l,"fromTranslation",(function(){return mo})),n.d(l,"fromRotation",(function(){return go})),n.d(l,"fromMat4",(function(){return yo})),n.d(l,"copy",(function(){return vo})),n.d(l,"identity",(function(){return bo})),n.d(l,"set",(function(){return xo})),n.d(l,"getReal",(function(){return wo})),n.d(l,"getDual",(function(){return So})),n.d(l,"setReal",(function(){return Mo})),n.d(l,"setDual",(function(){return ko})),n.d(l,"getTranslation",(function(){return To})),n.d(l,"translate",(function(){return Eo})),n.d(l,"rotateX",(function(){return Ao})),n.d(l,"rotateY",(function(){return Oo})),n.d(l,"rotateZ",(function(){return Ro})),n.d(l,"rotateByQuatAppend",(function(){return Uo})),n.d(l,"rotateByQuatPrepend",(function(){return _o})),n.d(l,"rotateAroundAxis",(function(){return Do})),n.d(l,"add",(function(){return Co})),n.d(l,"multiply",(function(){return Lo})),n.d(l,"mul",(function(){return Io})),n.d(l,"scale",(function(){return Po})),n.d(l,"dot",(function(){return Fo})),n.d(l,"lerp",(function(){return Bo})),n.d(l,"invert",(function(){return No})),n.d(l,"conjugate",(function(){return jo})),n.d(l,"length",(function(){return Go})),n.d(l,"len",(function(){return zo})),n.d(l,"squaredLength",(function(){return Ho})),n.d(l,"sqrLen",(function(){return qo})),n.d(l,"normalize",(function(){return Yo})),n.d(l,"str",(function(){return Wo})),n.d(l,"exactEquals",(function(){return Vo})),n.d(l,"equals",(function(){return Xo}));var p={};n.r(p),n.d(p,"create",(function(){return Zo})),n.d(p,"clone",(function(){return Qo})),n.d(p,"fromValues",(function(){return $o})),n.d(p,"copy",(function(){return Ko})),n.d(p,"set",(function(){return Jo})),n.d(p,"add",(function(){return ti})),n.d(p,"subtract",(function(){return ei})),n.d(p,"multiply",(function(){return ni})),n.d(p,"divide",(function(){return ri})),n.d(p,"ceil",(function(){return oi})),n.d(p,"floor",(function(){return ii})),n.d(p,"min",(function(){return ai})),n.d(p,"max",(function(){return si})),n.d(p,"round",(function(){return ui})),n.d(p,"scale",(function(){return ci})),n.d(p,"scaleAndAdd",(function(){return fi})),n.d(p,"distance",(function(){return li})),n.d(p,"squaredDistance",(function(){return pi})),n.d(p,"length",(function(){return hi})),n.d(p,"squaredLength",(function(){return di})),n.d(p,"negate",(function(){return mi})),n.d(p,"inverse",(function(){return gi})),n.d(p,"normalize",(function(){return yi})),n.d(p,"dot",(function(){return vi})),n.d(p,"cross",(function(){return bi})),n.d(p,"lerp",(function(){return xi})),n.d(p,"random",(function(){return wi})),n.d(p,"transformMat2",(function(){return Si})),n.d(p,"transformMat2d",(function(){return Mi})),n.d(p,"transformMat3",(function(){return ki})),n.d(p,"transformMat4",(function(){return Ti})),n.d(p,"rotate",(function(){return Ei})),n.d(p,"angle",(function(){return Ai})),n.d(p,"str",(function(){return Oi})),n.d(p,"exactEquals",(function(){return Ri})),n.d(p,"equals",(function(){return Ui})),n.d(p,"len",(function(){return _i})),n.d(p,"sub",(function(){return Di})),n.d(p,"mul",(function(){return Ci})),n.d(p,"div",(function(){return Li})),n.d(p,"dist",(function(){return Ii})),n.d(p,"sqrDist",(function(){return Pi})),n.d(p,"sqrLen",(function(){return Fi})),n.d(p,"forEach",(function(){return Bi}));var h=1e-6,d="undefined"!=typeof Float32Array?Float32Array:Array,m=Math.random;function g(t){d=t}var y=Math.PI/180;function v(t){return t*y}function b(t,e){return Math.abs(t-e)<=h*Math.max(1,Math.abs(t),Math.abs(e))}function x(){var t=new d(4);return d!=Float32Array&&(t[1]=0,t[2]=0),t[0]=1,t[3]=1,t}function w(t){var e=new d(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function S(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function M(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t}function k(t,e,n,r){var o=new d(4);return o[0]=t,o[1]=e,o[2]=n,o[3]=r,o}function T(t,e,n,r,o){return t[0]=e,t[1]=n,t[2]=r,t[3]=o,t}function E(t,e){if(t===e){var n=e[1];t[1]=e[2],t[2]=n}else t[0]=e[0],t[1]=e[2],t[2]=e[1],t[3]=e[3];return t}function A(t,e){var n=e[0],r=e[1],o=e[2],i=e[3],a=n*i-o*r;return a?(a=1/a,t[0]=i*a,t[1]=-r*a,t[2]=-o*a,t[3]=n*a,t):null}function O(t,e){var n=e[0];return t[0]=e[3],t[1]=-e[1],t[2]=-e[2],t[3]=n,t}function R(t){return t[0]*t[3]-t[2]*t[1]}function U(t,e,n){var r=e[0],o=e[1],i=e[2],a=e[3],s=n[0],u=n[1],c=n[2],f=n[3];return t[0]=r*s+i*u,t[1]=o*s+a*u,t[2]=r*c+i*f,t[3]=o*c+a*f,t}function _(t,e,n){var r=e[0],o=e[1],i=e[2],a=e[3],s=Math.sin(n),u=Math.cos(n);return t[0]=r*u+i*s,t[1]=o*u+a*s,t[2]=r*-s+i*u,t[3]=o*-s+a*u,t}function D(t,e,n){var r=e[0],o=e[1],i=e[2],a=e[3],s=n[0],u=n[1];return t[0]=r*s,t[1]=o*s,t[2]=i*u,t[3]=a*u,t}function C(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=-n,t[3]=r,t}function L(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=e[1],t}function I(t){return"mat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}function P(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2))}function F(t,e,n,r){return t[2]=r[2]/r[0],n[0]=r[0],n[1]=r[1],n[3]=r[3]-t[2]*n[1],[t,e,n]}function B(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t}function N(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t}function j(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]}function G(t,e){var n=t[0],r=t[1],o=t[2],i=t[3],a=e[0],s=e[1],u=e[2],c=e[3];return Math.abs(n-a)<=h*Math.max(1,Math.abs(n),Math.abs(a))&&Math.abs(r-s)<=h*Math.max(1,Math.abs(r),Math.abs(s))&&Math.abs(o-u)<=h*Math.max(1,Math.abs(o),Math.abs(u))&&Math.abs(i-c)<=h*Math.max(1,Math.abs(i),Math.abs(c))}function z(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t}function H(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t}var q=U,Y=N;function W(){var t=new d(6);return d!=Float32Array&&(t[1]=0,t[2]=0,t[4]=0,t[5]=0),t[0]=1,t[3]=1,t}function V(t){var e=new d(6);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function X(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function Z(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t}function Q(t,e,n,r,o,i){var a=new d(6);return a[0]=t,a[1]=e,a[2]=n,a[3]=r,a[4]=o,a[5]=i,a}function $(t,e,n,r,o,i,a){return t[0]=e,t[1]=n,t[2]=r,t[3]=o,t[4]=i,t[5]=a,t}function K(t,e){var n=e[0],r=e[1],o=e[2],i=e[3],a=e[4],s=e[5],u=n*i-r*o;return u?(u=1/u,t[0]=i*u,t[1]=-r*u,t[2]=-o*u,t[3]=n*u,t[4]=(o*s-i*a)*u,t[5]=(r*a-n*s)*u,t):null}function J(t){return t[0]*t[3]-t[1]*t[2]}function tt(t,e,n){var r=e[0],o=e[1],i=e[2],a=e[3],s=e[4],u=e[5],c=n[0],f=n[1],l=n[2],p=n[3],h=n[4],d=n[5];return t[0]=r*c+i*f,t[1]=o*c+a*f,t[2]=r*l+i*p,t[3]=o*l+a*p,t[4]=r*h+i*d+s,t[5]=o*h+a*d+u,t}function et(t,e,n){var r=e[0],o=e[1],i=e[2],a=e[3],s=e[4],u=e[5],c=Math.sin(n),f=Math.cos(n);return t[0]=r*f+i*c,t[1]=o*f+a*c,t[2]=r*-c+i*f,t[3]=o*-c+a*f,t[4]=s,t[5]=u,t}function nt(t,e,n){var r=e[0],o=e[1],i=e[2],a=e[3],s=e[4],u=e[5],c=n[0],f=n[1];return t[0]=r*c,t[1]=o*c,t[2]=i*f,t[3]=a*f,t[4]=s,t[5]=u,t}function rt(t,e,n){var r=e[0],o=e[1],i=e[2],a=e[3],s=e[4],u=e[5],c=n[0],f=n[1];return t[0]=r,t[1]=o,t[2]=i,t[3]=a,t[4]=r*c+i*f+s,t[5]=o*c+a*f+u,t}function ot(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=-n,t[3]=r,t[4]=0,t[5]=0,t}function it(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=e[1],t[4]=0,t[5]=0,t}function at(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=e[0],t[5]=e[1],t}function st(t){return"mat2d("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+")"}function ut(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+1)}function ct(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t}function ft(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t}function lt(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t}function pt(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t}function ht(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]}function dt(t,e){var n=t[0],r=t[1],o=t[2],i=t[3],a=t[4],s=t[5],u=e[0],c=e[1],f=e[2],l=e[3],p=e[4],d=e[5];return Math.abs(n-u)<=h*Math.max(1,Math.abs(n),Math.abs(u))&&Math.abs(r-c)<=h*Math.max(1,Math.abs(r),Math.abs(c))&&Math.abs(o-f)<=h*Math.max(1,Math.abs(o),Math.abs(f))&&Math.abs(i-l)<=h*Math.max(1,Math.abs(i),Math.abs(l))&&Math.abs(a-p)<=h*Math.max(1,Math.abs(a),Math.abs(p))&&Math.abs(s-d)<=h*Math.max(1,Math.abs(s),Math.abs(d))}var mt=tt,gt=ft;function yt(){var t=new d(9);return d!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t}function vt(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t}function bt(t){var e=new d(9);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function xt(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function wt(t,e,n,r,o,i,a,s,u){var c=new d(9);return c[0]=t,c[1]=e,c[2]=n,c[3]=r,c[4]=o,c[5]=i,c[6]=a,c[7]=s,c[8]=u,c}function St(t,e,n,r,o,i,a,s,u,c){return t[0]=e,t[1]=n,t[2]=r,t[3]=o,t[4]=i,t[5]=a,t[6]=s,t[7]=u,t[8]=c,t}function Mt(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function kt(t,e){if(t===e){var n=e[1],r=e[2],o=e[5];t[1]=e[3],t[2]=e[6],t[3]=n,t[5]=e[7],t[6]=r,t[7]=o}else t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8];return t}function Tt(t,e){var n=e[0],r=e[1],o=e[2],i=e[3],a=e[4],s=e[5],u=e[6],c=e[7],f=e[8],l=f*a-s*c,p=-f*i+s*u,h=c*i-a*u,d=n*l+r*p+o*h;return d?(d=1/d,t[0]=l*d,t[1]=(-f*r+o*c)*d,t[2]=(s*r-o*a)*d,t[3]=p*d,t[4]=(f*n-o*u)*d,t[5]=(-s*n+o*i)*d,t[6]=h*d,t[7]=(-c*n+r*u)*d,t[8]=(a*n-r*i)*d,t):null}function Et(t,e){var n=e[0],r=e[1],o=e[2],i=e[3],a=e[4],s=e[5],u=e[6],c=e[7],f=e[8];return t[0]=a*f-s*c,t[1]=o*c-r*f,t[2]=r*s-o*a,t[3]=s*u-i*f,t[4]=n*f-o*u,t[5]=o*i-n*s,t[6]=i*c-a*u,t[7]=r*u-n*c,t[8]=n*a-r*i,t}function At(t){var e=t[0],n=t[1],r=t[2],o=t[3],i=t[4],a=t[5],s=t[6],u=t[7],c=t[8];return e*(c*i-a*u)+n*(-c*o+a*s)+r*(u*o-i*s)}function Ot(t,e,n){var r=e[0],o=e[1],i=e[2],a=e[3],s=e[4],u=e[5],c=e[6],f=e[7],l=e[8],p=n[0],h=n[1],d=n[2],m=n[3],g=n[4],y=n[5],v=n[6],b=n[7],x=n[8];return t[0]=p*r+h*a+d*c,t[1]=p*o+h*s+d*f,t[2]=p*i+h*u+d*l,t[3]=m*r+g*a+y*c,t[4]=m*o+g*s+y*f,t[5]=m*i+g*u+y*l,t[6]=v*r+b*a+x*c,t[7]=v*o+b*s+x*f,t[8]=v*i+b*u+x*l,t}function Rt(t,e,n){var r=e[0],o=e[1],i=e[2],a=e[3],s=e[4],u=e[5],c=e[6],f=e[7],l=e[8],p=n[0],h=n[1];return t[0]=r,t[1]=o,t[2]=i,t[3]=a,t[4]=s,t[5]=u,t[6]=p*r+h*a+c,t[7]=p*o+h*s+f,t[8]=p*i+h*u+l,t}function Ut(t,e,n){var r=e[0],o=e[1],i=e[2],a=e[3],s=e[4],u=e[5],c=e[6],f=e[7],l=e[8],p=Math.sin(n),h=Math.cos(n);return t[0]=h*r+p*a,t[1]=h*o+p*s,t[2]=h*i+p*u,t[3]=h*a-p*r,t[4]=h*s-p*o,t[5]=h*u-p*i,t[6]=c,t[7]=f,t[8]=l,t}function _t(t,e,n){var r=n[0],o=n[1];return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=o*e[3],t[4]=o*e[4],t[5]=o*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function Dt(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=e[0],t[7]=e[1],t[8]=1,t}function Ct(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=-n,t[4]=r,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function Lt(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=e[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function It(t,e){return t[0]=e[0],t[1]=e[1],t[2]=0,t[3]=e[2],t[4]=e[3],t[5]=0,t[6]=e[4],t[7]=e[5],t[8]=1,t}function Pt(t,e){var n=e[0],r=e[1],o=e[2],i=e[3],a=n+n,s=r+r,u=o+o,c=n*a,f=r*a,l=r*s,p=o*a,h=o*s,d=o*u,m=i*a,g=i*s,y=i*u;return t[0]=1-l-d,t[3]=f-y,t[6]=p+g,t[1]=f+y,t[4]=1-c-d,t[7]=h-m,t[2]=p-g,t[5]=h+m,t[8]=1-c-l,t}function Ft(t,e){var n=e[0],r=e[1],o=e[2],i=e[3],a=e[4],s=e[5],u=e[6],c=e[7],f=e[8],l=e[9],p=e[10],h=e[11],d=e[12],m=e[13],g=e[14],y=e[15],v=n*s-r*a,b=n*u-o*a,x=n*c-i*a,w=r*u-o*s,S=r*c-i*s,M=o*c-i*u,k=f*m-l*d,T=f*g-p*d,E=f*y-h*d,A=l*g-p*m,O=l*y-h*m,R=p*y-h*g,U=v*R-b*O+x*A+w*E-S*T+M*k;return U?(U=1/U,t[0]=(s*R-u*O+c*A)*U,t[1]=(u*E-a*R-c*T)*U,t[2]=(a*O-s*E+c*k)*U,t[3]=(o*O-r*R-i*A)*U,t[4]=(n*R-o*E+i*T)*U,t[5]=(r*E-n*O-i*k)*U,t[6]=(m*M-g*S+y*w)*U,t[7]=(g*x-d*M-y*b)*U,t[8]=(d*S-m*x+y*v)*U,t):null}function Bt(t,e,n){return t[0]=2/e,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/n,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t}function Nt(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"}function jt(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2))}function Gt(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t}function zt(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t}function Ht(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t}function qt(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t[6]=e[6]+n[6]*r,t[7]=e[7]+n[7]*r,t[8]=e[8]+n[8]*r,t}function Yt(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]}function Wt(t,e){var n=t[0],r=t[1],o=t[2],i=t[3],a=t[4],s=t[5],u=t[6],c=t[7],f=t[8],l=e[0],p=e[1],d=e[2],m=e[3],g=e[4],y=e[5],v=e[6],b=e[7],x=e[8];return Math.abs(n-l)<=h*Math.max(1,Math.abs(n),Math.abs(l))&&Math.abs(r-p)<=h*Math.max(1,Math.abs(r),Math.abs(p))&&Math.abs(o-d)<=h*Math.max(1,Math.abs(o),Math.abs(d))&&Math.abs(i-m)<=h*Math.max(1,Math.abs(i),Math.abs(m))&&Math.abs(a-g)<=h*Math.max(1,Math.abs(a),Math.abs(g))&&Math.abs(s-y)<=h*Math.max(1,Math.abs(s),Math.abs(y))&&Math.abs(u-v)<=h*Math.max(1,Math.abs(u),Math.abs(v))&&Math.abs(c-b)<=h*Math.max(1,Math.abs(c),Math.abs(b))&&Math.abs(f-x)<=h*Math.max(1,Math.abs(f),Math.abs(x))}var Vt=Ot,Xt=zt;function Zt(){var t=new d(16);return d!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0),t[0]=1,t[5]=1,t[10]=1,t[15]=1,t}function Qt(t){var e=new d(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function $t(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function Kt(t,e,n,r,o,i,a,s,u,c,f,l,p,h,m,g){var y=new d(16);return y[0]=t,y[1]=e,y[2]=n,y[3]=r,y[4]=o,y[5]=i,y[6]=a,y[7]=s,y[8]=u,y[9]=c,y[10]=f,y[11]=l,y[12]=p,y[13]=h,y[14]=m,y[15]=g,y}function Jt(t,e,n,r,o,i,a,s,u,c,f,l,p,h,d,m,g){return t[0]=e,t[1]=n,t[2]=r,t[3]=o,t[4]=i,t[5]=a,t[6]=s,t[7]=u,t[8]=c,t[9]=f,t[10]=l,t[11]=p,t[12]=h,t[13]=d,t[14]=m,t[15]=g,t}function te(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function ee(t,e){if(t===e){var n=e[1],r=e[2],o=e[3],i=e[6],a=e[7],s=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=n,t[6]=e[9],t[7]=e[13],t[8]=r,t[9]=i,t[11]=e[14],t[12]=o,t[13]=a,t[14]=s}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t}function ne(t,e){var n=e[0],r=e[1],o=e[2],i=e[3],a=e[4],s=e[5],u=e[6],c=e[7],f=e[8],l=e[9],p=e[10],h=e[11],d=e[12],m=e[13],g=e[14],y=e[15],v=n*s-r*a,b=n*u-o*a,x=n*c-i*a,w=r*u-o*s,S=r*c-i*s,M=o*c-i*u,k=f*m-l*d,T=f*g-p*d,E=f*y-h*d,A=l*g-p*m,O=l*y-h*m,R=p*y-h*g,U=v*R-b*O+x*A+w*E-S*T+M*k;return U?(U=1/U,t[0]=(s*R-u*O+c*A)*U,t[1]=(o*O-r*R-i*A)*U,t[2]=(m*M-g*S+y*w)*U,t[3]=(p*S-l*M-h*w)*U,t[4]=(u*E-a*R-c*T)*U,t[5]=(n*R-o*E+i*T)*U,t[6]=(g*x-d*M-y*b)*U,t[7]=(f*M-p*x+h*b)*U,t[8]=(a*O-s*E+c*k)*U,t[9]=(r*E-n*O-i*k)*U,t[10]=(d*S-m*x+y*v)*U,t[11]=(l*x-f*S-h*v)*U,t[12]=(s*T-a*A-u*k)*U,t[13]=(n*A-r*T+o*k)*U,t[14]=(m*b-d*w-g*v)*U,t[15]=(f*w-l*b+p*v)*U,t):null}function re(t,e){var n=e[0],r=e[1],o=e[2],i=e[3],a=e[4],s=e[5],u=e[6],c=e[7],f=e[8],l=e[9],p=e[10],h=e[11],d=e[12],m=e[13],g=e[14],y=e[15];return t[0]=s*(p*y-h*g)-l*(u*y-c*g)+m*(u*h-c*p),t[1]=-(r*(p*y-h*g)-l*(o*y-i*g)+m*(o*h-i*p)),t[2]=r*(u*y-c*g)-s*(o*y-i*g)+m*(o*c-i*u),t[3]=-(r*(u*h-c*p)-s*(o*h-i*p)+l*(o*c-i*u)),t[4]=-(a*(p*y-h*g)-f*(u*y-c*g)+d*(u*h-c*p)),t[5]=n*(p*y-h*g)-f*(o*y-i*g)+d*(o*h-i*p),t[6]=-(n*(u*y-c*g)-a*(o*y-i*g)+d*(o*c-i*u)),t[7]=n*(u*h-c*p)-a*(o*h-i*p)+f*(o*c-i*u),t[8]=a*(l*y-h*m)-f*(s*y-c*m)+d*(s*h-c*l),t[9]=-(n*(l*y-h*m)-f*(r*y-i*m)+d*(r*h-i*l)),t[10]=n*(s*y-c*m)-a*(r*y-i*m)+d*(r*c-i*s),t[11]=-(n*(s*h-c*l)-a*(r*h-i*l)+f*(r*c-i*s)),t[12]=-(a*(l*g-p*m)-f*(s*g-u*m)+d*(s*p-u*l)),t[13]=n*(l*g-p*m)-f*(r*g-o*m)+d*(r*p-o*l),t[14]=-(n*(s*g-u*m)-a*(r*g-o*m)+d*(r*u-o*s)),t[15]=n*(s*p-u*l)-a*(r*p-o*l)+f*(r*u-o*s),t}function oe(t){var e=t[0],n=t[1],r=t[2],o=t[3],i=t[4],a=t[5],s=t[6],u=t[7],c=t[8],f=t[9],l=t[10],p=t[11],h=t[12],d=t[13],m=t[14],g=t[15];return(e*a-n*i)*(l*g-p*m)-(e*s-r*i)*(f*g-p*d)+(e*u-o*i)*(f*m-l*d)+(n*s-r*a)*(c*g-p*h)-(n*u-o*a)*(c*m-l*h)+(r*u-o*s)*(c*d-f*h)}function ie(t,e,n){var r=e[0],o=e[1],i=e[2],a=e[3],s=e[4],u=e[5],c=e[6],f=e[7],l=e[8],p=e[9],h=e[10],d=e[11],m=e[12],g=e[13],y=e[14],v=e[15],b=n[0],x=n[1],w=n[2],S=n[3];return t[0]=b*r+x*s+w*l+S*m,t[1]=b*o+x*u+w*p+S*g,t[2]=b*i+x*c+w*h+S*y,t[3]=b*a+x*f+w*d+S*v,b=n[4],x=n[5],w=n[6],S=n[7],t[4]=b*r+x*s+w*l+S*m,t[5]=b*o+x*u+w*p+S*g,t[6]=b*i+x*c+w*h+S*y,t[7]=b*a+x*f+w*d+S*v,b=n[8],x=n[9],w=n[10],S=n[11],t[8]=b*r+x*s+w*l+S*m,t[9]=b*o+x*u+w*p+S*g,t[10]=b*i+x*c+w*h+S*y,t[11]=b*a+x*f+w*d+S*v,b=n[12],x=n[13],w=n[14],S=n[15],t[12]=b*r+x*s+w*l+S*m,t[13]=b*o+x*u+w*p+S*g,t[14]=b*i+x*c+w*h+S*y,t[15]=b*a+x*f+w*d+S*v,t}function ae(t,e,n){var r=n[0],o=n[1],i=n[2],a=void 0,s=void 0,u=void 0,c=void 0,f=void 0,l=void 0,p=void 0,h=void 0,d=void 0,m=void 0,g=void 0,y=void 0;return e===t?(t[12]=e[0]*r+e[4]*o+e[8]*i+e[12],t[13]=e[1]*r+e[5]*o+e[9]*i+e[13],t[14]=e[2]*r+e[6]*o+e[10]*i+e[14],t[15]=e[3]*r+e[7]*o+e[11]*i+e[15]):(a=e[0],s=e[1],u=e[2],c=e[3],f=e[4],l=e[5],p=e[6],h=e[7],d=e[8],m=e[9],g=e[10],y=e[11],t[0]=a,t[1]=s,t[2]=u,t[3]=c,t[4]=f,t[5]=l,t[6]=p,t[7]=h,t[8]=d,t[9]=m,t[10]=g,t[11]=y,t[12]=a*r+f*o+d*i+e[12],t[13]=s*r+l*o+m*i+e[13],t[14]=u*r+p*o+g*i+e[14],t[15]=c*r+h*o+y*i+e[15]),t}function se(t,e,n){var r=n[0],o=n[1],i=n[2];return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*o,t[5]=e[5]*o,t[6]=e[6]*o,t[7]=e[7]*o,t[8]=e[8]*i,t[9]=e[9]*i,t[10]=e[10]*i,t[11]=e[11]*i,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function ue(t,e,n,r){var o,i,a,s,u,c,f,l,p,d,m,g,y,v,b,x,w,S,M,k,T,E,A,O,R=r[0],U=r[1],_=r[2],D=Math.sqrt(R*R+U*U+_*_);return D<h?null:(R*=D=1/D,U*=D,_*=D,o=Math.sin(n),a=1-(i=Math.cos(n)),s=e[0],u=e[1],c=e[2],f=e[3],l=e[4],p=e[5],d=e[6],m=e[7],g=e[8],y=e[9],v=e[10],b=e[11],x=R*R*a+i,w=U*R*a+_*o,S=_*R*a-U*o,M=R*U*a-_*o,k=U*U*a+i,T=_*U*a+R*o,E=R*_*a+U*o,A=U*_*a-R*o,O=_*_*a+i,t[0]=s*x+l*w+g*S,t[1]=u*x+p*w+y*S,t[2]=c*x+d*w+v*S,t[3]=f*x+m*w+b*S,t[4]=s*M+l*k+g*T,t[5]=u*M+p*k+y*T,t[6]=c*M+d*k+v*T,t[7]=f*M+m*k+b*T,t[8]=s*E+l*A+g*O,t[9]=u*E+p*A+y*O,t[10]=c*E+d*A+v*O,t[11]=f*E+m*A+b*O,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)}function ce(t,e,n){var r=Math.sin(n),o=Math.cos(n),i=e[4],a=e[5],s=e[6],u=e[7],c=e[8],f=e[9],l=e[10],p=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=i*o+c*r,t[5]=a*o+f*r,t[6]=s*o+l*r,t[7]=u*o+p*r,t[8]=c*o-i*r,t[9]=f*o-a*r,t[10]=l*o-s*r,t[11]=p*o-u*r,t}function fe(t,e,n){var r=Math.sin(n),o=Math.cos(n),i=e[0],a=e[1],s=e[2],u=e[3],c=e[8],f=e[9],l=e[10],p=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=i*o-c*r,t[1]=a*o-f*r,t[2]=s*o-l*r,t[3]=u*o-p*r,t[8]=i*r+c*o,t[9]=a*r+f*o,t[10]=s*r+l*o,t[11]=u*r+p*o,t}function le(t,e,n){var r=Math.sin(n),o=Math.cos(n),i=e[0],a=e[1],s=e[2],u=e[3],c=e[4],f=e[5],l=e[6],p=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=i*o+c*r,t[1]=a*o+f*r,t[2]=s*o+l*r,t[3]=u*o+p*r,t[4]=c*o-i*r,t[5]=f*o-a*r,t[6]=l*o-s*r,t[7]=p*o-u*r,t}function pe(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t}function he(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function de(t,e,n){var r,o,i,a=n[0],s=n[1],u=n[2],c=Math.sqrt(a*a+s*s+u*u);return c<h?null:(a*=c=1/c,s*=c,u*=c,r=Math.sin(e),i=1-(o=Math.cos(e)),t[0]=a*a*i+o,t[1]=s*a*i+u*r,t[2]=u*a*i-s*r,t[3]=0,t[4]=a*s*i-u*r,t[5]=s*s*i+o,t[6]=u*s*i+a*r,t[7]=0,t[8]=a*u*i+s*r,t[9]=s*u*i-a*r,t[10]=u*u*i+o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)}function me(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=r,t[6]=n,t[7]=0,t[8]=0,t[9]=-n,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function ge(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=0,t[2]=-n,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=n,t[9]=0,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function ye(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=0,t[4]=-n,t[5]=r,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function ve(t,e,n){var r=e[0],o=e[1],i=e[2],a=e[3],s=r+r,u=o+o,c=i+i,f=r*s,l=r*u,p=r*c,h=o*u,d=o*c,m=i*c,g=a*s,y=a*u,v=a*c;return t[0]=1-(h+m),t[1]=l+v,t[2]=p-y,t[3]=0,t[4]=l-v,t[5]=1-(f+m),t[6]=d+g,t[7]=0,t[8]=p+y,t[9]=d-g,t[10]=1-(f+h),t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}function be(t,e){var n=new d(3),r=-e[0],o=-e[1],i=-e[2],a=e[3],s=e[4],u=e[5],c=e[6],f=e[7],l=r*r+o*o+i*i+a*a;return l>0?(n[0]=2*(s*a+f*r+u*i-c*o)/l,n[1]=2*(u*a+f*o+c*r-s*i)/l,n[2]=2*(c*a+f*i+s*o-u*r)/l):(n[0]=2*(s*a+f*r+u*i-c*o),n[1]=2*(u*a+f*o+c*r-s*i),n[2]=2*(c*a+f*i+s*o-u*r)),ve(t,e,n),t}function xe(t,e){return t[0]=e[12],t[1]=e[13],t[2]=e[14],t}function we(t,e){var n=e[0],r=e[1],o=e[2],i=e[4],a=e[5],s=e[6],u=e[8],c=e[9],f=e[10];return t[0]=Math.sqrt(n*n+r*r+o*o),t[1]=Math.sqrt(i*i+a*a+s*s),t[2]=Math.sqrt(u*u+c*c+f*f),t}function Se(t,e){var n=e[0]+e[5]+e[10],r=0;return n>0?(r=2*Math.sqrt(n+1),t[3]=.25*r,t[0]=(e[6]-e[9])/r,t[1]=(e[8]-e[2])/r,t[2]=(e[1]-e[4])/r):e[0]>e[5]&&e[0]>e[10]?(r=2*Math.sqrt(1+e[0]-e[5]-e[10]),t[3]=(e[6]-e[9])/r,t[0]=.25*r,t[1]=(e[1]+e[4])/r,t[2]=(e[8]+e[2])/r):e[5]>e[10]?(r=2*Math.sqrt(1+e[5]-e[0]-e[10]),t[3]=(e[8]-e[2])/r,t[0]=(e[1]+e[4])/r,t[1]=.25*r,t[2]=(e[6]+e[9])/r):(r=2*Math.sqrt(1+e[10]-e[0]-e[5]),t[3]=(e[1]-e[4])/r,t[0]=(e[8]+e[2])/r,t[1]=(e[6]+e[9])/r,t[2]=.25*r),t}function Me(t,e,n,r){var o=e[0],i=e[1],a=e[2],s=e[3],u=o+o,c=i+i,f=a+a,l=o*u,p=o*c,h=o*f,d=i*c,m=i*f,g=a*f,y=s*u,v=s*c,b=s*f,x=r[0],w=r[1],S=r[2];return t[0]=(1-(d+g))*x,t[1]=(p+b)*x,t[2]=(h-v)*x,t[3]=0,t[4]=(p-b)*w,t[5]=(1-(l+g))*w,t[6]=(m+y)*w,t[7]=0,t[8]=(h+v)*S,t[9]=(m-y)*S,t[10]=(1-(l+d))*S,t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}function ke(t,e,n,r,o){var i=e[0],a=e[1],s=e[2],u=e[3],c=i+i,f=a+a,l=s+s,p=i*c,h=i*f,d=i*l,m=a*f,g=a*l,y=s*l,v=u*c,b=u*f,x=u*l,w=r[0],S=r[1],M=r[2],k=o[0],T=o[1],E=o[2],A=(1-(m+y))*w,O=(h+x)*w,R=(d-b)*w,U=(h-x)*S,_=(1-(p+y))*S,D=(g+v)*S,C=(d+b)*M,L=(g-v)*M,I=(1-(p+m))*M;return t[0]=A,t[1]=O,t[2]=R,t[3]=0,t[4]=U,t[5]=_,t[6]=D,t[7]=0,t[8]=C,t[9]=L,t[10]=I,t[11]=0,t[12]=n[0]+k-(A*k+U*T+C*E),t[13]=n[1]+T-(O*k+_*T+L*E),t[14]=n[2]+E-(R*k+D*T+I*E),t[15]=1,t}function Te(t,e){var n=e[0],r=e[1],o=e[2],i=e[3],a=n+n,s=r+r,u=o+o,c=n*a,f=r*a,l=r*s,p=o*a,h=o*s,d=o*u,m=i*a,g=i*s,y=i*u;return t[0]=1-l-d,t[1]=f+y,t[2]=p-g,t[3]=0,t[4]=f-y,t[5]=1-c-d,t[6]=h+m,t[7]=0,t[8]=p+g,t[9]=h-m,t[10]=1-c-l,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function Ee(t,e,n,r,o,i,a){var s=1/(n-e),u=1/(o-r),c=1/(i-a);return t[0]=2*i*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*i*u,t[6]=0,t[7]=0,t[8]=(n+e)*s,t[9]=(o+r)*u,t[10]=(a+i)*c,t[11]=-1,t[12]=0,t[13]=0,t[14]=a*i*2*c,t[15]=0,t}function Ae(t,e,n,r,o){var i=1/Math.tan(e/2),a=void 0;return t[0]=i/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=i,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=o&&o!==1/0?(a=1/(r-o),t[10]=(o+r)*a,t[14]=2*o*r*a):(t[10]=-1,t[14]=-2*r),t}function Oe(t,e,n,r){var o=Math.tan(e.upDegrees*Math.PI/180),i=Math.tan(e.downDegrees*Math.PI/180),a=Math.tan(e.leftDegrees*Math.PI/180),s=Math.tan(e.rightDegrees*Math.PI/180),u=2/(a+s),c=2/(o+i);return t[0]=u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=c,t[6]=0,t[7]=0,t[8]=-(a-s)*u*.5,t[9]=(o-i)*c*.5,t[10]=r/(n-r),t[11]=-1,t[12]=0,t[13]=0,t[14]=r*n/(n-r),t[15]=0,t}function Re(t,e,n,r,o,i,a){var s=1/(e-n),u=1/(r-o),c=1/(i-a);return t[0]=-2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*u,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*c,t[11]=0,t[12]=(e+n)*s,t[13]=(o+r)*u,t[14]=(a+i)*c,t[15]=1,t}function Ue(t,e,n,r){var o=void 0,i=void 0,a=void 0,s=void 0,u=void 0,c=void 0,f=void 0,l=void 0,p=void 0,d=void 0,m=e[0],g=e[1],y=e[2],v=r[0],b=r[1],x=r[2],w=n[0],S=n[1],M=n[2];return Math.abs(m-w)<h&&Math.abs(g-S)<h&&Math.abs(y-M)<h?te(t):(f=m-w,l=g-S,p=y-M,o=b*(p*=d=1/Math.sqrt(f*f+l*l+p*p))-x*(l*=d),i=x*(f*=d)-v*p,a=v*l-b*f,(d=Math.sqrt(o*o+i*i+a*a))?(o*=d=1/d,i*=d,a*=d):(o=0,i=0,a=0),s=l*a-p*i,u=p*o-f*a,c=f*i-l*o,(d=Math.sqrt(s*s+u*u+c*c))?(s*=d=1/d,u*=d,c*=d):(s=0,u=0,c=0),t[0]=o,t[1]=s,t[2]=f,t[3]=0,t[4]=i,t[5]=u,t[6]=l,t[7]=0,t[8]=a,t[9]=c,t[10]=p,t[11]=0,t[12]=-(o*m+i*g+a*y),t[13]=-(s*m+u*g+c*y),t[14]=-(f*m+l*g+p*y),t[15]=1,t)}function _e(t,e,n,r){var o=e[0],i=e[1],a=e[2],s=r[0],u=r[1],c=r[2],f=o-n[0],l=i-n[1],p=a-n[2],h=f*f+l*l+p*p;h>0&&(f*=h=1/Math.sqrt(h),l*=h,p*=h);var d=u*p-c*l,m=c*f-s*p,g=s*l-u*f;return(h=d*d+m*m+g*g)>0&&(d*=h=1/Math.sqrt(h),m*=h,g*=h),t[0]=d,t[1]=m,t[2]=g,t[3]=0,t[4]=l*g-p*m,t[5]=p*d-f*g,t[6]=f*m-l*d,t[7]=0,t[8]=f,t[9]=l,t[10]=p,t[11]=0,t[12]=o,t[13]=i,t[14]=a,t[15]=1,t}function De(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"}function Ce(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2)+Math.pow(t[9],2)+Math.pow(t[10],2)+Math.pow(t[11],2)+Math.pow(t[12],2)+Math.pow(t[13],2)+Math.pow(t[14],2)+Math.pow(t[15],2))}function Le(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t[9]=e[9]+n[9],t[10]=e[10]+n[10],t[11]=e[11]+n[11],t[12]=e[12]+n[12],t[13]=e[13]+n[13],t[14]=e[14]+n[14],t[15]=e[15]+n[15],t}function Ie(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t[9]=e[9]-n[9],t[10]=e[10]-n[10],t[11]=e[11]-n[11],t[12]=e[12]-n[12],t[13]=e[13]-n[13],t[14]=e[14]-n[14],t[15]=e[15]-n[15],t}function Pe(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t[9]=e[9]*n,t[10]=e[10]*n,t[11]=e[11]*n,t[12]=e[12]*n,t[13]=e[13]*n,t[14]=e[14]*n,t[15]=e[15]*n,t}function Fe(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t[6]=e[6]+n[6]*r,t[7]=e[7]+n[7]*r,t[8]=e[8]+n[8]*r,t[9]=e[9]+n[9]*r,t[10]=e[10]+n[10]*r,t[11]=e[11]+n[11]*r,t[12]=e[12]+n[12]*r,t[13]=e[13]+n[13]*r,t[14]=e[14]+n[14]*r,t[15]=e[15]+n[15]*r,t}function Be(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]&&t[9]===e[9]&&t[10]===e[10]&&t[11]===e[11]&&t[12]===e[12]&&t[13]===e[13]&&t[14]===e[14]&&t[15]===e[15]}function Ne(t,e){var n=t[0],r=t[1],o=t[2],i=t[3],a=t[4],s=t[5],u=t[6],c=t[7],f=t[8],l=t[9],p=t[10],d=t[11],m=t[12],g=t[13],y=t[14],v=t[15],b=e[0],x=e[1],w=e[2],S=e[3],M=e[4],k=e[5],T=e[6],E=e[7],A=e[8],O=e[9],R=e[10],U=e[11],_=e[12],D=e[13],C=e[14],L=e[15];return Math.abs(n-b)<=h*Math.max(1,Math.abs(n),Math.abs(b))&&Math.abs(r-x)<=h*Math.max(1,Math.abs(r),Math.abs(x))&&Math.abs(o-w)<=h*Math.max(1,Math.abs(o),Math.abs(w))&&Math.abs(i-S)<=h*Math.max(1,Math.abs(i),Math.abs(S))&&Math.abs(a-M)<=h*Math.max(1,Math.abs(a),Math.abs(M))&&Math.abs(s-k)<=h*Math.max(1,Math.abs(s),Math.abs(k))&&Math.abs(u-T)<=h*Math.max(1,Math.abs(u),Math.abs(T))&&Math.abs(c-E)<=h*Math.max(1,Math.abs(c),Math.abs(E))&&Math.abs(f-A)<=h*Math.max(1,Math.abs(f),Math.abs(A))&&Math.abs(l-O)<=h*Math.max(1,Math.abs(l),Math.abs(O))&&Math.abs(p-R)<=h*Math.max(1,Math.abs(p),Math.abs(R))&&Math.abs(d-U)<=h*Math.max(1,Math.abs(d),Math.abs(U))&&Math.abs(m-_)<=h*Math.max(1,Math.abs(m),Math.abs(_))&&Math.abs(g-D)<=h*Math.max(1,Math.abs(g),Math.abs(D))&&Math.abs(y-C)<=h*Math.max(1,Math.abs(y),Math.abs(C))&&Math.abs(v-L)<=h*Math.max(1,Math.abs(v),Math.abs(L))}var je=ie,Ge=Ie;function ze(){var t=new d(3);return d!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function He(t){var e=new d(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function qe(t){var e=t[0],n=t[1],r=t[2];return Math.sqrt(e*e+n*n+r*r)}function Ye(t,e,n){var r=new d(3);return r[0]=t,r[1]=e,r[2]=n,r}function We(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function Ve(t,e,n,r){return t[0]=e,t[1]=n,t[2]=r,t}function Xe(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t}function Ze(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t}function Qe(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t}function $e(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t}function Ke(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t}function Je(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t}function tn(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t}function en(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t}function nn(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t}function rn(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t}function on(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t}function an(t,e){var n=e[0]-t[0],r=e[1]-t[1],o=e[2]-t[2];return Math.sqrt(n*n+r*r+o*o)}function sn(t,e){var n=e[0]-t[0],r=e[1]-t[1],o=e[2]-t[2];return n*n+r*r+o*o}function un(t){var e=t[0],n=t[1],r=t[2];return e*e+n*n+r*r}function cn(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t}function fn(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t}function ln(t,e){var n=e[0],r=e[1],o=e[2],i=n*n+r*r+o*o;return i>0&&(i=1/Math.sqrt(i),t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i),t}function pn(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function hn(t,e,n){var r=e[0],o=e[1],i=e[2],a=n[0],s=n[1],u=n[2];return t[0]=o*u-i*s,t[1]=i*a-r*u,t[2]=r*s-o*a,t}function dn(t,e,n,r){var o=e[0],i=e[1],a=e[2];return t[0]=o+r*(n[0]-o),t[1]=i+r*(n[1]-i),t[2]=a+r*(n[2]-a),t}function mn(t,e,n,r,o,i){var a=i*i,s=a*(2*i-3)+1,u=a*(i-2)+i,c=a*(i-1),f=a*(3-2*i);return t[0]=e[0]*s+n[0]*u+r[0]*c+o[0]*f,t[1]=e[1]*s+n[1]*u+r[1]*c+o[1]*f,t[2]=e[2]*s+n[2]*u+r[2]*c+o[2]*f,t}function gn(t,e,n,r,o,i){var a=1-i,s=a*a,u=i*i,c=s*a,f=3*i*s,l=3*u*a,p=u*i;return t[0]=e[0]*c+n[0]*f+r[0]*l+o[0]*p,t[1]=e[1]*c+n[1]*f+r[1]*l+o[1]*p,t[2]=e[2]*c+n[2]*f+r[2]*l+o[2]*p,t}function yn(t,e){e=e||1;var n=2*m()*Math.PI,r=2*m()-1,o=Math.sqrt(1-r*r)*e;return t[0]=Math.cos(n)*o,t[1]=Math.sin(n)*o,t[2]=r*e,t}function vn(t,e,n){var r=e[0],o=e[1],i=e[2],a=n[3]*r+n[7]*o+n[11]*i+n[15];return a=a||1,t[0]=(n[0]*r+n[4]*o+n[8]*i+n[12])/a,t[1]=(n[1]*r+n[5]*o+n[9]*i+n[13])/a,t[2]=(n[2]*r+n[6]*o+n[10]*i+n[14])/a,t}function bn(t,e,n){var r=e[0],o=e[1],i=e[2];return t[0]=r*n[0]+o*n[3]+i*n[6],t[1]=r*n[1]+o*n[4]+i*n[7],t[2]=r*n[2]+o*n[5]+i*n[8],t}function xn(t,e,n){var r=n[0],o=n[1],i=n[2],a=n[3],s=e[0],u=e[1],c=e[2],f=o*c-i*u,l=i*s-r*c,p=r*u-o*s,h=o*p-i*l,d=i*f-r*p,m=r*l-o*f,g=2*a;return f*=g,l*=g,p*=g,h*=2,d*=2,m*=2,t[0]=s+f+h,t[1]=u+l+d,t[2]=c+p+m,t}function wn(t,e,n,r){var o=[],i=[];return o[0]=e[0]-n[0],o[1]=e[1]-n[1],o[2]=e[2]-n[2],i[0]=o[0],i[1]=o[1]*Math.cos(r)-o[2]*Math.sin(r),i[2]=o[1]*Math.sin(r)+o[2]*Math.cos(r),t[0]=i[0]+n[0],t[1]=i[1]+n[1],t[2]=i[2]+n[2],t}function Sn(t,e,n,r){var o=[],i=[];return o[0]=e[0]-n[0],o[1]=e[1]-n[1],o[2]=e[2]-n[2],i[0]=o[2]*Math.sin(r)+o[0]*Math.cos(r),i[1]=o[1],i[2]=o[2]*Math.cos(r)-o[0]*Math.sin(r),t[0]=i[0]+n[0],t[1]=i[1]+n[1],t[2]=i[2]+n[2],t}function Mn(t,e,n,r){var o=[],i=[];return o[0]=e[0]-n[0],o[1]=e[1]-n[1],o[2]=e[2]-n[2],i[0]=o[0]*Math.cos(r)-o[1]*Math.sin(r),i[1]=o[0]*Math.sin(r)+o[1]*Math.cos(r),i[2]=o[2],t[0]=i[0]+n[0],t[1]=i[1]+n[1],t[2]=i[2]+n[2],t}function kn(t,e){var n=Ye(t[0],t[1],t[2]),r=Ye(e[0],e[1],e[2]);ln(n,n),ln(r,r);var o=pn(n,r);return o>1?0:o<-1?Math.PI:Math.acos(o)}function Tn(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"}function En(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]}function An(t,e){var n=t[0],r=t[1],o=t[2],i=e[0],a=e[1],s=e[2];return Math.abs(n-i)<=h*Math.max(1,Math.abs(n),Math.abs(i))&&Math.abs(r-a)<=h*Math.max(1,Math.abs(r),Math.abs(a))&&Math.abs(o-s)<=h*Math.max(1,Math.abs(o),Math.abs(s))}var On,Rn=Ze,Un=Qe,_n=$e,Dn=an,Cn=sn,Ln=qe,In=un,Pn=(On=ze(),function(t,e,n,r,o,i){var a=void 0,s=void 0;for(e||(e=3),n||(n=0),s=r?Math.min(r*e+n,t.length):t.length,a=n;a<s;a+=e)On[0]=t[a],On[1]=t[a+1],On[2]=t[a+2],o(On,On,i),t[a]=On[0],t[a+1]=On[1],t[a+2]=On[2];return t});function Fn(){var t=new d(4);return d!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[3]=0),t}function Bn(t){var e=new d(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function Nn(t,e,n,r){var o=new d(4);return o[0]=t,o[1]=e,o[2]=n,o[3]=r,o}function jn(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function Gn(t,e,n,r,o){return t[0]=e,t[1]=n,t[2]=r,t[3]=o,t}function zn(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t}function Hn(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t}function qn(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t[3]=e[3]*n[3],t}function Yn(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t[3]=e[3]/n[3],t}function Wn(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t[3]=Math.ceil(e[3]),t}function Vn(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t[3]=Math.floor(e[3]),t}function Xn(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t[3]=Math.min(e[3],n[3]),t}function Zn(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t[3]=Math.max(e[3],n[3]),t}function Qn(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t[3]=Math.round(e[3]),t}function $n(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t}function Kn(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t}function Jn(t,e){var n=e[0]-t[0],r=e[1]-t[1],o=e[2]-t[2],i=e[3]-t[3];return Math.sqrt(n*n+r*r+o*o+i*i)}function tr(t,e){var n=e[0]-t[0],r=e[1]-t[1],o=e[2]-t[2],i=e[3]-t[3];return n*n+r*r+o*o+i*i}function er(t){var e=t[0],n=t[1],r=t[2],o=t[3];return Math.sqrt(e*e+n*n+r*r+o*o)}function nr(t){var e=t[0],n=t[1],r=t[2],o=t[3];return e*e+n*n+r*r+o*o}function rr(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t}function or(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t[3]=1/e[3],t}function ir(t,e){var n=e[0],r=e[1],o=e[2],i=e[3],a=n*n+r*r+o*o+i*i;return a>0&&(a=1/Math.sqrt(a),t[0]=n*a,t[1]=r*a,t[2]=o*a,t[3]=i*a),t}function ar(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}function sr(t,e,n,r){var o=e[0],i=e[1],a=e[2],s=e[3];return t[0]=o+r*(n[0]-o),t[1]=i+r*(n[1]-i),t[2]=a+r*(n[2]-a),t[3]=s+r*(n[3]-s),t}function ur(t,e){var n,r,o,i,a,s;e=e||1;do{a=(n=2*m()-1)*n+(r=2*m()-1)*r}while(a>=1);do{s=(o=2*m()-1)*o+(i=2*m()-1)*i}while(s>=1);var u=Math.sqrt((1-a)/s);return t[0]=e*n,t[1]=e*r,t[2]=e*o*u,t[3]=e*i*u,t}function cr(t,e,n){var r=e[0],o=e[1],i=e[2],a=e[3];return t[0]=n[0]*r+n[4]*o+n[8]*i+n[12]*a,t[1]=n[1]*r+n[5]*o+n[9]*i+n[13]*a,t[2]=n[2]*r+n[6]*o+n[10]*i+n[14]*a,t[3]=n[3]*r+n[7]*o+n[11]*i+n[15]*a,t}function fr(t,e,n){var r=e[0],o=e[1],i=e[2],a=n[0],s=n[1],u=n[2],c=n[3],f=c*r+s*i-u*o,l=c*o+u*r-a*i,p=c*i+a*o-s*r,h=-a*r-s*o-u*i;return t[0]=f*c+h*-a+l*-u-p*-s,t[1]=l*c+h*-s+p*-a-f*-u,t[2]=p*c+h*-u+f*-s-l*-a,t[3]=e[3],t}function lr(t){return"vec4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}function pr(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]}function hr(t,e){var n=t[0],r=t[1],o=t[2],i=t[3],a=e[0],s=e[1],u=e[2],c=e[3];return Math.abs(n-a)<=h*Math.max(1,Math.abs(n),Math.abs(a))&&Math.abs(r-s)<=h*Math.max(1,Math.abs(r),Math.abs(s))&&Math.abs(o-u)<=h*Math.max(1,Math.abs(o),Math.abs(u))&&Math.abs(i-c)<=h*Math.max(1,Math.abs(i),Math.abs(c))}var dr=Hn,mr=qn,gr=Yn,yr=Jn,vr=tr,br=er,xr=nr,wr=function(){var t=Fn();return function(e,n,r,o,i,a){var s=void 0,u=void 0;for(n||(n=4),r||(r=0),u=o?Math.min(o*n+r,e.length):e.length,s=r;s<u;s+=n)t[0]=e[s],t[1]=e[s+1],t[2]=e[s+2],t[3]=e[s+3],i(t,t,a),e[s]=t[0],e[s+1]=t[1],e[s+2]=t[2],e[s+3]=t[3];return e}}();function Sr(){var t=new d(4);return d!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t[3]=1,t}function Mr(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t}function kr(t,e,n){n*=.5;var r=Math.sin(n);return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=Math.cos(n),t}function Tr(t,e){var n=2*Math.acos(e[3]),r=Math.sin(n/2);return r>h?(t[0]=e[0]/r,t[1]=e[1]/r,t[2]=e[2]/r):(t[0]=1,t[1]=0,t[2]=0),n}function Er(t,e,n){var r=e[0],o=e[1],i=e[2],a=e[3],s=n[0],u=n[1],c=n[2],f=n[3];return t[0]=r*f+a*s+o*c-i*u,t[1]=o*f+a*u+i*s-r*c,t[2]=i*f+a*c+r*u-o*s,t[3]=a*f-r*s-o*u-i*c,t}function Ar(t,e,n){n*=.5;var r=e[0],o=e[1],i=e[2],a=e[3],s=Math.sin(n),u=Math.cos(n);return t[0]=r*u+a*s,t[1]=o*u+i*s,t[2]=i*u-o*s,t[3]=a*u-r*s,t}function Or(t,e,n){n*=.5;var r=e[0],o=e[1],i=e[2],a=e[3],s=Math.sin(n),u=Math.cos(n);return t[0]=r*u-i*s,t[1]=o*u+a*s,t[2]=i*u+r*s,t[3]=a*u-o*s,t}function Rr(t,e,n){n*=.5;var r=e[0],o=e[1],i=e[2],a=e[3],s=Math.sin(n),u=Math.cos(n);return t[0]=r*u+o*s,t[1]=o*u-r*s,t[2]=i*u+a*s,t[3]=a*u-i*s,t}function Ur(t,e){var n=e[0],r=e[1],o=e[2];return t[0]=n,t[1]=r,t[2]=o,t[3]=Math.sqrt(Math.abs(1-n*n-r*r-o*o)),t}function _r(t,e,n,r){var o=e[0],i=e[1],a=e[2],s=e[3],u=n[0],c=n[1],f=n[2],l=n[3],p=void 0,d=void 0,m=void 0,g=void 0,y=void 0;return(d=o*u+i*c+a*f+s*l)<0&&(d=-d,u=-u,c=-c,f=-f,l=-l),1-d>h?(p=Math.acos(d),m=Math.sin(p),g=Math.sin((1-r)*p)/m,y=Math.sin(r*p)/m):(g=1-r,y=r),t[0]=g*o+y*u,t[1]=g*i+y*c,t[2]=g*a+y*f,t[3]=g*s+y*l,t}function Dr(t){var e=m(),n=m(),r=m(),o=Math.sqrt(1-e),i=Math.sqrt(e);return t[0]=o*Math.sin(2*Math.PI*n),t[1]=o*Math.cos(2*Math.PI*n),t[2]=i*Math.sin(2*Math.PI*r),t[3]=i*Math.cos(2*Math.PI*r),t}function Cr(t,e){var n=e[0],r=e[1],o=e[2],i=e[3],a=n*n+r*r+o*o+i*i,s=a?1/a:0;return t[0]=-n*s,t[1]=-r*s,t[2]=-o*s,t[3]=i*s,t}function Lr(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t}function Ir(t,e){var n=e[0]+e[4]+e[8],r=void 0;if(n>0)r=Math.sqrt(n+1),t[3]=.5*r,r=.5/r,t[0]=(e[5]-e[7])*r,t[1]=(e[6]-e[2])*r,t[2]=(e[1]-e[3])*r;else{var o=0;e[4]>e[0]&&(o=1),e[8]>e[3*o+o]&&(o=2);var i=(o+1)%3,a=(o+2)%3;r=Math.sqrt(e[3*o+o]-e[3*i+i]-e[3*a+a]+1),t[o]=.5*r,r=.5/r,t[3]=(e[3*i+a]-e[3*a+i])*r,t[i]=(e[3*i+o]+e[3*o+i])*r,t[a]=(e[3*a+o]+e[3*o+a])*r}return t}function Pr(t,e,n,r){var o=.5*Math.PI/180;e*=o,n*=o,r*=o;var i=Math.sin(e),a=Math.cos(e),s=Math.sin(n),u=Math.cos(n),c=Math.sin(r),f=Math.cos(r);return t[0]=i*u*f-a*s*c,t[1]=a*s*f+i*u*c,t[2]=a*u*c-i*s*f,t[3]=a*u*f+i*s*c,t}function Fr(t){return"quat("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}var Br,Nr,jr,Gr,zr,Hr,qr=Bn,Yr=Nn,Wr=jn,Vr=Gn,Xr=zn,Zr=Er,Qr=$n,$r=ar,Kr=sr,Jr=er,to=Jr,eo=nr,no=eo,ro=ir,oo=pr,io=hr,ao=(Br=ze(),Nr=Ye(1,0,0),jr=Ye(0,1,0),function(t,e,n){var r=pn(e,n);return r<-.999999?(hn(Br,Nr,e),Ln(Br)<1e-6&&hn(Br,jr,e),ln(Br,Br),kr(t,Br,Math.PI),t):r>.999999?(t[0]=0,t[1]=0,t[2]=0,t[3]=1,t):(hn(Br,e,n),t[0]=Br[0],t[1]=Br[1],t[2]=Br[2],t[3]=1+r,ro(t,t))}),so=(Gr=Sr(),zr=Sr(),function(t,e,n,r,o,i){return _r(Gr,e,o,i),_r(zr,n,r,i),_r(t,Gr,zr,2*i*(1-i)),t}),uo=(Hr=yt(),function(t,e,n,r){return Hr[0]=n[0],Hr[3]=n[1],Hr[6]=n[2],Hr[1]=r[0],Hr[4]=r[1],Hr[7]=r[2],Hr[2]=-e[0],Hr[5]=-e[1],Hr[8]=-e[2],ro(t,Ir(t,Hr))});function co(){var t=new d(8);return d!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[4]=0,t[5]=0,t[6]=0,t[7]=0),t[3]=1,t}function fo(t){var e=new d(8);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e}function lo(t,e,n,r,o,i,a,s){var u=new d(8);return u[0]=t,u[1]=e,u[2]=n,u[3]=r,u[4]=o,u[5]=i,u[6]=a,u[7]=s,u}function po(t,e,n,r,o,i,a){var s=new d(8);s[0]=t,s[1]=e,s[2]=n,s[3]=r;var u=.5*o,c=.5*i,f=.5*a;return s[4]=u*r+c*n-f*e,s[5]=c*r+f*t-u*n,s[6]=f*r+u*e-c*t,s[7]=-u*t-c*e-f*n,s}function ho(t,e,n){var r=.5*n[0],o=.5*n[1],i=.5*n[2],a=e[0],s=e[1],u=e[2],c=e[3];return t[0]=a,t[1]=s,t[2]=u,t[3]=c,t[4]=r*c+o*u-i*s,t[5]=o*c+i*a-r*u,t[6]=i*c+r*s-o*a,t[7]=-r*a-o*s-i*u,t}function mo(t,e){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t[4]=.5*e[0],t[5]=.5*e[1],t[6]=.5*e[2],t[7]=0,t}function go(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=0,t[5]=0,t[6]=0,t[7]=0,t}function yo(t,e){var n=Sr();Se(n,e);var r=new d(3);return xe(r,e),ho(t,n,r),t}function vo(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t}function bo(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t[6]=0,t[7]=0,t}function xo(t,e,n,r,o,i,a,s,u){return t[0]=e,t[1]=n,t[2]=r,t[3]=o,t[4]=i,t[5]=a,t[6]=s,t[7]=u,t}var wo=Wr;function So(t,e){return t[0]=e[4],t[1]=e[5],t[2]=e[6],t[3]=e[7],t}var Mo=Wr;function ko(t,e){return t[4]=e[0],t[5]=e[1],t[6]=e[2],t[7]=e[3],t}function To(t,e){var n=e[4],r=e[5],o=e[6],i=e[7],a=-e[0],s=-e[1],u=-e[2],c=e[3];return t[0]=2*(n*c+i*a+r*u-o*s),t[1]=2*(r*c+i*s+o*a-n*u),t[2]=2*(o*c+i*u+n*s-r*a),t}function Eo(t,e,n){var r=e[0],o=e[1],i=e[2],a=e[3],s=.5*n[0],u=.5*n[1],c=.5*n[2],f=e[4],l=e[5],p=e[6],h=e[7];return t[0]=r,t[1]=o,t[2]=i,t[3]=a,t[4]=a*s+o*c-i*u+f,t[5]=a*u+i*s-r*c+l,t[6]=a*c+r*u-o*s+p,t[7]=-r*s-o*u-i*c+h,t}function Ao(t,e,n){var r=-e[0],o=-e[1],i=-e[2],a=e[3],s=e[4],u=e[5],c=e[6],f=e[7],l=s*a+f*r+u*i-c*o,p=u*a+f*o+c*r-s*i,h=c*a+f*i+s*o-u*r,d=f*a-s*r-u*o-c*i;return Ar(t,e,n),r=t[0],o=t[1],i=t[2],a=t[3],t[4]=l*a+d*r+p*i-h*o,t[5]=p*a+d*o+h*r-l*i,t[6]=h*a+d*i+l*o-p*r,t[7]=d*a-l*r-p*o-h*i,t}function Oo(t,e,n){var r=-e[0],o=-e[1],i=-e[2],a=e[3],s=e[4],u=e[5],c=e[6],f=e[7],l=s*a+f*r+u*i-c*o,p=u*a+f*o+c*r-s*i,h=c*a+f*i+s*o-u*r,d=f*a-s*r-u*o-c*i;return Or(t,e,n),r=t[0],o=t[1],i=t[2],a=t[3],t[4]=l*a+d*r+p*i-h*o,t[5]=p*a+d*o+h*r-l*i,t[6]=h*a+d*i+l*o-p*r,t[7]=d*a-l*r-p*o-h*i,t}function Ro(t,e,n){var r=-e[0],o=-e[1],i=-e[2],a=e[3],s=e[4],u=e[5],c=e[6],f=e[7],l=s*a+f*r+u*i-c*o,p=u*a+f*o+c*r-s*i,h=c*a+f*i+s*o-u*r,d=f*a-s*r-u*o-c*i;return Rr(t,e,n),r=t[0],o=t[1],i=t[2],a=t[3],t[4]=l*a+d*r+p*i-h*o,t[5]=p*a+d*o+h*r-l*i,t[6]=h*a+d*i+l*o-p*r,t[7]=d*a-l*r-p*o-h*i,t}function Uo(t,e,n){var r=n[0],o=n[1],i=n[2],a=n[3],s=e[0],u=e[1],c=e[2],f=e[3];return t[0]=s*a+f*r+u*i-c*o,t[1]=u*a+f*o+c*r-s*i,t[2]=c*a+f*i+s*o-u*r,t[3]=f*a-s*r-u*o-c*i,s=e[4],u=e[5],c=e[6],f=e[7],t[4]=s*a+f*r+u*i-c*o,t[5]=u*a+f*o+c*r-s*i,t[6]=c*a+f*i+s*o-u*r,t[7]=f*a-s*r-u*o-c*i,t}function _o(t,e,n){var r=e[0],o=e[1],i=e[2],a=e[3],s=n[0],u=n[1],c=n[2],f=n[3];return t[0]=r*f+a*s+o*c-i*u,t[1]=o*f+a*u+i*s-r*c,t[2]=i*f+a*c+r*u-o*s,t[3]=a*f-r*s-o*u-i*c,s=n[4],u=n[5],c=n[6],f=n[7],t[4]=r*f+a*s+o*c-i*u,t[5]=o*f+a*u+i*s-r*c,t[6]=i*f+a*c+r*u-o*s,t[7]=a*f-r*s-o*u-i*c,t}function Do(t,e,n,r){if(Math.abs(r)<h)return vo(t,e);var o=Math.sqrt(n[0]*n[0]+n[1]*n[1]+n[2]*n[2]);r*=.5;var i=Math.sin(r),a=i*n[0]/o,s=i*n[1]/o,u=i*n[2]/o,c=Math.cos(r),f=e[0],l=e[1],p=e[2],d=e[3];t[0]=f*c+d*a+l*u-p*s,t[1]=l*c+d*s+p*a-f*u,t[2]=p*c+d*u+f*s-l*a,t[3]=d*c-f*a-l*s-p*u;var m=e[4],g=e[5],y=e[6],v=e[7];return t[4]=m*c+v*a+g*u-y*s,t[5]=g*c+v*s+y*a-m*u,t[6]=y*c+v*u+m*s-g*a,t[7]=v*c-m*a-g*s-y*u,t}function Co(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t}function Lo(t,e,n){var r=e[0],o=e[1],i=e[2],a=e[3],s=n[4],u=n[5],c=n[6],f=n[7],l=e[4],p=e[5],h=e[6],d=e[7],m=n[0],g=n[1],y=n[2],v=n[3];return t[0]=r*v+a*m+o*y-i*g,t[1]=o*v+a*g+i*m-r*y,t[2]=i*v+a*y+r*g-o*m,t[3]=a*v-r*m-o*g-i*y,t[4]=r*f+a*s+o*c-i*u+l*v+d*m+p*y-h*g,t[5]=o*f+a*u+i*s-r*c+p*v+d*g+h*m-l*y,t[6]=i*f+a*c+r*u-o*s+h*v+d*y+l*g-p*m,t[7]=a*f-r*s-o*u-i*c+d*v-l*m-p*g-h*y,t}var Io=Lo;function Po(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t}var Fo=$r;function Bo(t,e,n,r){var o=1-r;return Fo(e,n)<0&&(r=-r),t[0]=e[0]*o+n[0]*r,t[1]=e[1]*o+n[1]*r,t[2]=e[2]*o+n[2]*r,t[3]=e[3]*o+n[3]*r,t[4]=e[4]*o+n[4]*r,t[5]=e[5]*o+n[5]*r,t[6]=e[6]*o+n[6]*r,t[7]=e[7]*o+n[7]*r,t}function No(t,e){var n=Ho(e);return t[0]=-e[0]/n,t[1]=-e[1]/n,t[2]=-e[2]/n,t[3]=e[3]/n,t[4]=-e[4]/n,t[5]=-e[5]/n,t[6]=-e[6]/n,t[7]=e[7]/n,t}function jo(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t[4]=-e[4],t[5]=-e[5],t[6]=-e[6],t[7]=e[7],t}var Go=Jr,zo=Go,Ho=eo,qo=Ho;function Yo(t,e){var n=Ho(e);if(n>0){n=Math.sqrt(n);var r=e[0]/n,o=e[1]/n,i=e[2]/n,a=e[3]/n,s=e[4],u=e[5],c=e[6],f=e[7],l=r*s+o*u+i*c+a*f;t[0]=r,t[1]=o,t[2]=i,t[3]=a,t[4]=(s-r*l)/n,t[5]=(u-o*l)/n,t[6]=(c-i*l)/n,t[7]=(f-a*l)/n}return t}function Wo(t){return"quat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+")"}function Vo(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]}function Xo(t,e){var n=t[0],r=t[1],o=t[2],i=t[3],a=t[4],s=t[5],u=t[6],c=t[7],f=e[0],l=e[1],p=e[2],d=e[3],m=e[4],g=e[5],y=e[6],v=e[7];return Math.abs(n-f)<=h*Math.max(1,Math.abs(n),Math.abs(f))&&Math.abs(r-l)<=h*Math.max(1,Math.abs(r),Math.abs(l))&&Math.abs(o-p)<=h*Math.max(1,Math.abs(o),Math.abs(p))&&Math.abs(i-d)<=h*Math.max(1,Math.abs(i),Math.abs(d))&&Math.abs(a-m)<=h*Math.max(1,Math.abs(a),Math.abs(m))&&Math.abs(s-g)<=h*Math.max(1,Math.abs(s),Math.abs(g))&&Math.abs(u-y)<=h*Math.max(1,Math.abs(u),Math.abs(y))&&Math.abs(c-v)<=h*Math.max(1,Math.abs(c),Math.abs(v))}function Zo(){var t=new d(2);return d!=Float32Array&&(t[0]=0,t[1]=0),t}function Qo(t){var e=new d(2);return e[0]=t[0],e[1]=t[1],e}function $o(t,e){var n=new d(2);return n[0]=t,n[1]=e,n}function Ko(t,e){return t[0]=e[0],t[1]=e[1],t}function Jo(t,e,n){return t[0]=e,t[1]=n,t}function ti(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t}function ei(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t}function ni(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t}function ri(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t}function oi(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t}function ii(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t}function ai(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t}function si(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t}function ui(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t}function ci(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t}function fi(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t}function li(t,e){var n=e[0]-t[0],r=e[1]-t[1];return Math.sqrt(n*n+r*r)}function pi(t,e){var n=e[0]-t[0],r=e[1]-t[1];return n*n+r*r}function hi(t){var e=t[0],n=t[1];return Math.sqrt(e*e+n*n)}function di(t){var e=t[0],n=t[1];return e*e+n*n}function mi(t,e){return t[0]=-e[0],t[1]=-e[1],t}function gi(t,e){return t[0]=1/e[0],t[1]=1/e[1],t}function yi(t,e){var n=e[0],r=e[1],o=n*n+r*r;return o>0&&(o=1/Math.sqrt(o),t[0]=e[0]*o,t[1]=e[1]*o),t}function vi(t,e){return t[0]*e[0]+t[1]*e[1]}function bi(t,e,n){var r=e[0]*n[1]-e[1]*n[0];return t[0]=t[1]=0,t[2]=r,t}function xi(t,e,n,r){var o=e[0],i=e[1];return t[0]=o+r*(n[0]-o),t[1]=i+r*(n[1]-i),t}function wi(t,e){e=e||1;var n=2*m()*Math.PI;return t[0]=Math.cos(n)*e,t[1]=Math.sin(n)*e,t}function Si(t,e,n){var r=e[0],o=e[1];return t[0]=n[0]*r+n[2]*o,t[1]=n[1]*r+n[3]*o,t}function Mi(t,e,n){var r=e[0],o=e[1];return t[0]=n[0]*r+n[2]*o+n[4],t[1]=n[1]*r+n[3]*o+n[5],t}function ki(t,e,n){var r=e[0],o=e[1];return t[0]=n[0]*r+n[3]*o+n[6],t[1]=n[1]*r+n[4]*o+n[7],t}function Ti(t,e,n){var r=e[0],o=e[1];return t[0]=n[0]*r+n[4]*o+n[12],t[1]=n[1]*r+n[5]*o+n[13],t}function Ei(t,e,n,r){var o=e[0]-n[0],i=e[1]-n[1],a=Math.sin(r),s=Math.cos(r);return t[0]=o*s-i*a+n[0],t[1]=o*a+i*s+n[1],t}function Ai(t,e){var n=t[0],r=t[1],o=e[0],i=e[1],a=n*n+r*r;a>0&&(a=1/Math.sqrt(a));var s=o*o+i*i;s>0&&(s=1/Math.sqrt(s));var u=(n*o+r*i)*a*s;return u>1?0:u<-1?Math.PI:Math.acos(u)}function Oi(t){return"vec2("+t[0]+", "+t[1]+")"}function Ri(t,e){return t[0]===e[0]&&t[1]===e[1]}function Ui(t,e){var n=t[0],r=t[1],o=e[0],i=e[1];return Math.abs(n-o)<=h*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(r-i)<=h*Math.max(1,Math.abs(r),Math.abs(i))}var _i=hi,Di=ei,Ci=ni,Li=ri,Ii=li,Pi=pi,Fi=di,Bi=function(){var t=Zo();return function(e,n,r,o,i,a){var s=void 0,u=void 0;for(n||(n=2),r||(r=0),u=o?Math.min(o*n+r,e.length):e.length,s=r;s<u;s+=n)t[0]=e[s],t[1]=e[s+1],i(t,t,a),e[s]=t[0],e[s+1]=t[1];return e}}()},217:function(t,e){var n=Object.prototype,r=n.hasOwnProperty,o=n.toString,i=n.propertyIsEnumerable;t.exports=function(t){return function(t){return function(t){return!!t&&"object"==typeof t}(t)&&function(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}(t.length)&&!function(t){var e=function(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}(t)?o.call(t):"";return"[object Function]"==e||"[object GeneratorFunction]"==e}(t)}(t)}(t)&&r.call(t,"callee")&&(!i.call(t,"callee")||"[object Arguments]"==o.call(t))}},236:function(t,e,n){"use strict";var r=n(64);t.exports=o;function o(t){this._isDirected=!r.has(t,"directed")||t.directed,this._isMultigraph=!!r.has(t,"multigraph")&&t.multigraph,this._isCompound=!!r.has(t,"compound")&&t.compound,this._label=void 0,this._defaultNodeLabelFn=r.constant(void 0),this._defaultEdgeLabelFn=r.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children["\0"]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}function i(t,e){t[e]?t[e]++:t[e]=1}function a(t,e){--t[e]||delete t[e]}function s(t,e,n,o){var i=""+e,a=""+n;if(!t&&i>a){var s=i;i=a,a=s}return i+""+a+""+(r.isUndefined(o)?"\0":o)}function u(t,e,n,r){var o=""+e,i=""+n;if(!t&&o>i){var a=o;o=i,i=a}var s={v:o,w:i};return r&&(s.name=r),s}function c(t,e){return s(t,e.v,e.w,e.name)}o.prototype._nodeCount=0,o.prototype._edgeCount=0,o.prototype.isDirected=function(){return this._isDirected},o.prototype.isMultigraph=function(){return this._isMultigraph},o.prototype.isCompound=function(){return this._isCompound},o.prototype.setGraph=function(t){return this._label=t,this},o.prototype.graph=function(){return this._label},o.prototype.setDefaultNodeLabel=function(t){return r.isFunction(t)||(t=r.constant(t)),this._defaultNodeLabelFn=t,this},o.prototype.nodeCount=function(){return this._nodeCount},o.prototype.nodes=function(){return r.keys(this._nodes)},o.prototype.sources=function(){var t=this;return r.filter(this.nodes(),(function(e){return r.isEmpty(t._in[e])}))},o.prototype.sinks=function(){var t=this;return r.filter(this.nodes(),(function(e){return r.isEmpty(t._out[e])}))},o.prototype.setNodes=function(t,e){var n=arguments,o=this;return r.each(t,(function(t){n.length>1?o.setNode(t,e):o.setNode(t)})),this},o.prototype.setNode=function(t,e){return r.has(this._nodes,t)?(arguments.length>1&&(this._nodes[t]=e),this):(this._nodes[t]=arguments.length>1?e:this._defaultNodeLabelFn(t),this._isCompound&&(this._parent[t]="\0",this._children[t]={},this._children["\0"][t]=!0),this._in[t]={},this._preds[t]={},this._out[t]={},this._sucs[t]={},++this._nodeCount,this)},o.prototype.node=function(t){return this._nodes[t]},o.prototype.hasNode=function(t){return r.has(this._nodes,t)},o.prototype.removeNode=function(t){var e=this;if(r.has(this._nodes,t)){var n=function(t){e.removeEdge(e._edgeObjs[t])};delete this._nodes[t],this._isCompound&&(this._removeFromParentsChildList(t),delete this._parent[t],r.each(this.children(t),(function(t){e.setParent(t)})),delete this._children[t]),r.each(r.keys(this._in[t]),n),delete this._in[t],delete this._preds[t],r.each(r.keys(this._out[t]),n),delete this._out[t],delete this._sucs[t],--this._nodeCount}return this},o.prototype.setParent=function(t,e){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(r.isUndefined(e))e="\0";else{for(var n=e+="";!r.isUndefined(n);n=this.parent(n))if(n===t)throw new Error("Setting "+e+" as parent of "+t+" would create a cycle");this.setNode(e)}return this.setNode(t),this._removeFromParentsChildList(t),this._parent[t]=e,this._children[e][t]=!0,this},o.prototype._removeFromParentsChildList=function(t){delete this._children[this._parent[t]][t]},o.prototype.parent=function(t){if(this._isCompound){var e=this._parent[t];if("\0"!==e)return e}},o.prototype.children=function(t){if(r.isUndefined(t)&&(t="\0"),this._isCompound){var e=this._children[t];if(e)return r.keys(e)}else{if("\0"===t)return this.nodes();if(this.hasNode(t))return[]}},o.prototype.predecessors=function(t){var e=this._preds[t];if(e)return r.keys(e)},o.prototype.successors=function(t){var e=this._sucs[t];if(e)return r.keys(e)},o.prototype.neighbors=function(t){var e=this.predecessors(t);if(e)return r.union(e,this.successors(t))},o.prototype.isLeaf=function(t){return 0===(this.isDirected()?this.successors(t):this.neighbors(t)).length},o.prototype.filterNodes=function(t){var e=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});e.setGraph(this.graph());var n=this;r.each(this._nodes,(function(n,r){t(r)&&e.setNode(r,n)})),r.each(this._edgeObjs,(function(t){e.hasNode(t.v)&&e.hasNode(t.w)&&e.setEdge(t,n.edge(t))}));var o={};return this._isCompound&&r.each(e.nodes(),(function(t){e.setParent(t,function t(r){var i=n.parent(r);return void 0===i||e.hasNode(i)?(o[r]=i,i):i in o?o[i]:t(i)}(t))})),e},o.prototype.setDefaultEdgeLabel=function(t){return r.isFunction(t)||(t=r.constant(t)),this._defaultEdgeLabelFn=t,this},o.prototype.edgeCount=function(){return this._edgeCount},o.prototype.edges=function(){return r.values(this._edgeObjs)},o.prototype.setPath=function(t,e){var n=this,o=arguments;return r.reduce(t,(function(t,r){return o.length>1?n.setEdge(t,r,e):n.setEdge(t,r),r})),this},o.prototype.setEdge=function(){var t,e,n,o,a=!1,c=arguments[0];"object"==typeof c&&null!==c&&"v"in c?(t=c.v,e=c.w,n=c.name,2===arguments.length&&(o=arguments[1],a=!0)):(t=c,e=arguments[1],n=arguments[3],arguments.length>2&&(o=arguments[2],a=!0)),t=""+t,e=""+e,r.isUndefined(n)||(n=""+n);var f=s(this._isDirected,t,e,n);if(r.has(this._edgeLabels,f))return a&&(this._edgeLabels[f]=o),this;if(!r.isUndefined(n)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(t),this.setNode(e),this._edgeLabels[f]=a?o:this._defaultEdgeLabelFn(t,e,n);var l=u(this._isDirected,t,e,n);return t=l.v,e=l.w,Object.freeze(l),this._edgeObjs[f]=l,i(this._preds[e],t),i(this._sucs[t],e),this._in[e][f]=l,this._out[t][f]=l,this._edgeCount++,this},o.prototype.edge=function(t,e,n){var r=1===arguments.length?c(this._isDirected,arguments[0]):s(this._isDirected,t,e,n);return this._edgeLabels[r]},o.prototype.hasEdge=function(t,e,n){var o=1===arguments.length?c(this._isDirected,arguments[0]):s(this._isDirected,t,e,n);return r.has(this._edgeLabels,o)},o.prototype.removeEdge=function(t,e,n){var r=1===arguments.length?c(this._isDirected,arguments[0]):s(this._isDirected,t,e,n),o=this._edgeObjs[r];return o&&(t=o.v,e=o.w,delete this._edgeLabels[r],delete this._edgeObjs[r],a(this._preds[e],t),a(this._sucs[t],e),delete this._in[e][r],delete this._out[t][r],this._edgeCount--),this},o.prototype.inEdges=function(t,e){var n=this._in[t];if(n){var o=r.values(n);return e?r.filter(o,(function(t){return t.v===e})):o}},o.prototype.outEdges=function(t,e){var n=this._out[t];if(n){var o=r.values(n);return e?r.filter(o,(function(t){return t.w===e})):o}},o.prototype.nodeEdges=function(t,e){var n=this.inEdges(t,e);if(n)return n.concat(this.outEdges(t,e))}},240:function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},279:function(t,e){var n=/^\[object .+?Constructor\]$/;function r(t){return!!t&&"object"==typeof t}var o,i,a,s=Object.prototype,u=Function.prototype.toString,c=s.hasOwnProperty,f=s.toString,l=RegExp("^"+u.call(c).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),p=(i="isArray",function(t){return null!=t&&(function(t){return function(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}(t)&&"[object Function]"==f.call(t)}(t)?l.test(u.call(t)):r(t)&&n.test(t))}(a=null==(o=Array)?void 0:o[i])?a:void 0);var h=p||function(t){return r(t)&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}(t.length)&&"[object Array]"==f.call(t)};t.exports=h},280:function(t,e,n){"use strict";var r=n(394),o=n(934);t.exports={convert:function(t,e,n){if(e=void 0===e?r.TYPED_ARRAY:e,-1===[r.FLAT_ARRAY,r.ARRAY_OF_ARRAYS,r.TYPED_ARRAY,r.ARRAY_OF_TYPED_ARRAYS,r.NDARRAY].indexOf(e))throw new Error("geo-convert-position-format: Unknown target format "+e);var i,a=r.identify(t);if(a===r.FLAT_ARRAY)i=new Float32Array(t);else if(a===r.TYPED_ARRAY)i=new Float32Array(t);else if(a===r.ARRAY_OF_ARRAYS){i=[];for(var s=0;s<t.length;s++)i.push.apply(i,t[s]);i=new Float32Array(i)}else if(a===r.ARRAY_OF_TYPED_ARRAYS){i=[];for(s=0;s<t.length;s++)i.push.apply(i,t[s]);i=new Float32Array(i)}else{if(a!==r.NDARRAY)throw new Error("geo-convert-position-format: Could not convert from incoming format "+a);i=new Float32Array(t.data)}void 0===n&&(n=i.length%3==0?3:i.length%2==0?2:1);if(-1===[1,2,3].indexOf(n))throw new Error("geo-convert-position-format: Stride "+n+" not a valid stride - must be 1, 2, or 3");if(i.length%n!=0)throw new Error("geo-convert-position-format: Stride "+n+" incompatible with element count "+i.length);if(e===r.TYPED_ARRAY)return i;if(e===r.FLAT_ARRAY)return Array.prototype.slice.call(i);if(e===r.ARRAY_OF_ARRAYS){for(var u=[],c=(s=0,0),f=i.length/n;c<f;c++){for(var l=[],p=0;p<n;p++)l.push(i[s++]);u.push(l)}return u}if(e===r.ARRAY_OF_TYPED_ARRAYS){for(u=[],s=0,c=0,f=i.length/n;c<f;c++){for(l=[],p=0;p<n;p++)l.push(i[s++]);u.push(new Float32Array(l))}return u}if(e===r.NDARRAY)return o(i);throw new Error("geo-convert-position-format: Could not convert to target format "+e)},FLAT_ARRAY:r.FLAT_ARRAY,ARRAY_OF_ARRAYS:r.ARRAY_OF_ARRAYS,TYPED_ARRAY:r.TYPED_ARRAY,ARRAY_OF_TYPED_ARRAYS:r.ARRAY_OF_TYPED_ARRAYS,NDARRAY:r.NDARRAY}},298:function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},3:function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",(function(){return o})),n.d(e,"__assign",(function(){return i})),n.d(e,"__rest",(function(){return a})),n.d(e,"__decorate",(function(){return s})),n.d(e,"__param",(function(){return u})),n.d(e,"__metadata",(function(){return c})),n.d(e,"__awaiter",(function(){return f})),n.d(e,"__generator",(function(){return l})),n.d(e,"__exportStar",(function(){return p})),n.d(e,"__values",(function(){return h})),n.d(e,"__read",(function(){return d})),n.d(e,"__spread",(function(){return m})),n.d(e,"__spreadArrays",(function(){return g})),n.d(e,"__await",(function(){return y})),n.d(e,"__asyncGenerator",(function(){return v})),n.d(e,"__asyncDelegator",(function(){return b})),n.d(e,"__asyncValues",(function(){return x})),n.d(e,"__makeTemplateObject",(function(){return w})),n.d(e,"__importStar",(function(){return S})),n.d(e,"__importDefault",(function(){return M})),n.d(e,"__classPrivateFieldGet",(function(){return k})),n.d(e,"__classPrivateFieldSet",(function(){return T}));var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function o(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var i=function(){return(i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function a(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]])}return n}function s(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a}function u(t,e){return function(n,r){e(n,r,t)}}function c(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function f(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{u(r.next(t))}catch(t){i(t)}}function s(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))}function l(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function p(t,e){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}function h(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function d(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function m(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(d(arguments[e]));return t}function g(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),o=0;for(e=0;e<n;e++)for(var i=arguments[e],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r}function y(t){return this instanceof y?(this.v=t,this):new y(t)}function v(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(t,e||[]),i=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(t){o[t]&&(r[t]=function(e){return new Promise((function(n,r){i.push([t,e,n,r])>1||s(t,e)}))})}function s(t,e){try{(n=o[t](e)).value instanceof y?Promise.resolve(n.value.v).then(u,c):f(i[0][2],n)}catch(t){f(i[0][3],t)}var n}function u(t){s("next",t)}function c(t){s("throw",t)}function f(t,e){t(e),i.shift(),i.length&&s(i[0][0],i[0][1])}}function b(t){var e,n;return e={},r("next"),r("throw",(function(t){throw t})),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,o){e[r]=t[r]?function(e){return(n=!n)?{value:y(t[r](e)),done:"return"===r}:o?o(e):e}:o}}function x(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=h(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise((function(r,o){(function(t,e,n,r){Promise.resolve(r).then((function(e){t({value:e,done:n})}),e)})(r,o,(e=t[n](e)).done,e.value)}))}}}function w(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function S(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function M(t){return t&&t.__esModule?t:{default:t}}function k(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function T(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}},332:function(t,e,n){var r=n(64),o=n(333);t.exports=function(t,e,n,r){return function(t,e,n,r){var i,a,s={},u=new o,c=function(t){var e=t.v!==i?t.v:t.w,r=s[e],o=n(t),c=a.distance+o;if(o<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+t+" Weight: "+o);c<r.distance&&(r.distance=c,r.predecessor=i,u.decrease(e,c))};t.nodes().forEach((function(t){var n=t===e?0:Number.POSITIVE_INFINITY;s[t]={distance:n},u.add(t,n)}));for(;u.size()>0&&(i=u.removeMin(),(a=s[i]).distance!==Number.POSITIVE_INFINITY);)r(i).forEach(c);return s}(t,String(e),n||i,r||function(e){return t.outEdges(e)})};var i=r.constant(1)},333:function(t,e,n){var r=n(64);function o(){this._arr=[],this._keyIndices={}}t.exports=o,o.prototype.size=function(){return this._arr.length},o.prototype.keys=function(){return this._arr.map((function(t){return t.key}))},o.prototype.has=function(t){return r.has(this._keyIndices,t)},o.prototype.priority=function(t){var e=this._keyIndices[t];if(void 0!==e)return this._arr[e].priority},o.prototype.min=function(){if(0===this.size())throw new Error("Queue underflow");return this._arr[0].key},o.prototype.add=function(t,e){var n=this._keyIndices;if(t=String(t),!r.has(n,t)){var o=this._arr,i=o.length;return n[t]=i,o.push({key:t,priority:e}),this._decrease(i),!0}return!1},o.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var t=this._arr.pop();return delete this._keyIndices[t.key],this._heapify(0),t.key},o.prototype.decrease=function(t,e){var n=this._keyIndices[t];if(e>this._arr[n].priority)throw new Error("New priority is greater than current priority. Key: "+t+" Old: "+this._arr[n].priority+" New: "+e);this._arr[n].priority=e,this._decrease(n)},o.prototype._heapify=function(t){var e=this._arr,n=2*t,r=n+1,o=t;n<e.length&&(o=e[n].priority<e[o].priority?n:o,r<e.length&&(o=e[r].priority<e[o].priority?r:o),o!==t&&(this._swap(t,o),this._heapify(o)))},o.prototype._decrease=function(t){for(var e,n=this._arr,r=n[t].priority;0!==t&&!(n[e=t>>1].priority<r);)this._swap(t,e),t=e},o.prototype._swap=function(t,e){var n=this._arr,r=this._keyIndices,o=n[t],i=n[e];n[t]=i,n[e]=o,r[i.key]=t,r[o.key]=e}},334:function(t,e,n){var r=n(64);t.exports=function(t){var e=0,n=[],o={},i=[];return t.nodes().forEach((function(a){r.has(o,a)||function a(s){var u=o[s]={onStack:!0,lowlink:e,index:e++};if(n.push(s),t.successors(s).forEach((function(t){r.has(o,t)?o[t].onStack&&(u.lowlink=Math.min(u.lowlink,o[t].index)):(a(t),u.lowlink=Math.min(u.lowlink,o[t].lowlink))})),u.lowlink===u.index){var c,f=[];do{c=n.pop(),o[c].onStack=!1,f.push(c)}while(s!==c);i.push(f)}}(a)})),i}},335:function(t,e,n){var r=n(64);function o(t){var e={},n={},o=[];if(r.each(t.sinks(),(function a(s){if(r.has(n,s))throw new i;r.has(e,s)||(n[s]=!0,e[s]=!0,r.each(t.predecessors(s),a),delete n[s],o.push(s))})),r.size(e)!==t.nodeCount())throw new i;return o}function i(){}t.exports=o,o.CycleException=i,i.prototype=new Error},336:function(t,e,n){var r=n(64);t.exports=function(t,e,n){r.isArray(e)||(e=[e]);var o=(t.isDirected()?t.successors:t.neighbors).bind(t),i=[],a={};return r.each(e,(function(e){if(!t.hasNode(e))throw new Error("Graph does not have node: "+e);!function t(e,n,o,i,a,s){r.has(i,n)||(i[n]=!0,o||s.push(n),r.each(a(n),(function(n){t(e,n,o,i,a,s)})),o&&s.push(n))}(t,e,"post"===n,a,o,i)})),i}},389:function(t,e){var n=Math.max;t.exports=function(t,e){if("function"!=typeof t)throw new TypeError("Expected a function");return e=n(void 0===e?t.length-1:+e||0,0),function(){for(var r=arguments,o=-1,i=n(r.length-e,0),a=Array(i);++o<i;)a[o]=r[e+o];switch(e){case 0:return t.call(this,a);case 1:return t.call(this,r[0],a);case 2:return t.call(this,r[0],r[1],a)}var s=Array(e+1);for(o=-1;++o<e;)s[o]=r[o];return s[e]=a,t.apply(this,s)}}},390:function(t,e,n){var r=n(217),o=n(279),i=/^\d+$/,a=Object.prototype.hasOwnProperty;function s(t,e){return e=null==e?9007199254740991:e,(t="number"==typeof t||i.test(t)?+t:-1)>-1&&t%1==0&&t<e}t.exports=function(t){if(null==t)return[];var e,n;n=typeof(e=t),(!e||"object"!=n&&"function"!=n)&&(t=Object(t));var i=t.length;i=i&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}(i)&&(o(t)||r(t))&&i||0;for(var u=t.constructor,c=-1,f="function"==typeof u&&u.prototype===t,l=Array(i),p=i>0;++c<i;)l[c]=c+"";for(var h in t)p&&s(h,i)||"constructor"==h&&(f||!a.call(t,h))||l.push(h);return l}},391:function(t,e){t.exports=function(t){if(0===t.length)return null;for(var e=t[0].length,n=new Array(e),r=new Array(e),o=0;o<e;o++)n[o]=1/0,r[o]=-1/0;return t.forEach((function(t){for(var o=0;o<e;o++)r[o]=t[o]>r[o]?t[o]:r[o],n[o]=t[o]<n[o]?t[o]:n[o]})),[n,r]}},392:function(t,e){t.exports=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},393:function(t,e,n){"use strict";var r=n(394),o=n(280),i=n(937);t.exports=function(t,e){for(var n=r.identify(t),a=o.convert(t,r.ARRAY_OF_ARRAYS,3),s=0;s<a.length;s++)i.transformMat4(a[s],a[s],e);return a=o.convert(a,n,3)}},394:function(t,e,n){"use strict";var r=n(932),o=n(933);t.exports={identify:function(t){if(Array.isArray(t)&&Array.isArray(t[0]))return"array of arrays";if(Array.isArray(t)&&r(t[0]))return"array of typed arrays";if(Array.isArray(t))return"flat array";if(o(t))return"ndarray";if(r(t))return"typed array";throw new Error("geo-identify-position-format: Could not identify position format.")},ARRAY_OF_ARRAYS:"array of arrays",ARRAY_OF_TYPED_ARRAYS:"array of typed arrays",FLAT_ARRAY:"flat array",TYPED_ARRAY:"typed array",NDARRAY:"ndarray"}},395:function(t,e){t.exports=1e-6},396:function(t,e){t.exports=function(){var t=new Float32Array(3);return t[0]=0,t[1]=0,t[2]=0,t}},397:function(t,e){t.exports=function(t,e,n){var r=new Float32Array(3);return r[0]=t,r[1]=e,r[2]=n,r}},398:function(t,e){t.exports=function(t,e){var n=e[0],r=e[1],o=e[2],i=n*n+r*r+o*o;i>0&&(i=1/Math.sqrt(i),t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i);return t}},399:function(t,e){t.exports=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}},400:function(t,e){t.exports=function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t}},401:function(t,e){t.exports=function(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t}},402:function(t,e){t.exports=function(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t}},403:function(t,e){t.exports=function(t,e){var n=e[0]-t[0],r=e[1]-t[1],o=e[2]-t[2];return Math.sqrt(n*n+r*r+o*o)}},404:function(t,e){t.exports=function(t,e){var n=e[0]-t[0],r=e[1]-t[1],o=e[2]-t[2];return n*n+r*r+o*o}},405:function(t,e){t.exports=function(t){var e=t[0],n=t[1],r=t[2];return Math.sqrt(e*e+n*n+r*r)}},406:function(t,e){t.exports=function(t){var e=t[0],n=t[1],r=t[2];return e*e+n*n+r*r}},407:function(t,e,n){"use strict";(function(t){var r=n(975),o=n(976),i=n(977);function a(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(t,e){if(a()<e)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=u.prototype:(null===t&&(t=new u(e)),t.length=e),t}function u(t,e,n){if(!(u.TYPED_ARRAY_SUPPORT||this instanceof u))return new u(t,e,n);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return l(this,t)}return c(this,t,e,n)}function c(t,e,n,r){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,n,r){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");e=void 0===n&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,n):new Uint8Array(e,n,r);u.TYPED_ARRAY_SUPPORT?(t=e).__proto__=u.prototype:t=p(t,e);return t}(t,e,n,r):"string"==typeof e?function(t,e,n){"string"==typeof n&&""!==n||(n="utf8");if(!u.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|d(e,n),o=(t=s(t,r)).write(e,n);o!==r&&(t=t.slice(0,o));return t}(t,e,n):function(t,e){if(u.isBuffer(e)){var n=0|h(e.length);return 0===(t=s(t,n)).length||e.copy(t,0,0,n),t}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||(r=e.length)!=r?s(t,0):p(t,e);if("Buffer"===e.type&&i(e.data))return p(t,e.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function f(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function l(t,e){if(f(e),t=s(t,e<0?0:0|h(e)),!u.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function p(t,e){var n=e.length<0?0:0|h(e.length);t=s(t,n);for(var r=0;r<n;r+=1)t[r]=255&e[r];return t}function h(t){if(t>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|t}function d(t,e){if(u.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return j(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return G(t).length;default:if(r)return j(t).length;e=(""+e).toLowerCase(),r=!0}}function m(t,e,n){var r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return R(this,e,n);case"utf8":case"utf-8":return E(this,e,n);case"ascii":return A(this,e,n);case"latin1":case"binary":return O(this,e,n);case"base64":return T(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return U(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function g(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function y(t,e,n,r,o){if(0===t.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=o?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(o)return-1;n=t.length-1}else if(n<0){if(!o)return-1;n=0}if("string"==typeof e&&(e=u.from(e,r)),u.isBuffer(e))return 0===e.length?-1:v(t,e,n,r,o);if("number"==typeof e)return e&=255,u.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):v(t,[e],n,r,o);throw new TypeError("val must be string, number or Buffer")}function v(t,e,n,r,o){var i,a=1,s=t.length,u=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;a=2,s/=2,u/=2,n/=2}function c(t,e){return 1===a?t[e]:t.readUInt16BE(e*a)}if(o){var f=-1;for(i=n;i<s;i++)if(c(t,i)===c(e,-1===f?0:i-f)){if(-1===f&&(f=i),i-f+1===u)return f*a}else-1!==f&&(i-=i-f),f=-1}else for(n+u>s&&(n=s-u),i=n;i>=0;i--){for(var l=!0,p=0;p<u;p++)if(c(t,i+p)!==c(e,p)){l=!1;break}if(l)return i}return-1}function b(t,e,n,r){n=Number(n)||0;var o=t.length-n;r?(r=Number(r))>o&&(r=o):r=o;var i=e.length;if(i%2!=0)throw new TypeError("Invalid hex string");r>i/2&&(r=i/2);for(var a=0;a<r;++a){var s=parseInt(e.substr(2*a,2),16);if(isNaN(s))return a;t[n+a]=s}return a}function x(t,e,n,r){return z(j(e,t.length-n),t,n,r)}function w(t,e,n,r){return z(function(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,r)}function S(t,e,n,r){return w(t,e,n,r)}function M(t,e,n,r){return z(G(e),t,n,r)}function k(t,e,n,r){return z(function(t,e){for(var n,r,o,i=[],a=0;a<t.length&&!((e-=2)<0);++a)n=t.charCodeAt(a),r=n>>8,o=n%256,i.push(o),i.push(r);return i}(e,t.length-n),t,n,r)}function T(t,e,n){return 0===e&&n===t.length?r.fromByteArray(t):r.fromByteArray(t.slice(e,n))}function E(t,e,n){n=Math.min(t.length,n);for(var r=[],o=e;o<n;){var i,a,s,u,c=t[o],f=null,l=c>239?4:c>223?3:c>191?2:1;if(o+l<=n)switch(l){case 1:c<128&&(f=c);break;case 2:128==(192&(i=t[o+1]))&&(u=(31&c)<<6|63&i)>127&&(f=u);break;case 3:i=t[o+1],a=t[o+2],128==(192&i)&&128==(192&a)&&(u=(15&c)<<12|(63&i)<<6|63&a)>2047&&(u<55296||u>57343)&&(f=u);break;case 4:i=t[o+1],a=t[o+2],s=t[o+3],128==(192&i)&&128==(192&a)&&128==(192&s)&&(u=(15&c)<<18|(63&i)<<12|(63&a)<<6|63&s)>65535&&u<1114112&&(f=u)}null===f?(f=65533,l=1):f>65535&&(f-=65536,r.push(f>>>10&1023|55296),f=56320|1023&f),r.push(f),o+=l}return function(t){var e=t.length;if(e<=4096)return String.fromCharCode.apply(String,t);var n="",r=0;for(;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=4096));return n}(r)}e.Buffer=u,e.SlowBuffer=function(t){+t!=t&&(t=0);return u.alloc(+t)},e.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=a(),u.poolSize=8192,u._augment=function(t){return t.__proto__=u.prototype,t},u.from=function(t,e,n){return c(null,t,e,n)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(t,e,n){return function(t,e,n,r){return f(e),e<=0?s(t,e):void 0!==n?"string"==typeof r?s(t,e).fill(n,r):s(t,e).fill(n):s(t,e)}(null,t,e,n)},u.allocUnsafe=function(t){return l(null,t)},u.allocUnsafeSlow=function(t){return l(null,t)},u.isBuffer=function(t){return!(null==t||!t._isBuffer)},u.compare=function(t,e){if(!u.isBuffer(t)||!u.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,r=e.length,o=0,i=Math.min(n,r);o<i;++o)if(t[o]!==e[o]){n=t[o],r=e[o];break}return n<r?-1:r<n?1:0},u.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(t,e){if(!i(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return u.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var r=u.allocUnsafe(e),o=0;for(n=0;n<t.length;++n){var a=t[n];if(!u.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,o),o+=a.length}return r},u.byteLength=d,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)g(this,e,e+1);return this},u.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)g(this,e,e+3),g(this,e+1,e+2);return this},u.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)g(this,e,e+7),g(this,e+1,e+6),g(this,e+2,e+5),g(this,e+3,e+4);return this},u.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?E(this,0,t):m.apply(this,arguments)},u.prototype.equals=function(t){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===u.compare(this,t)},u.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},u.prototype.compare=function(t,e,n,r,o){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),e<0||n>t.length||r<0||o>this.length)throw new RangeError("out of range index");if(r>=o&&e>=n)return 0;if(r>=o)return-1;if(e>=n)return 1;if(this===t)return 0;for(var i=(o>>>=0)-(r>>>=0),a=(n>>>=0)-(e>>>=0),s=Math.min(i,a),c=this.slice(r,o),f=t.slice(e,n),l=0;l<s;++l)if(c[l]!==f[l]){i=c[l],a=f[l];break}return i<a?-1:a<i?1:0},u.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},u.prototype.indexOf=function(t,e,n){return y(this,t,e,n,!0)},u.prototype.lastIndexOf=function(t,e,n){return y(this,t,e,n,!1)},u.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var o=this.length-e;if((void 0===n||n>o)&&(n=o),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var i=!1;;)switch(r){case"hex":return b(this,t,e,n);case"utf8":case"utf-8":return x(this,t,e,n);case"ascii":return w(this,t,e,n);case"latin1":case"binary":return S(this,t,e,n);case"base64":return M(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,t,e,n);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function A(t,e,n){var r="";n=Math.min(t.length,n);for(var o=e;o<n;++o)r+=String.fromCharCode(127&t[o]);return r}function O(t,e,n){var r="";n=Math.min(t.length,n);for(var o=e;o<n;++o)r+=String.fromCharCode(t[o]);return r}function R(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var o="",i=e;i<n;++i)o+=N(t[i]);return o}function U(t,e,n){for(var r=t.slice(e,n),o="",i=0;i<r.length;i+=2)o+=String.fromCharCode(r[i]+256*r[i+1]);return o}function _(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function D(t,e,n,r,o,i){if(!u.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>o||e<i)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function C(t,e,n,r){e<0&&(e=65535+e+1);for(var o=0,i=Math.min(t.length-n,2);o<i;++o)t[n+o]=(e&255<<8*(r?o:1-o))>>>8*(r?o:1-o)}function L(t,e,n,r){e<0&&(e=4294967295+e+1);for(var o=0,i=Math.min(t.length-n,4);o<i;++o)t[n+o]=e>>>8*(r?o:3-o)&255}function I(t,e,n,r,o,i){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function P(t,e,n,r,i){return i||I(t,0,n,4),o.write(t,e,n,r,23,4),n+4}function F(t,e,n,r,i){return i||I(t,0,n,8),o.write(t,e,n,r,52,8),n+8}u.prototype.slice=function(t,e){var n,r=this.length;if((t=~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),(e=void 0===e?r:~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t),u.TYPED_ARRAY_SUPPORT)(n=this.subarray(t,e)).__proto__=u.prototype;else{var o=e-t;n=new u(o,void 0);for(var i=0;i<o;++i)n[i]=this[i+t]}return n},u.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||_(t,e,this.length);for(var r=this[t],o=1,i=0;++i<e&&(o*=256);)r+=this[t+i]*o;return r},u.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||_(t,e,this.length);for(var r=this[t+--e],o=1;e>0&&(o*=256);)r+=this[t+--e]*o;return r},u.prototype.readUInt8=function(t,e){return e||_(t,1,this.length),this[t]},u.prototype.readUInt16LE=function(t,e){return e||_(t,2,this.length),this[t]|this[t+1]<<8},u.prototype.readUInt16BE=function(t,e){return e||_(t,2,this.length),this[t]<<8|this[t+1]},u.prototype.readUInt32LE=function(t,e){return e||_(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},u.prototype.readUInt32BE=function(t,e){return e||_(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},u.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||_(t,e,this.length);for(var r=this[t],o=1,i=0;++i<e&&(o*=256);)r+=this[t+i]*o;return r>=(o*=128)&&(r-=Math.pow(2,8*e)),r},u.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||_(t,e,this.length);for(var r=e,o=1,i=this[t+--r];r>0&&(o*=256);)i+=this[t+--r]*o;return i>=(o*=128)&&(i-=Math.pow(2,8*e)),i},u.prototype.readInt8=function(t,e){return e||_(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},u.prototype.readInt16LE=function(t,e){e||_(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt16BE=function(t,e){e||_(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt32LE=function(t,e){return e||_(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},u.prototype.readInt32BE=function(t,e){return e||_(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},u.prototype.readFloatLE=function(t,e){return e||_(t,4,this.length),o.read(this,t,!0,23,4)},u.prototype.readFloatBE=function(t,e){return e||_(t,4,this.length),o.read(this,t,!1,23,4)},u.prototype.readDoubleLE=function(t,e){return e||_(t,8,this.length),o.read(this,t,!0,52,8)},u.prototype.readDoubleBE=function(t,e){return e||_(t,8,this.length),o.read(this,t,!1,52,8)},u.prototype.writeUIntLE=function(t,e,n,r){(t=+t,e|=0,n|=0,r)||D(this,t,e,n,Math.pow(2,8*n)-1,0);var o=1,i=0;for(this[e]=255&t;++i<n&&(o*=256);)this[e+i]=t/o&255;return e+n},u.prototype.writeUIntBE=function(t,e,n,r){(t=+t,e|=0,n|=0,r)||D(this,t,e,n,Math.pow(2,8*n)-1,0);var o=n-1,i=1;for(this[e+o]=255&t;--o>=0&&(i*=256);)this[e+o]=t/i&255;return e+n},u.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||D(this,t,e,1,255,0),u.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},u.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||D(this,t,e,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):C(this,t,e,!0),e+2},u.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||D(this,t,e,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):C(this,t,e,!1),e+2},u.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||D(this,t,e,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):L(this,t,e,!0),e+4},u.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||D(this,t,e,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):L(this,t,e,!1),e+4},u.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e|=0,!r){var o=Math.pow(2,8*n-1);D(this,t,e,n,o-1,-o)}var i=0,a=1,s=0;for(this[e]=255&t;++i<n&&(a*=256);)t<0&&0===s&&0!==this[e+i-1]&&(s=1),this[e+i]=(t/a>>0)-s&255;return e+n},u.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e|=0,!r){var o=Math.pow(2,8*n-1);D(this,t,e,n,o-1,-o)}var i=n-1,a=1,s=0;for(this[e+i]=255&t;--i>=0&&(a*=256);)t<0&&0===s&&0!==this[e+i+1]&&(s=1),this[e+i]=(t/a>>0)-s&255;return e+n},u.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||D(this,t,e,1,127,-128),u.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},u.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||D(this,t,e,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):C(this,t,e,!0),e+2},u.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||D(this,t,e,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):C(this,t,e,!1),e+2},u.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||D(this,t,e,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):L(this,t,e,!0),e+4},u.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||D(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):L(this,t,e,!1),e+4},u.prototype.writeFloatLE=function(t,e,n){return P(this,t,e,!0,n)},u.prototype.writeFloatBE=function(t,e,n){return P(this,t,e,!1,n)},u.prototype.writeDoubleLE=function(t,e,n){return F(this,t,e,!0,n)},u.prototype.writeDoubleBE=function(t,e,n){return F(this,t,e,!1,n)},u.prototype.copy=function(t,e,n,r){if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var o,i=r-n;if(this===t&&n<e&&e<r)for(o=i-1;o>=0;--o)t[o+e]=this[o+n];else if(i<1e3||!u.TYPED_ARRAY_SUPPORT)for(o=0;o<i;++o)t[o+e]=this[o+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+i),e);return i},u.prototype.fill=function(t,e,n,r){if("string"==typeof t){if("string"==typeof e?(r=e,e=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===t.length){var o=t.charCodeAt(0);o<256&&(t=o)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!u.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var i;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(i=e;i<n;++i)this[i]=t;else{var a=u.isBuffer(t)?t:j(new u(t,r).toString()),s=a.length;for(i=0;i<n-e;++i)this[i+e]=a[i%s]}return this};var B=/[^+\/0-9A-Za-z-_]/g;function N(t){return t<16?"0"+t.toString(16):t.toString(16)}function j(t,e){var n;e=e||1/0;for(var r=t.length,o=null,i=[],a=0;a<r;++a){if((n=t.charCodeAt(a))>55295&&n<57344){if(!o){if(n>56319){(e-=3)>-1&&i.push(239,191,189);continue}if(a+1===r){(e-=3)>-1&&i.push(239,191,189);continue}o=n;continue}if(n<56320){(e-=3)>-1&&i.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(e-=3)>-1&&i.push(239,191,189);if(o=null,n<128){if((e-=1)<0)break;i.push(n)}else if(n<2048){if((e-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function G(t){return r.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(B,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function z(t,e,n,r){for(var o=0;o<r&&!(o+n>=e.length||o>=t.length);++o)e[o+n]=t[o];return o}}).call(this,n(298))},413:function(t,e){function n(){this.table=new Uint16Array(16),this.trans=new Uint16Array(288)}function r(t,e){this.source=t,this.sourceIndex=0,this.tag=0,this.bitcount=0,this.dest=e,this.destLen=0,this.ltree=new n,this.dtree=new n}var o=new n,i=new n,a=new Uint8Array(30),s=new Uint16Array(30),u=new Uint8Array(30),c=new Uint16Array(30),f=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),l=new n,p=new Uint8Array(320);function h(t,e,n,r){var o,i;for(o=0;o<n;++o)t[o]=0;for(o=0;o<30-n;++o)t[o+n]=o/n|0;for(i=r,o=0;o<30;++o)e[o]=i,i+=1<<t[o]}var d=new Uint16Array(16);function m(t,e,n,r){var o,i;for(o=0;o<16;++o)t.table[o]=0;for(o=0;o<r;++o)t.table[e[n+o]]++;for(t.table[0]=0,i=0,o=0;o<16;++o)d[o]=i,i+=t.table[o];for(o=0;o<r;++o)e[n+o]&&(t.trans[d[e[n+o]]++]=o)}function g(t){t.bitcount--||(t.tag=t.source[t.sourceIndex++],t.bitcount=7);var e=1&t.tag;return t.tag>>>=1,e}function y(t,e,n){if(!e)return n;for(;t.bitcount<24;)t.tag|=t.source[t.sourceIndex++]<<t.bitcount,t.bitcount+=8;var r=t.tag&65535>>>16-e;return t.tag>>>=e,t.bitcount-=e,r+n}function v(t,e){for(;t.bitcount<24;)t.tag|=t.source[t.sourceIndex++]<<t.bitcount,t.bitcount+=8;var n=0,r=0,o=0,i=t.tag;do{r=2*r+(1&i),i>>>=1,++o,n+=e.table[o],r-=e.table[o]}while(r>=0);return t.tag=i,t.bitcount-=o,e.trans[n+r]}function b(t,e,n){var r,o,i,a,s,u;for(r=y(t,5,257),o=y(t,5,1),i=y(t,4,4),a=0;a<19;++a)p[a]=0;for(a=0;a<i;++a){var c=y(t,3,0);p[f[a]]=c}for(m(l,p,0,19),s=0;s<r+o;){var h=v(t,l);switch(h){case 16:var d=p[s-1];for(u=y(t,2,3);u;--u)p[s++]=d;break;case 17:for(u=y(t,3,3);u;--u)p[s++]=0;break;case 18:for(u=y(t,7,11);u;--u)p[s++]=0;break;default:p[s++]=h}}m(e,p,0,r),m(n,p,r,o)}function x(t,e,n){for(;;){var r,o,i,f,l=v(t,e);if(256===l)return 0;if(l<256)t.dest[t.destLen++]=l;else for(r=y(t,a[l-=257],s[l]),o=v(t,n),f=i=t.destLen-y(t,u[o],c[o]);f<i+r;++f)t.dest[t.destLen++]=t.dest[f]}}function w(t){for(var e,n;t.bitcount>8;)t.sourceIndex--,t.bitcount-=8;if((e=256*(e=t.source[t.sourceIndex+1])+t.source[t.sourceIndex])!==(65535&~(256*t.source[t.sourceIndex+3]+t.source[t.sourceIndex+2])))return-3;for(t.sourceIndex+=4,n=e;n;--n)t.dest[t.destLen++]=t.source[t.sourceIndex++];return t.bitcount=0,0}!function(t,e){var n;for(n=0;n<7;++n)t.table[n]=0;for(t.table[7]=24,t.table[8]=152,t.table[9]=112,n=0;n<24;++n)t.trans[n]=256+n;for(n=0;n<144;++n)t.trans[24+n]=n;for(n=0;n<8;++n)t.trans[168+n]=280+n;for(n=0;n<112;++n)t.trans[176+n]=144+n;for(n=0;n<5;++n)e.table[n]=0;for(e.table[5]=32,n=0;n<32;++n)e.trans[n]=n}(o,i),h(a,s,4,3),h(u,c,2,1),a[28]=0,s[28]=258,t.exports=function(t,e){var n,a,s=new r(t,e);do{switch(n=g(s),y(s,2,0)){case 0:a=w(s);break;case 1:a=x(s,o,i);break;case 2:b(s,s.ltree,s.dtree),a=x(s,s.ltree,s.dtree);break;default:a=-3}if(0!==a)throw new Error("Data error")}while(!n);return s.destLen<s.dest.length?"function"==typeof s.dest.slice?s.dest.slice(0,s.destLen):s.dest.subarray(0,s.destLen):s.dest}},419:function(t,e,n){var r=n(420);t.exports={Graph:r.Graph,json:n(519),alg:n(520),version:r.version}},420:function(t,e,n){t.exports={Graph:n(236),version:n(518)}},518:function(t,e){t.exports="2.1.9-pre"},519:function(t,e,n){var r=n(64),o=n(236);function i(t){return r.map(t.nodes(),(function(e){var n=t.node(e),o=t.parent(e),i={v:e};return r.isUndefined(n)||(i.value=n),r.isUndefined(o)||(i.parent=o),i}))}function a(t){return r.map(t.edges(),(function(e){var n=t.edge(e),o={v:e.v,w:e.w};return r.isUndefined(e.name)||(o.name=e.name),r.isUndefined(n)||(o.value=n),o}))}t.exports={write:function(t){var e={options:{directed:t.isDirected(),multigraph:t.isMultigraph(),compound:t.isCompound()},nodes:i(t),edges:a(t)};r.isUndefined(t.graph())||(e.value=r.clone(t.graph()));return e},read:function(t){var e=new o(t.options).setGraph(t.value);return r.each(t.nodes,(function(t){e.setNode(t.v,t.value),t.parent&&e.setParent(t.v,t.parent)})),r.each(t.edges,(function(t){e.setEdge({v:t.v,w:t.w,name:t.name},t.value)})),e}}},520:function(t,e,n){t.exports={components:n(521),dijkstra:n(332),dijkstraAll:n(522),findCycles:n(523),floydWarshall:n(524),isAcyclic:n(525),postorder:n(526),preorder:n(527),prim:n(528),tarjan:n(334),topsort:n(335)}},521:function(t,e,n){var r=n(64);t.exports=function(t){var e,n={},o=[];function i(o){r.has(n,o)||(n[o]=!0,e.push(o),r.each(t.successors(o),i),r.each(t.predecessors(o),i))}return r.each(t.nodes(),(function(t){e=[],i(t),e.length&&o.push(e)})),o}},522:function(t,e,n){var r=n(332),o=n(64);t.exports=function(t,e,n){return o.transform(t.nodes(),(function(o,i){o[i]=r(t,i,e,n)}),{})}},523:function(t,e,n){var r=n(64),o=n(334);t.exports=function(t){return r.filter(o(t),(function(e){return e.length>1||1===e.length&&t.hasEdge(e[0],e[0])}))}},524:function(t,e,n){var r=n(64);t.exports=function(t,e,n){return function(t,e,n){var r={},o=t.nodes();return o.forEach((function(t){r[t]={},r[t][t]={distance:0},o.forEach((function(e){t!==e&&(r[t][e]={distance:Number.POSITIVE_INFINITY})})),n(t).forEach((function(n){var o=n.v===t?n.w:n.v,i=e(n);r[t][o]={distance:i,predecessor:t}}))})),o.forEach((function(t){var e=r[t];o.forEach((function(n){var i=r[n];o.forEach((function(n){var r=i[t],o=e[n],a=i[n],s=r.distance+o.distance;s<a.distance&&(a.distance=s,a.predecessor=o.predecessor)}))}))})),r}(t,e||o,n||function(e){return t.outEdges(e)})};var o=r.constant(1)},525:function(t,e,n){var r=n(335);t.exports=function(t){try{r(t)}catch(t){if(t instanceof r.CycleException)return!1;throw t}return!0}},526:function(t,e,n){var r=n(336);t.exports=function(t,e){return r(t,e,"post")}},527:function(t,e,n){var r=n(336);t.exports=function(t,e){return r(t,e,"pre")}},528:function(t,e,n){var r=n(64),o=n(236),i=n(333);t.exports=function(t,e){var n,a=new o,s={},u=new i;function c(t){var r=t.v===n?t.w:t.v,o=u.priority(r);if(void 0!==o){var i=e(t);i<o&&(s[r]=n,u.decrease(r,i))}}if(0===t.nodeCount())return a;r.each(t.nodes(),(function(t){u.add(t,Number.POSITIVE_INFINITY),a.setNode(t)})),u.decrease(t.nodes()[0],0);var f=!1;for(;u.size()>0;){if(n=u.removeMin(),r.has(s,n))a.setEdge(n,s[n]);else{if(f)throw new Error("Input graph is not connected: "+t);f=!0}t.nodeEdges(n).forEach(c)}return a}},582:function(t,e,n){!function(n){"use strict";var r=function(t,e){var n=new Error(t+" at character "+e);throw n.index=e,n.description=t,n},o={"-":!0,"!":!0,"~":!0,"+":!0},i={"||":1,"&&":2,"|":3,"^":4,"&":5,"==":6,"!=":6,"===":6,"!==":6,"<":7,">":7,"<=":7,">=":7,"<<":8,">>":8,">>>":8,"+":9,"-":9,"*":10,"/":10,"%":10},a=function(t){var e,n=0;for(var r in t)(e=r.length)>n&&t.hasOwnProperty(r)&&(n=e);return n},s=a(o),u=a(i),c={true:!0,false:!1,null:null},f=function(t){return i[t]||0},l=function(t,e,n){return{type:"||"===t||"&&"===t?"LogicalExpression":"BinaryExpression",operator:t,left:e,right:n}},p=function(t){return t>=48&&t<=57},h=function(t){return 36===t||95===t||t>=65&&t<=90||t>=97&&t<=122||t>=128&&!i[String.fromCharCode(t)]},d=function(t){return 36===t||95===t||t>=65&&t<=90||t>=97&&t<=122||t>=48&&t<=57||t>=128&&!i[String.fromCharCode(t)]},m=function(t){for(var e,n,a=0,m=t.charAt,g=t.charCodeAt,y=function(e){return m.call(t,e)},v=function(e){return g.call(t,e)},b=t.length,x=function(){for(var t=v(a);32===t||9===t||10===t||13===t;)t=v(++a)},w=function(){var t,e,n=M();return x(),63!==v(a)?n:(a++,(t=w())||r("Expected expression",a),x(),58===v(a)?(a++,(e=w())||r("Expected expression",a),{type:"ConditionalExpression",test:n,consequent:t,alternate:e}):void r("Expected :",a))},S=function(){x();for(var e=t.substr(a,u),n=e.length;n>0;){if(i.hasOwnProperty(e)&&(!h(v(a))||a+e.length<t.length&&!d(v(a+e.length))))return a+=n,e;e=e.substr(0,--n)}return!1},M=function(){var t,e,n,o,i,s,u,c;if(s=k(),!(e=S()))return s;for(i={value:e,prec:f(e)},(u=k())||r("Expected expression after "+e,a),o=[s,i,u];(e=S())&&0!==(n=f(e));){for(i={value:e,prec:n};o.length>2&&n<=o[o.length-2].prec;)u=o.pop(),e=o.pop().value,s=o.pop(),t=l(e,s,u),o.push(t);(t=k())||r("Expected expression after "+e,a),o.push(i,t)}for(t=o[c=o.length-1];c>1;)t=l(o[c-1].value,o[c-2],t),c-=2;return t},k=function(){var e,n,r;if(x(),e=v(a),p(e)||46===e)return T();if(39===e||34===e)return E();if(91===e)return _();for(r=(n=t.substr(a,s)).length;r>0;){if(o.hasOwnProperty(n)&&(!h(v(a))||a+n.length<t.length&&!d(v(a+n.length))))return a+=r,{type:"UnaryExpression",operator:n,argument:k(),prefix:!0};n=n.substr(0,--r)}return!(!h(e)&&40!==e)&&R()},T=function(){for(var t,e,n="";p(v(a));)n+=y(a++);if(46===v(a))for(n+=y(a++);p(v(a));)n+=y(a++);if("e"===(t=y(a))||"E"===t){for(n+=y(a++),"+"!==(t=y(a))&&"-"!==t||(n+=y(a++));p(v(a));)n+=y(a++);p(v(a-1))||r("Expected exponent ("+n+y(a)+")",a)}return e=v(a),h(e)?r("Variable names cannot start with a number ("+n+y(a)+")",a):46===e&&r("Unexpected period",a),{type:"Literal",value:parseFloat(n),raw:n}},E=function(){for(var t,e="",n=y(a++),o=!1;a<b;){if((t=y(a++))===n){o=!0;break}if("\\"===t)switch(t=y(a++)){case"n":e+="\n";break;case"r":e+="\r";break;case"t":e+="\t";break;case"b":e+="\b";break;case"f":e+="\f";break;case"v":e+="\v";break;default:e+=t}else e+=t}return o||r('Unclosed quote after "'+e+'"',a),{type:"Literal",value:e,raw:n+e+n}},A=function(){var e,n=v(a),o=a;for(h(n)?a++:r("Unexpected "+y(a),a);a<b&&(n=v(a),d(n));)a++;return e=t.slice(o,a),c.hasOwnProperty(e)?{type:"Literal",value:c[e],raw:e}:"this"===e?{type:"ThisExpression"}:{type:"Identifier",name:e}},O=function(t){for(var e,n,o=[],i=!1;a<b;){if(x(),(e=v(a))===t){i=!0,a++;break}44===e?a++:((n=w())&&"Compound"!==n.type||r("Expected comma",a),o.push(n))}return i||r("Expected "+String.fromCharCode(t),a),o},R=function(){var t,e;for(e=40===(t=v(a))?U():A(),x(),t=v(a);46===t||91===t||40===t;)a++,46===t?(x(),e={type:"MemberExpression",computed:!1,object:e,property:A()}):91===t?(e={type:"MemberExpression",computed:!0,object:e,property:w()},x(),93!==(t=v(a))&&r("Unclosed [",a),a++):40===t&&(e={type:"CallExpression",arguments:O(41),callee:e}),x(),t=v(a);return e},U=function(){a++;var t=w();if(x(),41===v(a))return a++,t;r("Unclosed (",a)},_=function(){return a++,{type:"ArrayExpression",elements:O(93)}},D=[];a<b;)59===(e=v(a))||44===e?a++:(n=w())?D.push(n):a<b&&r('Unexpected "'+y(a)+'"',a);return 1===D.length?D[0]:{type:"Compound",body:D}};m.version="0.3.4",m.toString=function(){return"JavaScript Expression Parser (JSEP) v"+m.version},m.addUnaryOp=function(t){return s=Math.max(t.length,s),o[t]=!0,this},m.addBinaryOp=function(t,e){return u=Math.max(t.length,u),i[t]=e,this},m.addLiteral=function(t,e){return c[t]=e,this},m.removeUnaryOp=function(t){return delete o[t],t.length===s&&(s=a(o)),this},m.removeAllUnaryOps=function(){return o={},s=0,this},m.removeBinaryOp=function(t){return delete i[t],t.length===u&&(u=a(i)),this},m.removeAllBinaryOps=function(){return i={},u=0,this},m.removeLiteral=function(t){return delete c[t],this},m.removeAllLiterals=function(){return c={},this},t.exports?e=t.exports=m:e.parse=m}()},64:function(t,e,n){var r;try{r={clone:n(168),constant:n(316),each:n(179),filter:n(475),has:n(496),isArray:n(21),isEmpty:n(498),isFunction:n(148),isUndefined:n(499),keys:n(99),map:n(327),reduce:n(500),size:n(502),transform:n(505),union:n(330),values:n(255)}}catch(t){}r||(r=window._),t.exports=r},74:function(t,e,n){"use strict";(function(t){function r(){return"undefined"!=typeof window}function o(t){const e=new ArrayBuffer(t.length),n=new Uint8Array(e);for(let e=0;e<t.length;++e)n[e]=t[e];return e}function i(e){const n=new t(e.byteLength),r=new Uint8Array(e);for(let t=0;t<n.length;++t)n[t]=r[t];return n}function a(t,e){if(!t)throw e}n.d(e,"c",(function(){return r})),n.d(e,"d",(function(){return o})),n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return a}))}).call(this,n(407).Buffer)},886:function(t,e,n){"use strict";const r=n(887),o=n(1010).mat4,i=n(888),a=n(391),s=n(393),u=n(280),c=n(971).vertexNormals,f=n(972),l=n(973);t.exports=function(t,e){e=l(e,{cells:void 0,regl:!1,bias:.01,resolution:512}),t=i(t);const n=a(t),p=[1/(n[1][0]-n[0][0]),1/(n[1][1]-n[0][1]),1/(n[1][2]-n[0][2])],h=o.scale([],o.create(),p);t=s(t,h);const d=u.convert(t,u.TYPED_ARRAY);let m,g={cells:e.cells,positions:t};void 0===g.cells&&(g=f(d)),m=void 0===e.normals?c(g.cells,g.positions,0):e.normals;const y=u.convert(m,u.TYPED_ARRAY);if(d.length%3!=0)throw new Error("geo-ambient-occlusion: Position array not divisible by three.");const v=d.length/3;let b=1;for(;b*b<v;)b*=2;const x=new Float32Array(b*b*3);x.set(d);const w=new Float32Array(b*b*3);w.set(y);const S=["OES_texture_float"];if(v>65535&&void 0!==e.cells&&S.push("OES_element_index_uint"),e.regl)for(let t of S)if(!e.regl.hasExtension(t))throw new Error("geo-ambient-occlusion: Provided regl context needs the "+t+" extension for this mesh.");let M,k;e.regl?(M=e.regl,k=!1):(M=r({canvas:document.createElement("canvas"),extensions:S}),k=!0);const T=P(e.resolution),E={vert:"\n      precision highp float;\n      attribute vec3 position;\n      uniform mat4 model, projection;\n      varying vec3 vPos;\n      void main() {\n        gl_Position = projection * model * vec4(position, 1);\n        vPos = vec3(model * vec4(position, 1));\n      }\n    ",frag:"\n      precision highp float;\n      varying vec3 vPos;\n      void main() {\n        gl_FragColor = vec4(vPos, 1);\n      }\n    ",attributes:{position:t},uniforms:{model:M.prop("model"),projection:M.prop("projection")},viewport:{x:0,y:0,width:e.resolution,height:e.resolution},framebuffer:T};e.cells?E.elements=e.cells:E.count=v;const A=M(E),O=[P(b),P(b)],R=M.texture({width:b,height:b,data:x,format:"rgb",type:"float"}),U=M.texture({width:b,height:b,data:w,format:"rgb",type:"float"}),_=M({vert:"\n      precision highp float;\n      attribute vec2 position;\n      void main() {\n          gl_Position = vec4(position, 0, 1);\n      }\n    ",frag:"\n      precision highp float;\n\n      uniform sampler2D tPosition, tSource, tVertex, tNormal;\n      uniform float count, bias;\n      uniform vec2 resolution;\n      uniform mat4 model;\n\n      const float INVSQRT3 = 0.5773502691896258; // 1/sqrt(3)\n\n      void main() {\n          vec2 texel = gl_FragCoord.xy/resolution;\n          vec3 vert = texture2D(tVertex, texel).rgb;\n          vert = vec3(model * vec4(vert, 1));\n          vec3 norm = texture2D(tNormal, texel).rgb;\n          norm = vec3(model * vec4(norm, 1));\n          float z = texture2D(tPosition, INVSQRT3 * vert.xy + 0.5).z;\n          float o = 0.0;\n          if ((vert.z - z) < -bias) {\n              o = 1.0;\n          }\n          vec4 src = texture2D(tSource, texel);\n          if (dot(norm, vec3(0,0,1)) > 0.0) {\n            gl_FragColor = src + vec4(o, 1, 0, 0);\n          } else {\n            gl_FragColor = src;\n          }\n      }\n    ",attributes:{position:[-1,-1,1,-1,1,1,-1,-1,1,1,-1,1]},uniforms:{tPosition:T,tSource:M.prop("source"),tVertex:R,tNormal:U,count:M.prop("count"),bias:M.prop("bias"),resolution:[b,b],model:M.prop("model")},viewport:{x:0,y:0,width:b,height:b},framebuffer:M.prop("destination"),count:6});let D=0,C=0;const L=Math.sqrt(3)/2,I=o.ortho([],-L,L,-L,L,-L,L);function P(t){return M.framebuffer({width:t,height:t,colorFormat:"rgba",colorType:"float"})}return{sample:function(){D=1-D;const t=O[D],n=O[1-D];C++;const r=o.create();o.rotateX(r,r,100*Math.random()),o.rotateY(r,r,100*Math.random()),o.rotateZ(r,r,100*Math.random()),M.clear({color:[0,0,0,1],depth:1,framebuffer:T}),A({model:r,projection:I}),M.clear({color:[0,0,0,1],depth:1,framebuffer:n}),_({source:t,destination:n,count:C,bias:e.bias,model:r})},report:function(){let t;O[1-D].use(()=>{t=M.read()});const e=new Float32Array(v);for(let n=0;n<v;n++){const r=4*n,o=t[r+1];e[n]=0===o?0:t[r+0]/o}return e},dispose:function(){R.destroy(),T.destroy(),O[0].destroy(),O[1].destroy(),k&&M.destroy()}}}},887:function(t,e,n){t.exports=function(){"use strict";var t=function(t){return t instanceof Uint8Array||t instanceof Uint16Array||t instanceof Uint32Array||t instanceof Int8Array||t instanceof Int16Array||t instanceof Int32Array||t instanceof Float32Array||t instanceof Float64Array||t instanceof Uint8ClampedArray},e=function(t,e){for(var n=Object.keys(e),r=0;r<n.length;++r)t[n[r]]=e[n[r]];return t};function n(t){var e=new Error("(regl) "+t);throw console.error(e),e}function r(t,e){t||n(e)}function o(t){return t?": "+t:""}function i(t,e,r){e.indexOf(t)<0&&n("invalid value"+o(r)+". must be one of: "+e)}var a=["gl","canvas","container","attributes","pixelRatio","extensions","optionalExtensions","profile","onDone"];function s(t,e){for(t+="";t.length<e;)t=" "+t;return t}function u(){this.name="unknown",this.lines=[],this.index={},this.hasErrors=!1}function c(t,e){this.number=t,this.line=e,this.errors=[]}function f(t,e,n){this.file=t,this.line=e,this.message=n}function l(){var t=new Error,e=(t.stack||t).toString(),n=/compileProcedure.*\n\s*at.*\((.*)\)/.exec(e);if(n)return n[1];var r=/compileProcedure.*\n\s*at\s+(.*)(\n|$)/.exec(e);return r?r[1]:"unknown"}function p(){var t=new Error,e=(t.stack||t).toString(),n=/at REGLCommand.*\n\s+at.*\((.*)\)/.exec(e);if(n)return n[1];var r=/at REGLCommand.*\n\s+at\s+(.*)\n/.exec(e);return r?r[1]:"unknown"}function h(t,e){var n,r=t.split("\n"),o=1,i=0,a={unknown:new u,0:new u};a.unknown.name=a[0].name=e||l(),a.unknown.lines.push(new c(0,""));for(var s=0;s<r.length;++s){var f=r[s],p=/^\s*\#\s*(\w+)\s+(.+)\s*$/.exec(f);if(p)switch(p[1]){case"line":var h=/(\d+)(\s+\d+)?/.exec(p[2]);h&&(o=0|h[1],h[2]&&((i=0|h[2])in a||(a[i]=new u)));break;case"define":var d=/SHADER_NAME(_B64)?\s+(.*)$/.exec(p[2]);d&&(a[i].name=d[1]?(n=d[2],"undefined"!=typeof atob?atob(n):"base64:"+n):d[2])}a[i].lines.push(new c(o++,f))}return Object.keys(a).forEach((function(t){var e=a[t];e.lines.forEach((function(t){e.index[t.number]=t}))})),a}function d(t){t._commandRef=l()}function m(t,e){var r=p();n(t+" in command "+(e||l())+("unknown"===r?"":" called from "+r))}function g(t,e,n,r){typeof t!==e&&m("invalid parameter type"+o(n)+". expected "+e+", got "+typeof t,r||l())}var y={};function v(t,e){return 32820===t||32819===t||33635===t?2:34042===t?4:y[t]*e}function b(t){return!(t&t-1||!t)}y[5120]=y[5121]=1,y[5122]=y[5123]=y[36193]=y[33635]=y[32819]=y[32820]=2,y[5124]=y[5125]=y[5126]=y[34042]=4;var x=e(r,{optional:function(t){t()},raise:n,commandRaise:m,command:function(t,e,n){t||m(e,n||l())},parameter:function(t,e,r){t in e||n("unknown parameter ("+t+")"+o(r)+". possible values: "+Object.keys(e).join())},commandParameter:function(t,e,n,r){t in e||m("unknown parameter ("+t+")"+o(n)+". possible values: "+Object.keys(e).join(),r||l())},constructor:function(t){Object.keys(t).forEach((function(t){a.indexOf(t)<0&&n('invalid regl constructor argument "'+t+'". must be one of '+a)}))},type:function(t,e,r){typeof t!==e&&n("invalid parameter type"+o(r)+". expected "+e+", got "+typeof t)},commandType:g,isTypedArray:function(e,r){t(e)||n("invalid parameter type"+o(r)+". must be a typed array")},nni:function(t,e){t>=0&&(0|t)===t||n("invalid parameter type, ("+t+")"+o(e)+". must be a nonnegative integer")},oneOf:i,shaderError:function(t,e,n,o,i){if(!t.getShaderParameter(e,t.COMPILE_STATUS)){var a=t.getShaderInfoLog(e),u=o===t.FRAGMENT_SHADER?"fragment":"vertex";g(n,"string",u+" shader source must be a string",i);var c=h(n,i),l=function(t){var e=[];return t.split("\n").forEach((function(t){if(!(t.length<5)){var n=/^ERROR\:\s+(\d+)\:(\d+)\:\s*(.*)$/.exec(t);n?e.push(new f(0|n[1],0|n[2],n[3].trim())):t.length>0&&e.push(new f("unknown",0,t))}})),e}(a);!function(t,e){e.forEach((function(e){var n=t[e.file];if(n){var r=n.index[e.line];if(r)return r.errors.push(e),void(n.hasErrors=!0)}t.unknown.hasErrors=!0,t.unknown.lines[0].errors.push(e)}))}(c,l),Object.keys(c).forEach((function(t){var e=c[t];if(e.hasErrors){var n=[""],r=[""];o("file number "+t+": "+e.name+"\n","color:red;text-decoration:underline;font-weight:bold"),e.lines.forEach((function(t){if(t.errors.length>0){o(s(t.number,4)+"|  ","background-color:yellow; font-weight:bold"),o(t.line+"\n","color:red; background-color:yellow; font-weight:bold");var e=0;t.errors.forEach((function(n){var r=n.message,i=/^\s*\'(.*)\'\s*\:\s*(.*)$/.exec(r);if(i){var a=i[1];switch(r=i[2],a){case"assign":a="="}e=Math.max(t.line.indexOf(a,e),0)}else e=0;o(s("| ",6)),o(s("^^^",e+3)+"\n","font-weight:bold"),o(s("| ",6)),o(r+"\n","font-weight:bold")})),o(s("| ",6)+"\n")}else o(s(t.number,4)+"|  "),o(t.line+"\n","color:red")})),"undefined"==typeof document||window.chrome?console.log(n.join("")):(r[0]=n.join("%c"),console.log.apply(console,r))}function o(t,e){n.push(t),r.push(e||"")}})),r.raise("Error compiling "+u+" shader, "+c[0].name)}},linkError:function(t,e,n,o,i){if(!t.getProgramParameter(e,t.LINK_STATUS)){var a=t.getProgramInfoLog(e),s=h(n,i),u='Error linking program with vertex shader, "'+h(o,i)[0].name+'", and fragment shader "'+s[0].name+'"';"undefined"!=typeof document?console.log("%c"+u+"\n%c"+a,"color:red;text-decoration:underline;font-weight:bold","color:red"):console.log(u+"\n"+a),r.raise(u)}},callSite:p,saveCommandRef:d,saveDrawInfo:function(t,e,n,r){function o(t){return t?r.id(t):0}function i(t,e){Object.keys(e).forEach((function(e){t[r.id(e)]=!0}))}d(t),t._fragId=o(t.static.frag),t._vertId=o(t.static.vert);var a=t._uniformSet={};i(a,e.static),i(a,e.dynamic);var s=t._attributeSet={};i(s,n.static),i(s,n.dynamic),t._hasCount="count"in t.static||"count"in t.dynamic||"elements"in t.static||"elements"in t.dynamic},framebufferFormat:function(t,e,n){t.texture?i(t.texture._texture.internalformat,e,"unsupported texture format for attachment"):i(t.renderbuffer._renderbuffer.format,n,"unsupported renderbuffer format for attachment")},guessCommand:l,texture2D:function(t,e,n){var o,i=e.width,a=e.height,s=e.channels;r(i>0&&i<=n.maxTextureSize&&a>0&&a<=n.maxTextureSize,"invalid texture shape"),33071===t.wrapS&&33071===t.wrapT||r(b(i)&&b(a),"incompatible wrap mode for texture, both width and height must be power of 2"),1===e.mipmask?1!==i&&1!==a&&r(9984!==t.minFilter&&9986!==t.minFilter&&9985!==t.minFilter&&9987!==t.minFilter,"min filter requires mipmap"):(r(b(i)&&b(a),"texture must be a square power of 2 to support mipmapping"),r(e.mipmask===(i<<1)-1,"missing or incomplete mipmap data")),5126===e.type&&(n.extensions.indexOf("oes_texture_float_linear")<0&&r(9728===t.minFilter&&9728===t.magFilter,"filter not supported, must enable oes_texture_float_linear"),r(!t.genMipmaps,"mipmap generation not supported with float textures"));var u=e.images;for(o=0;o<16;++o)if(u[o]){var c=i>>o,f=a>>o;r(e.mipmask&1<<o,"missing mipmap data");var l=u[o];if(r(l.width===c&&l.height===f,"invalid shape for mip images"),r(l.format===e.format&&l.internalformat===e.internalformat&&l.type===e.type,"incompatible type for mip image"),l.compressed);else if(l.data){var p=Math.ceil(v(l.type,s)*c/l.unpackAlignment)*l.unpackAlignment;r(l.data.byteLength===p*f,"invalid data for image, buffer size is inconsistent with image format")}else l.element||l.copy}else t.genMipmaps||r(0==(e.mipmask&1<<o),"extra mipmap data");e.compressed&&r(!t.genMipmaps,"mipmap generation for compressed images not supported")},textureCube:function(t,e,n,o){var i=t.width,a=t.height,s=t.channels;r(i>0&&i<=o.maxTextureSize&&a>0&&a<=o.maxTextureSize,"invalid texture shape"),r(i===a,"cube map must be square"),r(33071===e.wrapS&&33071===e.wrapT,"wrap mode not supported by cube map");for(var u=0;u<n.length;++u){var c=n[u];r(c.width===i&&c.height===a,"inconsistent cube map face shape"),e.genMipmaps&&(r(!c.compressed,"can not generate mipmap for compressed textures"),r(1===c.mipmask,"can not specify mipmaps and generate mipmaps"));for(var f=c.images,l=0;l<16;++l){var p=f[l];if(p){var h=i>>l,d=a>>l;r(c.mipmask&1<<l,"missing mipmap data"),r(p.width===h&&p.height===d,"invalid shape for mip images"),r(p.format===t.format&&p.internalformat===t.internalformat&&p.type===t.type,"incompatible type for mip image"),p.compressed||(p.data?r(p.data.byteLength===h*d*Math.max(v(p.type,s),p.unpackAlignment),"invalid data for image, buffer size is inconsistent with image format"):p.element||p.copy)}}}}}),w=0;function S(t,e){this.id=w++,this.type=t,this.data=e}function M(t){return t.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}function k(t){return"["+function t(e){if(0===e.length)return[];var n=e.charAt(0),r=e.charAt(e.length-1);if(e.length>1&&n===r&&('"'===n||"'"===n))return['"'+M(e.substr(1,e.length-2))+'"'];var o=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(e);if(o)return t(e.substr(0,o.index)).concat(t(o[1])).concat(t(e.substr(o.index+o[0].length)));var i=e.split(".");if(1===i.length)return['"'+M(e)+'"'];for(var a=[],s=0;s<i.length;++s)a=a.concat(t(i[s]));return a}(t).join("][")+"]"}var T={DynamicVariable:S,define:function(t,e){return new S(t,k(e+""))},isDynamic:function(t){return"function"==typeof t&&!t._reglType||t instanceof S},unbox:function(t,e){return"function"==typeof t?new S(0,t):t},accessor:k},E={next:"function"==typeof requestAnimationFrame?function(t){return requestAnimationFrame(t)}:function(t){return setTimeout(t,16)},cancel:"function"==typeof cancelAnimationFrame?function(t){return cancelAnimationFrame(t)}:clearTimeout},A="undefined"!=typeof performance&&performance.now?function(){return performance.now()}:function(){return+new Date};function O(t){return"string"==typeof t?t.split():(x(Array.isArray(t),"invalid extension array"),t)}function R(t){return"string"==typeof t?(x("undefined"!=typeof document,"not supported outside of DOM"),document.querySelector(t)):t}function U(t){var n,r,o,i,a,s=t||{},u={},c=[],f=[],l="undefined"==typeof window?1:window.devicePixelRatio,p=!1,h=function(t){t&&x.raise(t)},d=function(){};if("string"==typeof s?(x("undefined"!=typeof document,"selector queries only supported in DOM enviroments"),n=document.querySelector(s),x(n,"invalid query string for element")):"object"==typeof s?"string"==typeof(a=s).nodeName&&"function"==typeof a.appendChild&&"function"==typeof a.getBoundingClientRect?n=s:function(t){return"function"==typeof t.drawArrays||"function"==typeof t.drawElements}(s)?o=(i=s).canvas:(x.constructor(s),"gl"in s?i=s.gl:"canvas"in s?o=R(s.canvas):"container"in s&&(r=R(s.container)),"attributes"in s&&(u=s.attributes,x.type(u,"object","invalid context attributes")),"extensions"in s&&(c=O(s.extensions)),"optionalExtensions"in s&&(f=O(s.optionalExtensions)),"onDone"in s&&(x.type(s.onDone,"function","invalid or missing onDone callback"),h=s.onDone),"profile"in s&&(p=!!s.profile),"pixelRatio"in s&&(l=+s.pixelRatio,x(l>0,"invalid pixel ratio"))):x.raise("invalid arguments to regl"),n&&("canvas"===n.nodeName.toLowerCase()?o=n:r=n),!i){if(!o){x("undefined"!=typeof document,"must manually specify webgl context outside of DOM environments");var m=function(t,n,r){var o=document.createElement("canvas");function i(){var n=window.innerWidth,i=window.innerHeight;if(t!==document.body){var a=t.getBoundingClientRect();n=a.right-a.left,i=a.bottom-a.top}o.width=r*n,o.height=r*i,e(o.style,{width:n+"px",height:i+"px"})}return e(o.style,{border:0,margin:0,padding:0,top:0,left:0}),t.appendChild(o),t===document.body&&(o.style.position="absolute",e(t.style,{margin:0,padding:0})),window.addEventListener("resize",i,!1),i(),{canvas:o,onDestroy:function(){window.removeEventListener("resize",i),t.removeChild(o)}}}(r||document.body,0,l);if(!m)return null;o=m.canvas,d=m.onDestroy}i=function(t,e){function n(n){try{return t.getContext(n,e)}catch(t){return null}}return n("webgl")||n("experimental-webgl")||n("webgl-experimental")}(o,u)}return i?{gl:i,canvas:o,container:r,extensions:c,optionalExtensions:f,pixelRatio:l,profile:p,onDone:h,onDestroy:d}:(d(),h("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),null)}function _(t,e){for(var n=Array(t),r=0;r<t;++r)n[r]=e(r);return n}function D(t){var e,n;return e=(t>65535)<<4,e|=n=((t>>>=e)>255)<<3,e|=n=((t>>>=n)>15)<<2,(e|=n=((t>>>=n)>3)<<1)|(t>>>=n)>>1}function C(){var t=_(8,(function(){return[]}));function e(e){var n=function(t){for(var e=16;e<=1<<28;e*=16)if(t<=e)return e;return 0}(e),r=t[D(n)>>2];return r.length>0?r.pop():new ArrayBuffer(n)}function n(e){t[D(e.byteLength)>>2].push(e)}return{alloc:e,free:n,allocType:function(t,n){var r=null;switch(t){case 5120:r=new Int8Array(e(n),0,n);break;case 5121:r=new Uint8Array(e(n),0,n);break;case 5122:r=new Int16Array(e(2*n),0,n);break;case 5123:r=new Uint16Array(e(2*n),0,n);break;case 5124:r=new Int32Array(e(4*n),0,n);break;case 5125:r=new Uint32Array(e(4*n),0,n);break;case 5126:r=new Float32Array(e(4*n),0,n);break;default:return null}return r.length!==n?r.subarray(0,n):r},freeType:function(t){n(t.buffer)}}}var L=C();function I(e){return!!e&&"object"==typeof e&&Array.isArray(e.shape)&&Array.isArray(e.stride)&&"number"==typeof e.offset&&e.shape.length===e.stride.length&&(Array.isArray(e.data)||t(e.data))}L.zero=C();var P=function(t){return Object.keys(t).map((function(e){return t[e]}))},F={shape:function(t){for(var e=[],n=t;n.length;n=n[0])e.push(n.length);return e},flatten:function(t,e,n,r){var o=1;if(e.length)for(var i=0;i<e.length;++i)o*=e[i];else o=0;var a=r||L.allocType(n,o);switch(e.length){case 0:break;case 1:!function(t,e,n){for(var r=0;r<e;++r)n[r]=t[r]}(t,e[0],a);break;case 2:!function(t,e,n,r){for(var o=0,i=0;i<e;++i)for(var a=t[i],s=0;s<n;++s)r[o++]=a[s]}(t,e[0],e[1],a);break;case 3:B(t,e[0],e[1],e[2],a,0);break;default:!function t(e,n,r,o,i){for(var a=1,s=r+1;s<n.length;++s)a*=n[s];var u=n[r];if(n.length-r==4){var c=n[r+1],f=n[r+2],l=n[r+3];for(s=0;s<u;++s)B(e[s],c,f,l,o,i),i+=a}else for(s=0;s<u;++s)t(e[s],n,r+1,o,i),i+=a}(t,e,0,a,0)}return a}};function B(t,e,n,r,o,i){for(var a=i,s=0;s<e;++s)for(var u=t[s],c=0;c<n;++c)for(var f=u[c],l=0;l<r;++l)o[a++]=f[l]}var N={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},j={int8:5120,int16:5122,int32:5124,uint8:5121,uint16:5123,uint32:5125,float:5126,float32:5126},G={dynamic:35048,stream:35040,static:35044},z=F.flatten,H=F.shape,q=[];function Y(t){return 0|N[Object.prototype.toString.call(t)]}function W(t,e){for(var n=0;n<e.length;++n)t[n]=e[n]}function V(t,e,n,r,o,i,a){for(var s=0,u=0;u<n;++u)for(var c=0;c<r;++c)t[s++]=e[o*u+i*c+a]}q[5120]=1,q[5122]=2,q[5124]=4,q[5121]=1,q[5123]=2,q[5125]=4,q[5126]=4;var X={points:0,point:0,lines:1,line:1,triangles:4,triangle:4,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},Z=new Float32Array(1),Q=new Uint32Array(Z.buffer);function $(t){for(var e=L.allocType(5123,t.length),n=0;n<t.length;++n)if(isNaN(t[n]))e[n]=65535;else if(t[n]===1/0)e[n]=31744;else if(t[n]===-1/0)e[n]=64512;else{Z[0]=t[n];var r=Q[0],o=r>>>31<<15,i=(r<<1>>>24)-127,a=r>>13&1023;if(i<-24)e[n]=o;else if(i<-14){var s=-14-i;e[n]=o+(a+1024>>s)}else e[n]=i>15?o+31744:o+(i+15<<10)+a}return e}function K(e){return Array.isArray(e)||t(e)}var J=function(t){return!(t&t-1||!t)},tt=[9984,9986,9985,9987],et=[0,6409,6410,6407,6408],nt={};function rt(t){return"[object "+t+"]"}nt[6409]=nt[6406]=nt[6402]=1,nt[34041]=nt[6410]=2,nt[6407]=nt[35904]=3,nt[6408]=nt[35906]=4;var ot=rt("HTMLCanvasElement"),it=rt("CanvasRenderingContext2D"),at=rt("ImageBitmap"),st=rt("HTMLImageElement"),ut=rt("HTMLVideoElement"),ct=Object.keys(N).concat([ot,it,at,st,ut]),ft=[];ft[5121]=1,ft[5126]=4,ft[36193]=2,ft[5123]=2,ft[5125]=4;var lt=[];function pt(t){return Array.isArray(t)&&(0===t.length||"number"==typeof t[0])}function ht(t){return!!Array.isArray(t)&&!(0===t.length||!K(t[0]))}function dt(t){return Object.prototype.toString.call(t)}function mt(t){return dt(t)===ot}function gt(t){if(!t)return!1;var e=dt(t);return ct.indexOf(e)>=0||pt(t)||ht(t)||I(t)}function yt(t){return 0|N[Object.prototype.toString.call(t)]}function vt(t,e){return L.allocType(36193===t.type?5126:t.type,e)}function bt(t,e){36193===t.type?(t.data=$(e),L.freeType(e)):t.data=e}function xt(t,e,n,r,o,i){var a;if(a=void 0!==lt[t]?lt[t]:nt[t]*ft[e],i&&(a*=6),o){for(var s=0,u=n;u>=1;)s+=a*u*u,u/=2;return s}return a*n*r}function wt(n,r,o,i,a,s,u){var c={"don't care":4352,"dont care":4352,nice:4354,fast:4353},f={repeat:10497,clamp:33071,mirror:33648},l={nearest:9728,linear:9729},p=e({mipmap:9987,"nearest mipmap nearest":9984,"linear mipmap nearest":9985,"nearest mipmap linear":9986,"linear mipmap linear":9987},l),h={none:0,browser:37444},d={uint8:5121,rgba4:32819,rgb565:33635,"rgb5 a1":32820},m={alpha:6406,luminance:6409,"luminance alpha":6410,rgb:6407,rgba:6408,rgba4:32854,"rgb5 a1":32855,rgb565:36194},g={};r.ext_srgb&&(m.srgb=35904,m.srgba=35906),r.oes_texture_float&&(d.float32=d.float=5126),r.oes_texture_half_float&&(d.float16=d["half float"]=36193),r.webgl_depth_texture&&(e(m,{depth:6402,"depth stencil":34041}),e(d,{uint16:5123,uint32:5125,"depth stencil":34042})),r.webgl_compressed_texture_s3tc&&e(g,{"rgb s3tc dxt1":33776,"rgba s3tc dxt1":33777,"rgba s3tc dxt3":33778,"rgba s3tc dxt5":33779}),r.webgl_compressed_texture_atc&&e(g,{"rgb atc":35986,"rgba atc explicit alpha":35987,"rgba atc interpolated alpha":34798}),r.webgl_compressed_texture_pvrtc&&e(g,{"rgb pvrtc 4bppv1":35840,"rgb pvrtc 2bppv1":35841,"rgba pvrtc 4bppv1":35842,"rgba pvrtc 2bppv1":35843}),r.webgl_compressed_texture_etc1&&(g["rgb etc1"]=36196);var y=Array.prototype.slice.call(n.getParameter(34467));Object.keys(g).forEach((function(t){var e=g[t];y.indexOf(e)>=0&&(m[t]=e)}));var v=Object.keys(m);o.textureFormats=v;var b=[];Object.keys(m).forEach((function(t){var e=m[t];b[e]=t}));var w=[];Object.keys(d).forEach((function(t){var e=d[t];w[e]=t}));var S=[];Object.keys(l).forEach((function(t){S[l[t]]=t}));var M=[];Object.keys(p).forEach((function(t){var e=p[t];M[e]=t}));var k=[];Object.keys(f).forEach((function(t){k[f[t]]=t}));var T=v.reduce((function(t,e){var n=m[e];return 6409===n||6406===n||6409===n||6410===n||6402===n||34041===n?t[n]=n:32855===n||e.indexOf("rgba")>=0?t[n]=6408:t[n]=6407,t}),{});function E(){this.internalformat=6408,this.format=6408,this.type=5121,this.compressed=!1,this.premultiplyAlpha=!1,this.flipY=!1,this.unpackAlignment=1,this.colorSpace=37444,this.width=0,this.height=0,this.channels=0}function A(t,e){t.internalformat=e.internalformat,t.format=e.format,t.type=e.type,t.compressed=e.compressed,t.premultiplyAlpha=e.premultiplyAlpha,t.flipY=e.flipY,t.unpackAlignment=e.unpackAlignment,t.colorSpace=e.colorSpace,t.width=e.width,t.height=e.height,t.channels=e.channels}function O(t,e){if("object"==typeof e&&e){if("premultiplyAlpha"in e&&(x.type(e.premultiplyAlpha,"boolean","invalid premultiplyAlpha"),t.premultiplyAlpha=e.premultiplyAlpha),"flipY"in e&&(x.type(e.flipY,"boolean","invalid texture flip"),t.flipY=e.flipY),"alignment"in e&&(x.oneOf(e.alignment,[1,2,4,8],"invalid texture unpack alignment"),t.unpackAlignment=e.alignment),"colorSpace"in e&&(x.parameter(e.colorSpace,h,"invalid colorSpace"),t.colorSpace=h[e.colorSpace]),"type"in e){var n=e.type;x(r.oes_texture_float||!("float"===n||"float32"===n),"you must enable the OES_texture_float extension in order to use floating point textures."),x(r.oes_texture_half_float||!("half float"===n||"float16"===n),"you must enable the OES_texture_half_float extension in order to use 16-bit floating point textures."),x(r.webgl_depth_texture||!("uint16"===n||"uint32"===n||"depth stencil"===n),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),x.parameter(n,d,"invalid texture type"),t.type=d[n]}var i=t.width,a=t.height,s=t.channels,u=!1;"shape"in e?(x(Array.isArray(e.shape)&&e.shape.length>=2,"shape must be an array"),i=e.shape[0],a=e.shape[1],3===e.shape.length&&(s=e.shape[2],x(s>0&&s<=4,"invalid number of channels"),u=!0),x(i>=0&&i<=o.maxTextureSize,"invalid width"),x(a>=0&&a<=o.maxTextureSize,"invalid height")):("radius"in e&&(i=a=e.radius,x(i>=0&&i<=o.maxTextureSize,"invalid radius")),"width"in e&&(i=e.width,x(i>=0&&i<=o.maxTextureSize,"invalid width")),"height"in e&&(a=e.height,x(a>=0&&a<=o.maxTextureSize,"invalid height")),"channels"in e&&(s=e.channels,x(s>0&&s<=4,"invalid number of channels"),u=!0)),t.width=0|i,t.height=0|a,t.channels=0|s;var c=!1;if("format"in e){var f=e.format;x(r.webgl_depth_texture||!("depth"===f||"depth stencil"===f),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),x.parameter(f,m,"invalid texture format");var l=t.internalformat=m[f];t.format=T[l],f in d&&("type"in e||(t.type=d[f])),f in g&&(t.compressed=!0),c=!0}!u&&c?t.channels=nt[t.format]:u&&!c?t.channels!==et[t.format]&&(t.format=t.internalformat=et[t.channels]):c&&u&&x(t.channels===nt[t.format],"number of channels inconsistent with specified format")}}function R(t){n.pixelStorei(37440,t.flipY),n.pixelStorei(37441,t.premultiplyAlpha),n.pixelStorei(37443,t.colorSpace),n.pixelStorei(3317,t.unpackAlignment)}function U(){E.call(this),this.xOffset=0,this.yOffset=0,this.data=null,this.needsFree=!1,this.element=null,this.needsCopy=!1}function _(e,n){var r=null;if(gt(n)?r=n:n&&(x.type(n,"object","invalid pixel data type"),O(e,n),"x"in n&&(e.xOffset=0|n.x),"y"in n&&(e.yOffset=0|n.y),gt(n.data)&&(r=n.data)),x(!e.compressed||r instanceof Uint8Array,"compressed texture data must be stored in a uint8array"),n.copy){x(!r,"can not specify copy and data field for the same texture");var i=a.viewportWidth,s=a.viewportHeight;e.width=e.width||i-e.xOffset,e.height=e.height||s-e.yOffset,e.needsCopy=!0,x(e.xOffset>=0&&e.xOffset<i&&e.yOffset>=0&&e.yOffset<s&&e.width>0&&e.width<=i&&e.height>0&&e.height<=s,"copy texture read out of bounds")}else if(r){if(t(r))e.channels=e.channels||4,e.data=r,"type"in n||5121!==e.type||(e.type=yt(r));else if(pt(r))e.channels=e.channels||4,function(t,e){var n=e.length;switch(t.type){case 5121:case 5123:case 5125:case 5126:var r=L.allocType(t.type,n);r.set(e),t.data=r;break;case 36193:t.data=$(e);break;default:x.raise("unsupported texture type, must specify a typed array")}}(e,r),e.alignment=1,e.needsFree=!0;else if(I(r)){var u=r.data;Array.isArray(u)||5121!==e.type||(e.type=yt(u));var c,f,l,p,h,d,m=r.shape,g=r.stride;3===m.length?(l=m[2],d=g[2]):(x(2===m.length,"invalid ndarray pixel data, must be 2 or 3D"),l=1,d=1),c=m[0],f=m[1],p=g[0],h=g[1],e.alignment=1,e.width=c,e.height=f,e.channels=l,e.format=e.internalformat=et[l],e.needsFree=!0,function(t,e,n,r,o,i){for(var a=t.width,s=t.height,u=t.channels,c=vt(t,a*s*u),f=0,l=0;l<s;++l)for(var p=0;p<a;++p)for(var h=0;h<u;++h)c[f++]=e[n*p+r*l+o*h+i];bt(t,c)}(e,u,p,h,d,r.offset)}else if(mt(r)||dt(r)===it)mt(r)?e.element=r:e.element=r.canvas,e.width=e.element.width,e.height=e.element.height,e.channels=4;else if(function(t){return dt(t)===at}(r))e.element=r,e.width=r.width,e.height=r.height,e.channels=4;else if(function(t){return dt(t)===st}(r))e.element=r,e.width=r.naturalWidth,e.height=r.naturalHeight,e.channels=4;else if(function(t){return dt(t)===ut}(r))e.element=r,e.width=r.videoWidth,e.height=r.videoHeight,e.channels=4;else if(ht(r)){var y=e.width||r[0].length,v=e.height||r.length,b=e.channels;b=K(r[0][0])?b||r[0][0].length:b||1;for(var w=F.shape(r),S=1,M=0;M<w.length;++M)S*=w[M];var k=vt(e,S);F.flatten(r,w,"",k),bt(e,k),e.alignment=1,e.width=y,e.height=v,e.channels=b,e.format=e.internalformat=et[b],e.needsFree=!0}}else e.width=e.width||1,e.height=e.height||1,e.channels=e.channels||4;5126===e.type?x(o.extensions.indexOf("oes_texture_float")>=0,"oes_texture_float extension not enabled"):36193===e.type&&x(o.extensions.indexOf("oes_texture_half_float")>=0,"oes_texture_half_float extension not enabled")}function D(t,e,r){var o=t.element,a=t.data,s=t.internalformat,u=t.format,c=t.type,f=t.width,l=t.height,p=t.channels;if(R(t),o)n.texImage2D(e,r,u,u,c,o);else if(t.compressed)n.compressedTexImage2D(e,r,s,f,l,0,a);else if(t.needsCopy)i(),n.copyTexImage2D(e,r,u,t.xOffset,t.yOffset,f,l,0);else{var h=!a;h&&(a=L.zero.allocType(c,f*l*p)),n.texImage2D(e,r,u,f,l,0,u,c,a),h&&a&&L.zero.freeType(a)}}function C(t,e,r,o,a){var s=t.element,u=t.data,c=t.internalformat,f=t.format,l=t.type,p=t.width,h=t.height;R(t),s?n.texSubImage2D(e,a,r,o,f,l,s):t.compressed?n.compressedTexSubImage2D(e,a,r,o,c,p,h,u):t.needsCopy?(i(),n.copyTexSubImage2D(e,a,r,o,t.xOffset,t.yOffset,p,h)):n.texSubImage2D(e,a,r,o,p,h,f,l,u)}var B=[];function N(){return B.pop()||new U}function j(t){t.needsFree&&L.freeType(t.data),U.call(t),B.push(t)}function G(){E.call(this),this.genMipmaps=!1,this.mipmapHint=4352,this.mipmask=0,this.images=Array(16)}function z(t,e,n){var r=t.images[0]=N();t.mipmask=1,r.width=t.width=e,r.height=t.height=n,r.channels=t.channels=4}function H(t,e){var n=null;if(gt(e))A(n=t.images[0]=N(),t),_(n,e),t.mipmask=1;else if(O(t,e),Array.isArray(e.mipmap))for(var r=e.mipmap,o=0;o<r.length;++o)A(n=t.images[o]=N(),t),n.width>>=o,n.height>>=o,_(n,r[o]),t.mipmask|=1<<o;else A(n=t.images[0]=N(),t),_(n,e),t.mipmask=1;A(t,t.images[0]),(t.compressed&&33776===t.internalformat||33777===t.internalformat||33778===t.internalformat||33779===t.internalformat)&&x(t.width%4==0&&t.height%4==0,"for compressed texture formats, mipmap level 0 must have width and height that are a multiple of 4")}function q(t,e){for(var n=t.images,r=0;r<n.length;++r){if(!n[r])return;D(n[r],e,r)}}var Y=[];function W(){var t=Y.pop()||new G;E.call(t),t.mipmask=0;for(var e=0;e<16;++e)t.images[e]=null;return t}function V(t){for(var e=t.images,n=0;n<e.length;++n)e[n]&&j(e[n]),e[n]=null;Y.push(t)}function X(){this.minFilter=9728,this.magFilter=9728,this.wrapS=33071,this.wrapT=33071,this.anisotropic=1,this.genMipmaps=!1,this.mipmapHint=4352}function Z(t,e){if("min"in e){var n=e.min;x.parameter(n,p),t.minFilter=p[n],tt.indexOf(t.minFilter)>=0&&!("faces"in e)&&(t.genMipmaps=!0)}if("mag"in e){var r=e.mag;x.parameter(r,l),t.magFilter=l[r]}var i=t.wrapS,a=t.wrapT;if("wrap"in e){var s=e.wrap;"string"==typeof s?(x.parameter(s,f),i=a=f[s]):Array.isArray(s)&&(x.parameter(s[0],f),x.parameter(s[1],f),i=f[s[0]],a=f[s[1]])}else{if("wrapS"in e){var u=e.wrapS;x.parameter(u,f),i=f[u]}if("wrapT"in e){var h=e.wrapT;x.parameter(h,f),a=f[h]}}if(t.wrapS=i,t.wrapT=a,"anisotropic"in e){var d=e.anisotropic;x("number"==typeof d&&d>=1&&d<=o.maxAnisotropic,"aniso samples must be between 1 and "),t.anisotropic=e.anisotropic}if("mipmap"in e){var m=!1;switch(typeof e.mipmap){case"string":x.parameter(e.mipmap,c,"invalid mipmap hint"),t.mipmapHint=c[e.mipmap],t.genMipmaps=!0,m=!0;break;case"boolean":m=t.genMipmaps=e.mipmap;break;case"object":x(Array.isArray(e.mipmap),"invalid mipmap type"),t.genMipmaps=!1,m=!0;break;default:x.raise("invalid mipmap type")}!m||"min"in e||(t.minFilter=9984)}}function Q(t,e){n.texParameteri(e,10241,t.minFilter),n.texParameteri(e,10240,t.magFilter),n.texParameteri(e,10242,t.wrapS),n.texParameteri(e,10243,t.wrapT),r.ext_texture_filter_anisotropic&&n.texParameteri(e,34046,t.anisotropic),t.genMipmaps&&(n.hint(33170,t.mipmapHint),n.generateMipmap(e))}var rt=0,ot={},ct=o.maxTextureUnits,ft=Array(ct).map((function(){return null}));function lt(t){E.call(this),this.mipmask=0,this.internalformat=6408,this.id=rt++,this.refCount=1,this.target=t,this.texture=n.createTexture(),this.unit=-1,this.bindCount=0,this.texInfo=new X,u.profile&&(this.stats={size:0})}function wt(t){n.activeTexture(33984),n.bindTexture(t.target,t.texture)}function St(){var t=ft[0];t?n.bindTexture(t.target,t.texture):n.bindTexture(3553,null)}function Mt(t){var e=t.texture;x(e,"must not double destroy texture");var r=t.unit,o=t.target;r>=0&&(n.activeTexture(33984+r),n.bindTexture(o,null),ft[r]=null),n.deleteTexture(e),t.texture=null,t.params=null,t.pixels=null,t.refCount=0,delete ot[t.id],s.textureCount--}return e(lt.prototype,{bind:function(){this.bindCount+=1;var t=this.unit;if(t<0){for(var e=0;e<ct;++e){var r=ft[e];if(r){if(r.bindCount>0)continue;r.unit=-1}ft[e]=this,t=e;break}t>=ct&&x.raise("insufficient number of texture units"),u.profile&&s.maxTextureUnits<t+1&&(s.maxTextureUnits=t+1),this.unit=t,n.activeTexture(33984+t),n.bindTexture(this.target,this.texture)}return t},unbind:function(){this.bindCount-=1},decRef:function(){--this.refCount<=0&&Mt(this)}}),u.profile&&(s.getTotalTextureSize=function(){var t=0;return Object.keys(ot).forEach((function(e){t+=ot[e].stats.size})),t}),{create2D:function(t,e){var r=new lt(3553);function i(t,e){var n=r.texInfo;X.call(n);var a=W();return"number"==typeof t?z(a,0|t,"number"==typeof e?0|e:0|t):t?(x.type(t,"object","invalid arguments to regl.texture"),Z(n,t),H(a,t)):z(a,1,1),n.genMipmaps&&(a.mipmask=(a.width<<1)-1),r.mipmask=a.mipmask,A(r,a),x.texture2D(n,a,o),r.internalformat=a.internalformat,i.width=a.width,i.height=a.height,wt(r),q(a,3553),Q(n,3553),St(),V(a),u.profile&&(r.stats.size=xt(r.internalformat,r.type,a.width,a.height,n.genMipmaps,!1)),i.format=b[r.internalformat],i.type=w[r.type],i.mag=S[n.magFilter],i.min=M[n.minFilter],i.wrapS=k[n.wrapS],i.wrapT=k[n.wrapT],i}return ot[r.id]=r,s.textureCount++,i(t,e),i.subimage=function(t,e,n,o){x(!!t,"must specify image data");var a=0|e,s=0|n,u=0|o,c=N();return A(c,r),c.width=0,c.height=0,_(c,t),c.width=c.width||(r.width>>u)-a,c.height=c.height||(r.height>>u)-s,x(r.type===c.type&&r.format===c.format&&r.internalformat===c.internalformat,"incompatible format for texture.subimage"),x(a>=0&&s>=0&&a+c.width<=r.width&&s+c.height<=r.height,"texture.subimage write out of bounds"),x(r.mipmask&1<<u,"missing mipmap data"),x(c.data||c.element||c.needsCopy,"missing image data"),wt(r),C(c,3553,a,s,u),St(),j(c),i},i.resize=function(t,e){var o,a=0|t,s=0|e||a;if(a===r.width&&s===r.height)return i;i.width=r.width=a,i.height=r.height=s,wt(r);for(var c=r.channels,f=r.type,l=0;r.mipmask>>l;++l){var p=a>>l,h=s>>l;if(!p||!h)break;o=L.zero.allocType(f,p*h*c),n.texImage2D(3553,l,r.format,p,h,0,r.format,r.type,o),o&&L.zero.freeType(o)}return St(),u.profile&&(r.stats.size=xt(r.internalformat,r.type,a,s,!1,!1)),i},i._reglType="texture2d",i._texture=r,u.profile&&(i.stats=r.stats),i.destroy=function(){r.decRef()},i},createCube:function(t,e,r,i,a,c){var f=new lt(34067);ot[f.id]=f,s.cubeCount++;var l=new Array(6);function p(t,e,n,r,i,a){var s,c=f.texInfo;for(X.call(c),s=0;s<6;++s)l[s]=W();if("number"!=typeof t&&t)if("object"==typeof t)if(e)H(l[0],t),H(l[1],e),H(l[2],n),H(l[3],r),H(l[4],i),H(l[5],a);else if(Z(c,t),O(f,t),"faces"in t){var h=t.faces;for(x(Array.isArray(h)&&6===h.length,"cube faces must be a length 6 array"),s=0;s<6;++s)x("object"==typeof h[s]&&!!h[s],"invalid input for cube map face"),A(l[s],f),H(l[s],h[s])}else for(s=0;s<6;++s)H(l[s],t);else x.raise("invalid arguments to cube map");else{var d=0|t||1;for(s=0;s<6;++s)z(l[s],d,d)}for(A(f,l[0]),o.npotTextureCube||x(J(f.width)&&J(f.height),"your browser does not support non power or two texture dimensions"),c.genMipmaps?f.mipmask=(l[0].width<<1)-1:f.mipmask=l[0].mipmask,x.textureCube(f,c,l,o),f.internalformat=l[0].internalformat,p.width=l[0].width,p.height=l[0].height,wt(f),s=0;s<6;++s)q(l[s],34069+s);for(Q(c,34067),St(),u.profile&&(f.stats.size=xt(f.internalformat,f.type,p.width,p.height,c.genMipmaps,!0)),p.format=b[f.internalformat],p.type=w[f.type],p.mag=S[c.magFilter],p.min=M[c.minFilter],p.wrapS=k[c.wrapS],p.wrapT=k[c.wrapT],s=0;s<6;++s)V(l[s]);return p}return p(t,e,r,i,a,c),p.subimage=function(t,e,n,r,o){x(!!e,"must specify image data"),x("number"==typeof t&&t===(0|t)&&t>=0&&t<6,"invalid face");var i=0|n,a=0|r,s=0|o,u=N();return A(u,f),u.width=0,u.height=0,_(u,e),u.width=u.width||(f.width>>s)-i,u.height=u.height||(f.height>>s)-a,x(f.type===u.type&&f.format===u.format&&f.internalformat===u.internalformat,"incompatible format for texture.subimage"),x(i>=0&&a>=0&&i+u.width<=f.width&&a+u.height<=f.height,"texture.subimage write out of bounds"),x(f.mipmask&1<<s,"missing mipmap data"),x(u.data||u.element||u.needsCopy,"missing image data"),wt(f),C(u,34069+t,i,a,s),St(),j(u),p},p.resize=function(t){var e=0|t;if(e!==f.width){p.width=f.width=e,p.height=f.height=e,wt(f);for(var r=0;r<6;++r)for(var o=0;f.mipmask>>o;++o)n.texImage2D(34069+r,o,f.format,e>>o,e>>o,0,f.format,f.type,null);return St(),u.profile&&(f.stats.size=xt(f.internalformat,f.type,p.width,p.height,!1,!0)),p}},p._reglType="textureCube",p._texture=f,u.profile&&(p.stats=f.stats),p.destroy=function(){f.decRef()},p},clear:function(){for(var t=0;t<ct;++t)n.activeTexture(33984+t),n.bindTexture(3553,null),ft[t]=null;P(ot).forEach(Mt),s.cubeCount=0,s.textureCount=0},getTexture:function(t){return null},restore:function(){for(var t=0;t<ct;++t){var e=ft[t];e&&(e.bindCount=0,e.unit=-1,ft[t]=null)}P(ot).forEach((function(t){t.texture=n.createTexture(),n.bindTexture(t.target,t.texture);for(var e=0;e<32;++e)if(0!=(t.mipmask&1<<e))if(3553===t.target)n.texImage2D(3553,e,t.internalformat,t.width>>e,t.height>>e,0,t.internalformat,t.type,null);else for(var r=0;r<6;++r)n.texImage2D(34069+r,e,t.internalformat,t.width>>e,t.height>>e,0,t.internalformat,t.type,null);Q(t.texInfo,t.target)}))}}}lt[32854]=2,lt[32855]=2,lt[36194]=2,lt[34041]=4,lt[33776]=.5,lt[33777]=.5,lt[33778]=1,lt[33779]=1,lt[35986]=.5,lt[35987]=1,lt[34798]=1,lt[35840]=.5,lt[35841]=.25,lt[35842]=.5,lt[35843]=.25,lt[36196]=.5;var St=[];function Mt(t,e,n){return St[t]*e*n}St[32854]=2,St[32855]=2,St[36194]=2,St[33189]=2,St[36168]=1,St[34041]=4,St[35907]=4,St[34836]=16,St[34842]=8,St[34843]=6;var kt=[6407,6408],Tt=[];Tt[6408]=4,Tt[6407]=3;var Et=[];Et[5121]=1,Et[5126]=4,Et[36193]=2;var At=[32854,32855,36194,35907,34842,34843,34836],Ot={};function Rt(){this.state=0,this.x=0,this.y=0,this.z=0,this.w=0,this.buffer=null,this.size=0,this.normalized=!1,this.type=5126,this.offset=0,this.stride=0,this.divisor=0}function Ut(e,n,r,o,i,a,s){function u(u){var c;null===n.next?(x(i.preserveDrawingBuffer,'you must create a webgl context with "preserveDrawingBuffer":true in order to read pixels from the drawing buffer'),c=5121):(x(null!==n.next.colorAttachments[0].texture,"You cannot read from a renderbuffer"),c=n.next.colorAttachments[0].texture._texture.type,a.oes_texture_float?(x(5121===c||5126===c,"Reading from a framebuffer is only allowed for the types 'uint8' and 'float'"),5126===c&&x(s.readFloat,"Reading 'float' values is not permitted in your browser. For a fallback, please see: https://www.npmjs.com/package/glsl-read-float")):x(5121===c,"Reading from a framebuffer is only allowed for the type 'uint8'"));var f=0,l=0,p=o.framebufferWidth,h=o.framebufferHeight,d=null;t(u)?d=u:u&&(x.type(u,"object","invalid arguments to regl.read()"),f=0|u.x,l=0|u.y,x(f>=0&&f<o.framebufferWidth,"invalid x offset for regl.read"),x(l>=0&&l<o.framebufferHeight,"invalid y offset for regl.read"),p=0|(u.width||o.framebufferWidth-f),h=0|(u.height||o.framebufferHeight-l),d=u.data||null),d&&(5121===c?x(d instanceof Uint8Array,"buffer must be 'Uint8Array' when reading from a framebuffer of type 'uint8'"):5126===c&&x(d instanceof Float32Array,"buffer must be 'Float32Array' when reading from a framebuffer of type 'float'")),x(p>0&&p+f<=o.framebufferWidth,"invalid width for read pixels"),x(h>0&&h+l<=o.framebufferHeight,"invalid height for read pixels"),r();var m=p*h*4;return d||(5121===c?d=new Uint8Array(m):5126===c&&(d=d||new Float32Array(m))),x.isTypedArray(d,"data buffer for regl.read() must be a typedarray"),x(d.byteLength>=m,"data buffer for regl.read() too small"),e.pixelStorei(3333,4),e.readPixels(f,l,p,h,6408,c,d),d}return function(t){return t&&"framebuffer"in t?function(t){var e;return n.setFBO({framebuffer:t.framebuffer},(function(){e=u(t)})),e}(t):u(t)}}function _t(t){return Array.prototype.slice.call(t)}function Dt(t){return _t(t).join("")}Ot[36053]="complete",Ot[36054]="incomplete attachment",Ot[36057]="incomplete dimensions",Ot[36055]="incomplete, missing attachment",Ot[36061]="unsupported";var Ct="xyzw".split(""),Lt="profile",It="framebuffer",Pt="vert",Ft="frag",Bt="elements",Nt="primitive",jt="count",Gt="offset",zt="instances",Ht=It+"Width",qt=It+"Height",Yt=["blend.func","blend.equation","stencil.func","stencil.opFront","stencil.opBack","sample.coverage","viewport","scissor.box","polygonOffset.offset"],Wt={0:0,1:1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},Vt=["constant color, constant alpha","one minus constant color, constant alpha","constant color, one minus constant alpha","one minus constant color, one minus constant alpha","constant alpha, constant color","constant alpha, one minus constant color","one minus constant alpha, constant color","one minus constant alpha, one minus constant color"],Xt={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},Zt={0:0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},Qt={frag:35632,vert:35633},$t={cw:2304,ccw:2305};function Kt(e){return Array.isArray(e)||t(e)||I(e)}function Jt(t){return t.sort((function(t,e){return"viewport"===t?-1:"viewport"===e?1:t<e?-1:1}))}function te(t,e,n,r){this.thisDep=t,this.contextDep=e,this.propDep=n,this.append=r}function ee(t){return t&&!(t.thisDep||t.contextDep||t.propDep)}function ne(t){return new te(!1,!1,!1,t)}function re(t,e){var n=t.type;if(0===n){var r=t.data.length;return new te(!0,r>=1,r>=2,e)}if(4===n){var o=t.data;return new te(o.thisDep,o.contextDep,o.propDep,e)}return new te(3===n,2===n,1===n,e)}var oe=new te(!1,!1,!1,(function(){}));function ie(t,n,r,o,i,a,s,u,c,f,l,p,h,d,m){var g=f.Record,y={add:32774,subtract:32778,"reverse subtract":32779};r.ext_blend_minmax&&(y.min=32775,y.max=32776);var v=r.angle_instanced_arrays,b=r.webgl_draw_buffers,w={dirty:!0,profile:m.profile},S={},M=[],k={},E={};function A(t){return t.replace(".","_")}function O(t,e,n){var r=A(t);M.push(t),S[r]=w[r]=!!n,k[r]=e}function R(t,e,n){var r=A(t);M.push(t),Array.isArray(n)?(w[r]=n.slice(),S[r]=n.slice()):w[r]=S[r]=n,E[r]=e}O("dither",3024),O("blend.enable",3042),R("blend.color","blendColor",[0,0,0,0]),R("blend.equation","blendEquationSeparate",[32774,32774]),R("blend.func","blendFuncSeparate",[1,0,1,0]),O("depth.enable",2929,!0),R("depth.func","depthFunc",513),R("depth.range","depthRange",[0,1]),R("depth.mask","depthMask",!0),R("colorMask","colorMask",[!0,!0,!0,!0]),O("cull.enable",2884),R("cull.face","cullFace",1029),R("frontFace","frontFace",2305),R("lineWidth","lineWidth",1),O("polygonOffset.enable",32823),R("polygonOffset.offset","polygonOffset",[0,0]),O("sample.alpha",32926),O("sample.enable",32928),R("sample.coverage","sampleCoverage",[1,!1]),O("stencil.enable",2960),R("stencil.mask","stencilMask",-1),R("stencil.func","stencilFunc",[519,0,-1]),R("stencil.opFront","stencilOpSeparate",[1028,7680,7680,7680]),R("stencil.opBack","stencilOpSeparate",[1029,7680,7680,7680]),O("scissor.enable",3089),R("scissor.box","scissor",[0,0,t.drawingBufferWidth,t.drawingBufferHeight]),R("viewport","viewport",[0,0,t.drawingBufferWidth,t.drawingBufferHeight]);var U={gl:t,context:h,strings:n,next:S,current:w,draw:p,elements:a,buffer:i,shader:l,attributes:f.state,uniforms:c,framebuffer:u,extensions:r,timer:d,isBufferArgs:Kt},D={primTypes:X,compareFuncs:Xt,blendFuncs:Wt,blendEquations:y,stencilOps:Zt,glTypes:j,orientationType:$t};x.optional((function(){U.isArrayLike=K})),b&&(D.backBuffer=[1029],D.drawBuffer=_(o.maxDrawbuffers,(function(t){return 0===t?[0]:_(t,(function(t){return 36064+t}))})));var C=0;function L(){var t=function(){var t=0,n=[],r=[];function o(){var n=[],r=[];return e((function(){n.push.apply(n,_t(arguments))}),{def:function(){var e="v"+t++;return r.push(e),arguments.length>0&&(n.push(e,"="),n.push.apply(n,_t(arguments)),n.push(";")),e},toString:function(){return Dt([r.length>0?"var "+r.join(",")+";":"",Dt(n)])}})}function i(){var t=o(),n=o(),r=t.toString,i=n.toString;function a(e,r){n(e,r,"=",t.def(e,r),";")}return e((function(){t.apply(t,_t(arguments))}),{def:t.def,entry:t,exit:n,save:a,set:function(e,n,r){a(e,n),t(e,n,"=",r,";")},toString:function(){return r()+i()}})}var a=o(),s={};return{global:a,link:function(e){for(var o=0;o<r.length;++o)if(r[o]===e)return n[o];var i="g"+t++;return n.push(i),r.push(e),i},block:o,proc:function(t,n){var r=[];function o(){var t="a"+r.length;return r.push(t),t}n=n||0;for(var a=0;a<n;++a)o();var u=i(),c=u.toString;return s[t]=e(u,{arg:o,toString:function(){return Dt(["function(",r.join(),"){",c(),"}"])}})},scope:i,cond:function(){var t=Dt(arguments),n=i(),r=i(),o=n.toString,a=r.toString;return e(n,{then:function(){return n.apply(n,_t(arguments)),this},else:function(){return r.apply(r,_t(arguments)),this},toString:function(){var e=a();return e&&(e="else{"+e+"}"),Dt(["if(",t,"){",o(),"}",e])}})},compile:function(){var t=['"use strict";',a,"return {"];Object.keys(s).forEach((function(e){t.push('"',e,'":',s[e].toString(),",")})),t.push("}");var e=Dt(t).replace(/;/g,";\n").replace(/}/g,"}\n").replace(/{/g,"{\n");return Function.apply(null,n.concat(e)).apply(null,r)}}}(),r=t.link,o=t.global;t.id=C++,t.batchId="0";var i=r(U),a=t.shared={props:"a0"};Object.keys(U).forEach((function(t){a[t]=o.def(i,".",t)})),x.optional((function(){t.CHECK=r(x),t.commandStr=x.guessCommand(),t.command=r(t.commandStr),t.assert=function(t,e,n){t("if(!(",e,"))",this.CHECK,".commandRaise(",r(n),",",this.command,");")},D.invalidBlendCombinations=Vt}));var s=t.next={},u=t.current={};Object.keys(E).forEach((function(t){Array.isArray(w[t])&&(s[t]=o.def(a.next,".",t),u[t]=o.def(a.current,".",t))}));var c=t.constants={};Object.keys(D).forEach((function(t){c[t]=o.def(JSON.stringify(D[t]))})),t.invoke=function(e,n){switch(n.type){case 0:var o=["this",a.context,a.props,t.batchId];return e.def(r(n.data),".call(",o.slice(0,Math.max(n.data.length+1,4)),")");case 1:return e.def(a.props,n.data);case 2:return e.def(a.context,n.data);case 3:return e.def("this",n.data);case 4:return n.data.append(t,e),n.data.ref}},t.attribCache={};var l={};return t.scopeAttrib=function(t){var e=n.id(t);if(e in l)return l[e];var o=f.scope[e];return o||(o=f.scope[e]=new g),l[e]=r(o)},t}function I(t,e,r,s,c){var f=t.static,p=t.dynamic;x.optional((function(){var t=[It,Pt,Ft,Bt,Nt,Gt,jt,zt,Lt].concat(M);function e(e){Object.keys(e).forEach((function(e){x.command(t.indexOf(e)>=0,'unknown parameter "'+e+'"',c.commandStr)}))}e(f),e(p)}));var h=function(t,e){var n=t.static,r=t.dynamic;if(It in n){var o=n[It];return o?(o=u.getFramebuffer(o),x.command(o,"invalid framebuffer object"),ne((function(t,e){var n=t.link(o),r=t.shared;e.set(r.framebuffer,".next",n);var i=r.context;return e.set(i,"."+Ht,n+".width"),e.set(i,"."+qt,n+".height"),n}))):ne((function(t,e){var n=t.shared;e.set(n.framebuffer,".next","null");var r=n.context;return e.set(r,"."+Ht,r+".drawingBufferWidth"),e.set(r,"."+qt,r+".drawingBufferHeight"),"null"}))}if(It in r){var i=r[It];return re(i,(function(t,e){var n=t.invoke(e,i),r=t.shared,o=r.framebuffer,a=e.def(o,".getFramebuffer(",n,")");x.optional((function(){t.assert(e,"!"+n+"||"+a,"invalid framebuffer object")})),e.set(o,".next",a);var s=r.context;return e.set(s,"."+Ht,a+"?"+a+".width:"+s+".drawingBufferWidth"),e.set(s,"."+qt,a+"?"+a+".height:"+s+".drawingBufferHeight"),a}))}return null}(t),d=function(t,e,n){var r=t.static,o=t.dynamic;function i(t){if(t in r){var i=r[t];x.commandType(i,"object","invalid "+t,n.commandStr);var a,s,u=!0,c=0|i.x,f=0|i.y;return"width"in i?(a=0|i.width,x.command(a>=0,"invalid "+t,n.commandStr)):u=!1,"height"in i?(s=0|i.height,x.command(s>=0,"invalid "+t,n.commandStr)):u=!1,new te(!u&&e&&e.thisDep,!u&&e&&e.contextDep,!u&&e&&e.propDep,(function(t,e){var n=t.shared.context,r=a;"width"in i||(r=e.def(n,".",Ht,"-",c));var o=s;return"height"in i||(o=e.def(n,".",qt,"-",f)),[c,f,r,o]}))}if(t in o){var l=o[t],p=re(l,(function(e,n){var r=e.invoke(n,l);x.optional((function(){e.assert(n,r+"&&typeof "+r+'==="object"',"invalid "+t)}));var o=e.shared.context,i=n.def(r,".x|0"),a=n.def(r,".y|0"),s=n.def('"width" in ',r,"?",r,".width|0:","(",o,".",Ht,"-",i,")"),u=n.def('"height" in ',r,"?",r,".height|0:","(",o,".",qt,"-",a,")");return x.optional((function(){e.assert(n,s+">=0&&"+u+">=0","invalid "+t)})),[i,a,s,u]}));return e&&(p.thisDep=p.thisDep||e.thisDep,p.contextDep=p.contextDep||e.contextDep,p.propDep=p.propDep||e.propDep),p}return e?new te(e.thisDep,e.contextDep,e.propDep,(function(t,e){var n=t.shared.context;return[0,0,e.def(n,".",Ht),e.def(n,".",qt)]})):null}var a=i("viewport");if(a){var s=a;a=new te(a.thisDep,a.contextDep,a.propDep,(function(t,e){var n=s.append(t,e),r=t.shared.context;return e.set(r,".viewportWidth",n[2]),e.set(r,".viewportHeight",n[3]),n}))}return{viewport:a,scissor_box:i("scissor.box")}}(t,h,c),m=function(t,e){var n=t.static,r=t.dynamic,o=function(){if(Bt in n){var t=n[Bt];Kt(t)?t=a.getElements(a.create(t,!0)):t&&(t=a.getElements(t),x.command(t,"invalid elements",e.commandStr));var o=ne((function(e,n){if(t){var r=e.link(t);return e.ELEMENTS=r,r}return e.ELEMENTS=null,null}));return o.value=t,o}if(Bt in r){var i=r[Bt];return re(i,(function(t,e){var n=t.shared,r=n.isBufferArgs,o=n.elements,a=t.invoke(e,i),s=e.def("null"),u=e.def(r,"(",a,")"),c=t.cond(u).then(s,"=",o,".createStream(",a,");").else(s,"=",o,".getElements(",a,");");return x.optional((function(){t.assert(c.else,"!"+a+"||"+s,"invalid elements")})),e.entry(c),e.exit(t.cond(u).then(o,".destroyStream(",s,");")),t.ELEMENTS=s,s}))}return null}();function i(t,i){if(t in n){var a=0|n[t];return x.command(!i||a>=0,"invalid "+t,e.commandStr),ne((function(t,e){return i&&(t.OFFSET=a),a}))}if(t in r){var s=r[t];return re(s,(function(e,n){var r=e.invoke(n,s);return i&&(e.OFFSET=r,x.optional((function(){e.assert(n,r+">=0","invalid "+t)}))),r}))}return i&&o?ne((function(t,e){return t.OFFSET="0",0})):null}var s=i(Gt,!0);return{elements:o,primitive:function(){if(Nt in n){var t=n[Nt];return x.commandParameter(t,X,"invalid primitve",e.commandStr),ne((function(e,n){return X[t]}))}if(Nt in r){var i=r[Nt];return re(i,(function(t,e){var n=t.constants.primTypes,r=t.invoke(e,i);return x.optional((function(){t.assert(e,r+" in "+n,"invalid primitive, must be one of "+Object.keys(X))})),e.def(n,"[",r,"]")}))}return o?ee(o)?o.value?ne((function(t,e){return e.def(t.ELEMENTS,".primType")})):ne((function(){return 4})):new te(o.thisDep,o.contextDep,o.propDep,(function(t,e){var n=t.ELEMENTS;return e.def(n,"?",n,".primType:",4)})):null}(),count:function(){if(jt in n){var t=0|n[jt];return x.command("number"==typeof t&&t>=0,"invalid vertex count",e.commandStr),ne((function(){return t}))}if(jt in r){var i=r[jt];return re(i,(function(t,e){var n=t.invoke(e,i);return x.optional((function(){t.assert(e,"typeof "+n+'==="number"&&'+n+">=0&&"+n+"===("+n+"|0)","invalid vertex count")})),n}))}if(o){if(ee(o)){if(o)return s?new te(s.thisDep,s.contextDep,s.propDep,(function(t,e){var n=e.def(t.ELEMENTS,".vertCount-",t.OFFSET);return x.optional((function(){t.assert(e,n+">=0","invalid vertex offset/element buffer too small")})),n})):ne((function(t,e){return e.def(t.ELEMENTS,".vertCount")}));var a=ne((function(){return-1}));return x.optional((function(){a.MISSING=!0})),a}var u=new te(o.thisDep||s.thisDep,o.contextDep||s.contextDep,o.propDep||s.propDep,(function(t,e){var n=t.ELEMENTS;return t.OFFSET?e.def(n,"?",n,".vertCount-",t.OFFSET,":-1"):e.def(n,"?",n,".vertCount:-1")}));return x.optional((function(){u.DYNAMIC=!0})),u}return null}(),instances:i(zt,!1),offset:s}}(t,c),b=function(t,e){var n=t.static,r=t.dynamic,i={};return M.forEach((function(t){var a=A(t);function s(e,o){if(t in n){var s=e(n[t]);i[a]=ne((function(){return s}))}else if(t in r){var u=r[t];i[a]=re(u,(function(t,e){return o(t,e,t.invoke(e,u))}))}}switch(t){case"cull.enable":case"blend.enable":case"dither":case"stencil.enable":case"depth.enable":case"scissor.enable":case"polygonOffset.enable":case"sample.alpha":case"sample.enable":case"depth.mask":return s((function(n){return x.commandType(n,"boolean",t,e.commandStr),n}),(function(e,n,r){return x.optional((function(){e.assert(n,"typeof "+r+'==="boolean"',"invalid flag "+t,e.commandStr)})),r}));case"depth.func":return s((function(n){return x.commandParameter(n,Xt,"invalid "+t,e.commandStr),Xt[n]}),(function(e,n,r){var o=e.constants.compareFuncs;return x.optional((function(){e.assert(n,r+" in "+o,"invalid "+t+", must be one of "+Object.keys(Xt))})),n.def(o,"[",r,"]")}));case"depth.range":return s((function(t){return x.command(K(t)&&2===t.length&&"number"==typeof t[0]&&"number"==typeof t[1]&&t[0]<=t[1],"depth range is 2d array",e.commandStr),t}),(function(t,e,n){return x.optional((function(){t.assert(e,t.shared.isArrayLike+"("+n+")&&"+n+".length===2&&typeof "+n+'[0]==="number"&&typeof '+n+'[1]==="number"&&'+n+"[0]<="+n+"[1]","depth range must be a 2d array")})),[e.def("+",n,"[0]"),e.def("+",n,"[1]")]}));case"blend.func":return s((function(t){x.commandType(t,"object","blend.func",e.commandStr);var n="srcRGB"in t?t.srcRGB:t.src,r="srcAlpha"in t?t.srcAlpha:t.src,o="dstRGB"in t?t.dstRGB:t.dst,i="dstAlpha"in t?t.dstAlpha:t.dst;return x.commandParameter(n,Wt,a+".srcRGB",e.commandStr),x.commandParameter(r,Wt,a+".srcAlpha",e.commandStr),x.commandParameter(o,Wt,a+".dstRGB",e.commandStr),x.commandParameter(i,Wt,a+".dstAlpha",e.commandStr),x.command(-1===Vt.indexOf(n+", "+o),"unallowed blending combination (srcRGB, dstRGB) = ("+n+", "+o+")",e.commandStr),[Wt[n],Wt[o],Wt[r],Wt[i]]}),(function(e,n,r){var o=e.constants.blendFuncs;function i(i,a){var s=n.def('"',i,a,'" in ',r,"?",r,".",i,a,":",r,".",i);return x.optional((function(){e.assert(n,s+" in "+o,"invalid "+t+"."+i+a+", must be one of "+Object.keys(Wt))})),s}x.optional((function(){e.assert(n,r+"&&typeof "+r+'==="object"',"invalid blend func, must be an object")}));var a=i("src","RGB"),s=i("dst","RGB");x.optional((function(){var t=e.constants.invalidBlendCombinations;e.assert(n,t+".indexOf("+a+'+", "+'+s+") === -1 ","unallowed blending combination for (srcRGB, dstRGB)")}));var u=n.def(o,"[",a,"]"),c=n.def(o,"[",i("src","Alpha"),"]");return[u,n.def(o,"[",s,"]"),c,n.def(o,"[",i("dst","Alpha"),"]")]}));case"blend.equation":return s((function(n){return"string"==typeof n?(x.commandParameter(n,y,"invalid "+t,e.commandStr),[y[n],y[n]]):"object"==typeof n?(x.commandParameter(n.rgb,y,t+".rgb",e.commandStr),x.commandParameter(n.alpha,y,t+".alpha",e.commandStr),[y[n.rgb],y[n.alpha]]):void x.commandRaise("invalid blend.equation",e.commandStr)}),(function(e,n,r){var o=e.constants.blendEquations,i=n.def(),a=n.def(),s=e.cond("typeof ",r,'==="string"');return x.optional((function(){function n(t,n,r){e.assert(t,r+" in "+o,"invalid "+n+", must be one of "+Object.keys(y))}n(s.then,t,r),e.assert(s.else,r+"&&typeof "+r+'==="object"',"invalid "+t),n(s.else,t+".rgb",r+".rgb"),n(s.else,t+".alpha",r+".alpha")})),s.then(i,"=",a,"=",o,"[",r,"];"),s.else(i,"=",o,"[",r,".rgb];",a,"=",o,"[",r,".alpha];"),n(s),[i,a]}));case"blend.color":return s((function(t){return x.command(K(t)&&4===t.length,"blend.color must be a 4d array",e.commandStr),_(4,(function(e){return+t[e]}))}),(function(t,e,n){return x.optional((function(){t.assert(e,t.shared.isArrayLike+"("+n+")&&"+n+".length===4","blend.color must be a 4d array")})),_(4,(function(t){return e.def("+",n,"[",t,"]")}))}));case"stencil.mask":return s((function(t){return x.commandType(t,"number",a,e.commandStr),0|t}),(function(t,e,n){return x.optional((function(){t.assert(e,"typeof "+n+'==="number"',"invalid stencil.mask")})),e.def(n,"|0")}));case"stencil.func":return s((function(n){x.commandType(n,"object",a,e.commandStr);var r=n.cmp||"keep",o=n.ref||0,i="mask"in n?n.mask:-1;return x.commandParameter(r,Xt,t+".cmp",e.commandStr),x.commandType(o,"number",t+".ref",e.commandStr),x.commandType(i,"number",t+".mask",e.commandStr),[Xt[r],o,i]}),(function(t,e,n){var r=t.constants.compareFuncs;return x.optional((function(){function o(){t.assert(e,Array.prototype.join.call(arguments,""),"invalid stencil.func")}o(n+"&&typeof ",n,'==="object"'),o('!("cmp" in ',n,")||(",n,".cmp in ",r,")")})),[e.def('"cmp" in ',n,"?",r,"[",n,".cmp]",":",7680),e.def(n,".ref|0"),e.def('"mask" in ',n,"?",n,".mask|0:-1")]}));case"stencil.opFront":case"stencil.opBack":return s((function(n){x.commandType(n,"object",a,e.commandStr);var r=n.fail||"keep",o=n.zfail||"keep",i=n.zpass||"keep";return x.commandParameter(r,Zt,t+".fail",e.commandStr),x.commandParameter(o,Zt,t+".zfail",e.commandStr),x.commandParameter(i,Zt,t+".zpass",e.commandStr),["stencil.opBack"===t?1029:1028,Zt[r],Zt[o],Zt[i]]}),(function(e,n,r){var o=e.constants.stencilOps;function i(i){return x.optional((function(){e.assert(n,'!("'+i+'" in '+r+")||("+r+"."+i+" in "+o+")","invalid "+t+"."+i+", must be one of "+Object.keys(Zt))})),n.def('"',i,'" in ',r,"?",o,"[",r,".",i,"]:",7680)}return x.optional((function(){e.assert(n,r+"&&typeof "+r+'==="object"',"invalid "+t)})),["stencil.opBack"===t?1029:1028,i("fail"),i("zfail"),i("zpass")]}));case"polygonOffset.offset":return s((function(t){x.commandType(t,"object",a,e.commandStr);var n=0|t.factor,r=0|t.units;return x.commandType(n,"number",a+".factor",e.commandStr),x.commandType(r,"number",a+".units",e.commandStr),[n,r]}),(function(e,n,r){return x.optional((function(){e.assert(n,r+"&&typeof "+r+'==="object"',"invalid "+t)})),[n.def(r,".factor|0"),n.def(r,".units|0")]}));case"cull.face":return s((function(t){var n=0;return"front"===t?n=1028:"back"===t&&(n=1029),x.command(!!n,a,e.commandStr),n}),(function(t,e,n){return x.optional((function(){t.assert(e,n+'==="front"||'+n+'==="back"',"invalid cull.face")})),e.def(n,'==="front"?',1028,":",1029)}));case"lineWidth":return s((function(t){return x.command("number"==typeof t&&t>=o.lineWidthDims[0]&&t<=o.lineWidthDims[1],"invalid line width, must be a positive number between "+o.lineWidthDims[0]+" and "+o.lineWidthDims[1],e.commandStr),t}),(function(t,e,n){return x.optional((function(){t.assert(e,"typeof "+n+'==="number"&&'+n+">="+o.lineWidthDims[0]+"&&"+n+"<="+o.lineWidthDims[1],"invalid line width")})),n}));case"frontFace":return s((function(t){return x.commandParameter(t,$t,a,e.commandStr),$t[t]}),(function(t,e,n){return x.optional((function(){t.assert(e,n+'==="cw"||'+n+'==="ccw"',"invalid frontFace, must be one of cw,ccw")})),e.def(n+'==="cw"?2304:2305')}));case"colorMask":return s((function(t){return x.command(K(t)&&4===t.length,"color.mask must be length 4 array",e.commandStr),t.map((function(t){return!!t}))}),(function(t,e,n){return x.optional((function(){t.assert(e,t.shared.isArrayLike+"("+n+")&&"+n+".length===4","invalid color.mask")})),_(4,(function(t){return"!!"+n+"["+t+"]"}))}));case"sample.coverage":return s((function(t){x.command("object"==typeof t&&t,a,e.commandStr);var n="value"in t?t.value:1,r=!!t.invert;return x.command("number"==typeof n&&n>=0&&n<=1,"sample.coverage.value must be a number between 0 and 1",e.commandStr),[n,r]}),(function(t,e,n){return x.optional((function(){t.assert(e,n+"&&typeof "+n+'==="object"',"invalid sample.coverage")})),[e.def('"value" in ',n,"?+",n,".value:1"),e.def("!!",n,".invert")]}))}})),i}(t,c),w=function(t){var e=t.static,r=t.dynamic;function o(t){if(t in e){var o=n.id(e[t]);x.optional((function(){l.shader(Qt[t],o,x.guessCommand())}));var i=ne((function(){return o}));return i.id=o,i}if(t in r){var a=r[t];return re(a,(function(e,n){var r=e.invoke(n,a),o=n.def(e.shared.strings,".id(",r,")");return x.optional((function(){n(e.shared.shader,".shader(",Qt[t],",",o,",",e.command,");")})),o}))}return null}var i,a=o(Ft),s=o(Pt),u=null;return ee(a)&&ee(s)?(u=l.program(s.id,a.id),i=ne((function(t,e){return t.link(u)}))):i=new te(a&&a.thisDep||s&&s.thisDep,a&&a.contextDep||s&&s.contextDep,a&&a.propDep||s&&s.propDep,(function(t,e){var n,r=t.shared.shader;n=a?a.append(t,e):e.def(r,".",Ft);var o=r+".program("+(s?s.append(t,e):e.def(r,".",Pt))+","+n;return x.optional((function(){o+=","+t.command})),e.def(o+")")})),{frag:a,vert:s,progVar:i,program:u}}(t);function S(t){var e=d[t];e&&(b[t]=e)}S("viewport"),S(A("scissor.box"));var k=Object.keys(b).length>0,T={framebuffer:h,draw:m,shader:w,state:b,dirty:k};return T.profile=function(t){var e,n=t.static,r=t.dynamic;if(Lt in n){var o=!!n[Lt];(e=ne((function(t,e){return o}))).enable=o}else if(Lt in r){var i=r[Lt];e=re(i,(function(t,e){return t.invoke(e,i)}))}return e}(t),T.uniforms=function(t,e){var n=t.static,r=t.dynamic,o={};return Object.keys(n).forEach((function(t){var r,i=n[t];if("number"==typeof i||"boolean"==typeof i)r=ne((function(){return i}));else if("function"==typeof i){var a=i._reglType;"texture2d"===a||"textureCube"===a?r=ne((function(t){return t.link(i)})):"framebuffer"===a||"framebufferCube"===a?(x.command(i.color.length>0,'missing color attachment for framebuffer sent to uniform "'+t+'"',e.commandStr),r=ne((function(t){return t.link(i.color[0])}))):x.commandRaise('invalid data for uniform "'+t+'"',e.commandStr)}else K(i)?r=ne((function(e){return e.global.def("[",_(i.length,(function(n){return x.command("number"==typeof i[n]||"boolean"==typeof i[n],"invalid uniform "+t,e.commandStr),i[n]})),"]")})):x.commandRaise('invalid or missing data for uniform "'+t+'"',e.commandStr);r.value=i,o[t]=r})),Object.keys(r).forEach((function(t){var e=r[t];o[t]=re(e,(function(t,n){return t.invoke(n,e)}))})),o}(r,c),T.attributes=function(t,e){var r=t.static,o=t.dynamic,a={};return Object.keys(r).forEach((function(t){var o=r[t],s=n.id(t),u=new g;if(Kt(o))u.state=1,u.buffer=i.getBuffer(i.create(o,34962,!1,!0)),u.type=0;else{var c=i.getBuffer(o);if(c)u.state=1,u.buffer=c,u.type=0;else if(x.command("object"==typeof o&&o,"invalid data for attribute "+t,e.commandStr),"constant"in o){var f=o.constant;u.buffer="null",u.state=2,"number"==typeof f?u.x=f:(x.command(K(f)&&f.length>0&&f.length<=4,"invalid constant for attribute "+t,e.commandStr),Ct.forEach((function(t,e){e<f.length&&(u[t]=f[e])})))}else{c=Kt(o.buffer)?i.getBuffer(i.create(o.buffer,34962,!1,!0)):i.getBuffer(o.buffer),x.command(!!c,'missing buffer for attribute "'+t+'"',e.commandStr);var l=0|o.offset;x.command(l>=0,'invalid offset for attribute "'+t+'"',e.commandStr);var p=0|o.stride;x.command(p>=0&&p<256,'invalid stride for attribute "'+t+'", must be integer betweeen [0, 255]',e.commandStr);var h=0|o.size;x.command(!("size"in o)||h>0&&h<=4,'invalid size for attribute "'+t+'", must be 1,2,3,4',e.commandStr);var d=!!o.normalized,m=0;"type"in o&&(x.commandParameter(o.type,j,"invalid type for attribute "+t,e.commandStr),m=j[o.type]);var y=0|o.divisor;"divisor"in o&&(x.command(0===y||v,'cannot specify divisor for attribute "'+t+'", instancing not supported',e.commandStr),x.command(y>=0,'invalid divisor for attribute "'+t+'"',e.commandStr)),x.optional((function(){var n=e.commandStr,r=["buffer","offset","divisor","normalized","type","size","stride"];Object.keys(o).forEach((function(e){x.command(r.indexOf(e)>=0,'unknown parameter "'+e+'" for attribute pointer "'+t+'" (valid parameters are '+r+")",n)}))})),u.buffer=c,u.state=1,u.size=h,u.normalized=d,u.type=m||c.dtype,u.offset=l,u.stride=p,u.divisor=y}}a[t]=ne((function(t,e){var n=t.attribCache;if(s in n)return n[s];var r={isStream:!1};return Object.keys(u).forEach((function(t){r[t]=u[t]})),u.buffer&&(r.buffer=t.link(u.buffer),r.type=r.type||r.buffer+".dtype"),n[s]=r,r}))})),Object.keys(o).forEach((function(t){var e=o[t];a[t]=re(e,(function(n,r){var o=n.invoke(r,e),i=n.shared,a=n.constants,s=i.isBufferArgs,u=i.buffer;x.optional((function(){n.assert(r,o+"&&(typeof "+o+'==="object"||typeof '+o+'==="function")&&('+s+"("+o+")||"+u+".getBuffer("+o+")||"+u+".getBuffer("+o+".buffer)||"+s+"("+o+'.buffer)||("constant" in '+o+"&&(typeof "+o+'.constant==="number"||'+i.isArrayLike+"("+o+".constant))))",'invalid dynamic attribute "'+t+'"')}));var c={isStream:r.def(!1)},f=new g;f.state=1,Object.keys(f).forEach((function(t){c[t]=r.def(""+f[t])}));var l=c.buffer,p=c.type;function h(t){r(c[t],"=",o,".",t,"|0;")}return r("if(",s,"(",o,")){",c.isStream,"=true;",l,"=",u,".createStream(",34962,",",o,");",p,"=",l,".dtype;","}else{",l,"=",u,".getBuffer(",o,");","if(",l,"){",p,"=",l,".dtype;",'}else if("constant" in ',o,"){",c.state,"=",2,";","if(typeof "+o+'.constant === "number"){',c[Ct[0]],"=",o,".constant;",Ct.slice(1).map((function(t){return c[t]})).join("="),"=0;","}else{",Ct.map((function(t,e){return c[t]+"="+o+".constant.length>"+e+"?"+o+".constant["+e+"]:0;"})).join(""),"}}else{","if(",s,"(",o,".buffer)){",l,"=",u,".createStream(",34962,",",o,".buffer);","}else{",l,"=",u,".getBuffer(",o,".buffer);","}",p,'="type" in ',o,"?",a.glTypes,"[",o,".type]:",l,".dtype;",c.normalized,"=!!",o,".normalized;"),h("size"),h("offset"),h("stride"),h("divisor"),r("}}"),r.exit("if(",c.isStream,"){",u,".destroyStream(",l,");","}"),c}))})),a}(e,c),T.context=function(t){var e=t.static,n=t.dynamic,r={};return Object.keys(e).forEach((function(t){var n=e[t];r[t]=ne((function(t,e){return"number"==typeof n||"boolean"==typeof n?""+n:t.link(n)}))})),Object.keys(n).forEach((function(t){var e=n[t];r[t]=re(e,(function(t,n){return t.invoke(n,e)}))})),r}(s),T}function P(t,e,n){var r=t.shared.context,o=t.scope();Object.keys(n).forEach((function(i){e.save(r,"."+i);var a=n[i];o(r,".",i,"=",a.append(t,e),";")})),e(o)}function F(t,e,n,r){var o,i=t.shared,a=i.gl,s=i.framebuffer;b&&(o=e.def(i.extensions,".webgl_draw_buffers"));var u,c=t.constants,f=c.drawBuffer,l=c.backBuffer;u=n?n.append(t,e):e.def(s,".next"),r||e("if(",u,"!==",s,".cur){"),e("if(",u,"){",a,".bindFramebuffer(",36160,",",u,".framebuffer);"),b&&e(o,".drawBuffersWEBGL(",f,"[",u,".colorAttachments.length]);"),e("}else{",a,".bindFramebuffer(",36160,",null);"),b&&e(o,".drawBuffersWEBGL(",l,");"),e("}",s,".cur=",u,";"),r||e("}")}function B(t,e,n){var r=t.shared,o=r.gl,i=t.current,a=t.next,s=r.current,u=r.next,c=t.cond(s,".dirty");M.forEach((function(e){var r,f,l=A(e);if(!(l in n.state))if(l in a){r=a[l],f=i[l];var p=_(w[l].length,(function(t){return c.def(r,"[",t,"]")}));c(t.cond(p.map((function(t,e){return t+"!=="+f+"["+e+"]"})).join("||")).then(o,".",E[l],"(",p,");",p.map((function(t,e){return f+"["+e+"]="+t})).join(";"),";"))}else{r=c.def(u,".",l);var h=t.cond(r,"!==",s,".",l);c(h),l in k?h(t.cond(r).then(o,".enable(",k[l],");").else(o,".disable(",k[l],");"),s,".",l,"=",r,";"):h(o,".",E[l],"(",r,");",s,".",l,"=",r,";")}})),0===Object.keys(n.state).length&&c(s,".dirty=false;"),e(c)}function N(t,e,n,r){var o=t.shared,i=t.current,a=o.current,s=o.gl;Jt(Object.keys(n)).forEach((function(o){var u=n[o];if(!r||r(u)){var c=u.append(t,e);if(k[o]){var f=k[o];ee(u)?e(s,c?".enable(":".disable(",f,");"):e(t.cond(c).then(s,".enable(",f,");").else(s,".disable(",f,");")),e(a,".",o,"=",c,";")}else if(K(c)){var l=i[o];e(s,".",E[o],"(",c,");",c.map((function(t,e){return l+"["+e+"]="+t})).join(";"),";")}else e(s,".",E[o],"(",c,");",a,".",o,"=",c,";")}}))}function G(t,e){v&&(t.instancing=e.def(t.shared.extensions,".angle_instanced_arrays"))}function z(t,e,n,r,o){var i,a,s,u=t.shared,c=t.stats,f=u.current,l=u.timer,p=n.profile;function h(){return"undefined"==typeof performance?"Date.now()":"performance.now()"}function m(t){t(i=e.def(),"=",h(),";"),"string"==typeof o?t(c,".count+=",o,";"):t(c,".count++;"),d&&(r?t(a=e.def(),"=",l,".getNumPendingQueries();"):t(l,".beginQuery(",c,");"))}function g(t){t(c,".cpuTime+=",h(),"-",i,";"),d&&(r?t(l,".pushScopeStats(",a,",",l,".getNumPendingQueries(),",c,");"):t(l,".endQuery();"))}function y(t){var n=e.def(f,".profile");e(f,".profile=",t,";"),e.exit(f,".profile=",n,";")}if(p){if(ee(p))return void(p.enable?(m(e),g(e.exit),y("true")):y("false"));y(s=p.append(t,e))}else s=e.def(f,".profile");var v=t.block();m(v),e("if(",s,"){",v,"}");var b=t.block();g(b),e.exit("if(",s,"){",b,"}")}function H(t,e,n,r,o){var i=t.shared;r.forEach((function(r){var a,s=r.name,u=n.attributes[s];if(u){if(!o(u))return;a=u.append(t,e)}else{if(!o(oe))return;var c=t.scopeAttrib(s);x.optional((function(){t.assert(e,c+".state","missing attribute "+s)})),a={},Object.keys(new g).forEach((function(t){a[t]=e.def(c,".",t)}))}!function(n,r,o){var a=i.gl,s=e.def(n,".location"),u=e.def(i.attributes,"[",s,"]"),c=o.state,f=o.buffer,l=[o.x,o.y,o.z,o.w],p=["buffer","normalized","offset","stride"];function h(){e("if(!",u,".buffer){",a,".enableVertexAttribArray(",s,");}");var n,i=o.type;if(n=o.size?e.def(o.size,"||",r):r,e("if(",u,".type!==",i,"||",u,".size!==",n,"||",p.map((function(t){return u+"."+t+"!=="+o[t]})).join("||"),"){",a,".bindBuffer(",34962,",",f,".buffer);",a,".vertexAttribPointer(",[s,n,i,o.normalized,o.stride,o.offset],");",u,".type=",i,";",u,".size=",n,";",p.map((function(t){return u+"."+t+"="+o[t]+";"})).join(""),"}"),v){var c=o.divisor;e("if(",u,".divisor!==",c,"){",t.instancing,".vertexAttribDivisorANGLE(",[s,c],");",u,".divisor=",c,";}")}}function d(){e("if(",u,".buffer){",a,".disableVertexAttribArray(",s,");",u,".buffer=null;","}if(",Ct.map((function(t,e){return u+"."+t+"!=="+l[e]})).join("||"),"){",a,".vertexAttrib4f(",s,",",l,");",Ct.map((function(t,e){return u+"."+t+"="+l[e]+";"})).join(""),"}")}1===c?h():2===c?d():(e("if(",c,"===",1,"){"),h(),e("}else{"),d(),e("}"))}(t.link(r),function(t){switch(t){case 35664:case 35667:case 35671:return 2;case 35665:case 35668:case 35672:return 3;case 35666:case 35669:case 35673:return 4;default:return 1}}(r.info.type),a)}))}function q(t,e,r,o,i){for(var a,s=t.shared,u=s.gl,c=0;c<o.length;++c){var f,l=o[c],p=l.name,h=l.info.type,d=r.uniforms[p],m=t.link(l)+".location";if(d){if(!i(d))continue;if(ee(d)){var g=d.value;if(x.command(null!=g,'missing uniform "'+p+'"',t.commandStr),35678===h||35680===h){x.command("function"==typeof g&&(35678===h&&("texture2d"===g._reglType||"framebuffer"===g._reglType)||35680===h&&("textureCube"===g._reglType||"framebufferCube"===g._reglType)),"invalid texture for uniform "+p,t.commandStr);var y=t.link(g._texture||g.color[0]._texture);e(u,".uniform1i(",m,",",y+".bind());"),e.exit(y,".unbind();")}else if(35674===h||35675===h||35676===h){x.optional((function(){x.command(K(g),"invalid matrix for uniform "+p,t.commandStr),x.command(35674===h&&4===g.length||35675===h&&9===g.length||35676===h&&16===g.length,"invalid length for matrix uniform "+p,t.commandStr)}));var v=t.global.def("new Float32Array(["+Array.prototype.slice.call(g)+"])"),b=2;35675===h?b=3:35676===h&&(b=4),e(u,".uniformMatrix",b,"fv(",m,",false,",v,");")}else{switch(h){case 5126:x.commandType(g,"number","uniform "+p,t.commandStr),a="1f";break;case 35664:x.command(K(g)&&2===g.length,"uniform "+p,t.commandStr),a="2f";break;case 35665:x.command(K(g)&&3===g.length,"uniform "+p,t.commandStr),a="3f";break;case 35666:x.command(K(g)&&4===g.length,"uniform "+p,t.commandStr),a="4f";break;case 35670:x.commandType(g,"boolean","uniform "+p,t.commandStr),a="1i";break;case 5124:x.commandType(g,"number","uniform "+p,t.commandStr),a="1i";break;case 35671:case 35667:x.command(K(g)&&2===g.length,"uniform "+p,t.commandStr),a="2i";break;case 35672:case 35668:x.command(K(g)&&3===g.length,"uniform "+p,t.commandStr),a="3i";break;case 35673:case 35669:x.command(K(g)&&4===g.length,"uniform "+p,t.commandStr),a="4i"}e(u,".uniform",a,"(",m,",",K(g)?Array.prototype.slice.call(g):g,");")}continue}f=d.append(t,e)}else{if(!i(oe))continue;f=e.def(s.uniforms,"[",n.id(p),"]")}35678===h?e("if(",f,"&&",f,'._reglType==="framebuffer"){',f,"=",f,".color[0];","}"):35680===h&&e("if(",f,"&&",f,'._reglType==="framebufferCube"){',f,"=",f,".color[0];","}"),x.optional((function(){function n(n,r){t.assert(e,n,'bad data or missing for uniform "'+p+'".  '+r)}function r(t){n("typeof "+f+'==="'+t+'"',"invalid type, expected "+t)}function o(e,r){n(s.isArrayLike+"("+f+")&&"+f+".length==="+e,"invalid vector, should have length "+e,t.commandStr)}function i(e){n("typeof "+f+'==="function"&&'+f+'._reglType==="texture'+(3553===e?"2d":"Cube")+'"',"invalid texture type",t.commandStr)}switch(h){case 5124:r("number");break;case 35667:o(2);break;case 35668:o(3);break;case 35669:o(4);break;case 5126:r("number");break;case 35664:o(2);break;case 35665:o(3);break;case 35666:o(4);break;case 35670:r("boolean");break;case 35671:o(2);break;case 35672:o(3);break;case 35673:case 35674:o(4);break;case 35675:o(9);break;case 35676:o(16);break;case 35678:i(3553);break;case 35680:i(34067)}}));var w=1;switch(h){case 35678:case 35680:var S=e.def(f,"._texture");e(u,".uniform1i(",m,",",S,".bind());"),e.exit(S,".unbind();");continue;case 5124:case 35670:a="1i";break;case 35667:case 35671:a="2i",w=2;break;case 35668:case 35672:a="3i",w=3;break;case 35669:case 35673:a="4i",w=4;break;case 5126:a="1f";break;case 35664:a="2f",w=2;break;case 35665:a="3f",w=3;break;case 35666:a="4f",w=4;break;case 35674:a="Matrix2fv";break;case 35675:a="Matrix3fv";break;case 35676:a="Matrix4fv"}if(e(u,".uniform",a,"(",m,","),"M"===a.charAt(0)){var M=Math.pow(h-35674+2,2),k=t.global.def("new Float32Array(",M,")");e("false,(Array.isArray(",f,")||",f," instanceof Float32Array)?",f,":(",_(M,(function(t){return k+"["+t+"]="+f+"["+t+"]"})),",",k,")")}else e(w>1?_(w,(function(t){return f+"["+t+"]"})):f);e(");")}}function Y(t,e,n,r){var o=t.shared,i=o.gl,a=o.draw,s=r.draw,u=function(){var o,u=s.elements,c=e;return u?((u.contextDep&&r.contextDynamic||u.propDep)&&(c=n),o=u.append(t,c)):o=c.def(a,".",Bt),o&&c("if("+o+")"+i+".bindBuffer(34963,"+o+".buffer.buffer);"),o}();function c(o){var i=s[o];return i?i.contextDep&&r.contextDynamic||i.propDep?i.append(t,n):i.append(t,e):e.def(a,".",o)}var f,l,p=c(Nt),h=c(Gt),d=function(){var o,i=s.count,u=e;return i?((i.contextDep&&r.contextDynamic||i.propDep)&&(u=n),o=i.append(t,u),x.optional((function(){i.MISSING&&t.assert(e,"false","missing vertex count"),i.DYNAMIC&&t.assert(u,o+">=0","missing vertex count")}))):(o=u.def(a,".",jt),x.optional((function(){t.assert(u,o+">=0","missing vertex count")}))),o}();if("number"==typeof d){if(0===d)return}else n("if(",d,"){"),n.exit("}");v&&(f=c(zt),l=t.instancing);var m=u+".type",g=s.elements&&ee(s.elements);function y(){function t(){n(l,".drawElementsInstancedANGLE(",[p,d,m,h+"<<(("+m+"-5121)>>1)",f],");")}function e(){n(l,".drawArraysInstancedANGLE(",[p,h,d,f],");")}u?g?t():(n("if(",u,"){"),t(),n("}else{"),e(),n("}")):e()}function b(){function t(){n(i+".drawElements("+[p,d,m,h+"<<(("+m+"-5121)>>1)"]+");")}function e(){n(i+".drawArrays("+[p,h,d]+");")}u?g?t():(n("if(",u,"){"),t(),n("}else{"),e(),n("}")):e()}v&&("number"!=typeof f||f>=0)?"string"==typeof f?(n("if(",f,">0){"),y(),n("}else if(",f,"<0){"),b(),n("}")):y():b()}function W(t,e,n,r,o){var i=L(),a=i.proc("body",o);return x.optional((function(){i.commandStr=e.commandStr,i.command=i.link(e.commandStr)})),v&&(i.instancing=a.def(i.shared.extensions,".angle_instanced_arrays")),t(i,a,n,r),i.compile().body}function V(t,e,n,r){G(t,e),H(t,e,n,r.attributes,(function(){return!0})),q(t,e,n,r.uniforms,(function(){return!0})),Y(t,e,e,n)}function Z(t,e,n,r){function o(){return!0}t.batchId="a1",G(t,e),H(t,e,n,r.attributes,o),q(t,e,n,r.uniforms,o),Y(t,e,e,n)}function Q(t,e,n,r){G(t,e);var o=n.contextDep,i=e.def(),a=e.def();t.shared.props=a,t.batchId=i;var s=t.scope(),u=t.scope();function c(t){return t.contextDep&&o||t.propDep}function f(t){return!c(t)}if(e(s.entry,"for(",i,"=0;",i,"<","a1",";++",i,"){",a,"=","a0","[",i,"];",u,"}",s.exit),n.needsContext&&P(t,u,n.context),n.needsFramebuffer&&F(t,u,n.framebuffer),N(t,u,n.state,c),n.profile&&c(n.profile)&&z(t,u,n,!1,!0),r)H(t,s,n,r.attributes,f),H(t,u,n,r.attributes,c),q(t,s,n,r.uniforms,f),q(t,u,n,r.uniforms,c),Y(t,s,u,n);else{var l=t.global.def("{}"),p=n.shader.progVar.append(t,u),h=u.def(p,".id"),d=u.def(l,"[",h,"]");u(t.shared.gl,".useProgram(",p,".program);","if(!",d,"){",d,"=",l,"[",h,"]=",t.link((function(e){return W(Z,t,n,e,2)})),"(",p,");}",d,".call(this,a0[",i,"],",i,");")}}function $(t,e,n){var r=e.static[n];if(r&&function(t){if("object"==typeof t&&!K(t)){for(var e=Object.keys(t),n=0;n<e.length;++n)if(T.isDynamic(t[e[n]]))return!0;return!1}}(r)){var o=t.global,i=Object.keys(r),a=!1,s=!1,u=!1,c=t.global.def("{}");i.forEach((function(e){var n=r[e];if(T.isDynamic(n)){"function"==typeof n&&(n=r[e]=T.unbox(n));var i=re(n,null);a=a||i.thisDep,u=u||i.propDep,s=s||i.contextDep}else{switch(o(c,".",e,"="),typeof n){case"number":o(n);break;case"string":o('"',n,'"');break;case"object":Array.isArray(n)&&o("[",n.join(),"]");break;default:o(t.link(n))}o(";")}})),e.dynamic[n]=new T.DynamicVariable(4,{thisDep:a,contextDep:s,propDep:u,ref:c,append:function(t,e){i.forEach((function(n){var o=r[n];if(T.isDynamic(o)){var i=t.invoke(e,o);e(c,".",n,"=",i,";")}}))}}),delete e.static[n]}}return{next:S,current:w,procs:function(){var t=L(),e=t.proc("poll"),n=t.proc("refresh"),r=t.block();e(r),n(r);var i,a=t.shared,s=a.gl,u=a.next,c=a.current;r(c,".dirty=false;"),F(t,e),F(t,n,null,!0),v&&(i=t.link(v));for(var f=0;f<o.maxAttributes;++f){var l=n.def(a.attributes,"[",f,"]"),p=t.cond(l,".buffer");p.then(s,".enableVertexAttribArray(",f,");",s,".bindBuffer(",34962,",",l,".buffer.buffer);",s,".vertexAttribPointer(",f,",",l,".size,",l,".type,",l,".normalized,",l,".stride,",l,".offset);").else(s,".disableVertexAttribArray(",f,");",s,".vertexAttrib4f(",f,",",l,".x,",l,".y,",l,".z,",l,".w);",l,".buffer=null;"),n(p),v&&n(i,".vertexAttribDivisorANGLE(",f,",",l,".divisor);")}return Object.keys(k).forEach((function(o){var i=k[o],a=r.def(u,".",o),f=t.block();f("if(",a,"){",s,".enable(",i,")}else{",s,".disable(",i,")}",c,".",o,"=",a,";"),n(f),e("if(",a,"!==",c,".",o,"){",f,"}")})),Object.keys(E).forEach((function(o){var i,a,f=E[o],l=w[o],p=t.block();if(p(s,".",f,"("),K(l)){var h=l.length;i=t.global.def(u,".",o),a=t.global.def(c,".",o),p(_(h,(function(t){return i+"["+t+"]"})),");",_(h,(function(t){return a+"["+t+"]="+i+"["+t+"];"})).join("")),e("if(",_(h,(function(t){return i+"["+t+"]!=="+a+"["+t+"]"})).join("||"),"){",p,"}")}else i=r.def(u,".",o),a=r.def(c,".",o),p(i,");",c,".",o,"=",i,";"),e("if(",i,"!==",a,"){",p,"}");n(p)})),t.compile()}(),compile:function(t,e,r,o,i){var a=L();a.stats=a.link(i),Object.keys(e.static).forEach((function(t){$(a,e,t)})),Yt.forEach((function(e){$(a,t,e)}));var s=I(t,e,r,o,a);return function(t,e){var n=t.proc("draw",1);G(t,n),P(t,n,e.context),F(t,n,e.framebuffer),B(t,n,e),N(t,n,e.state),z(t,n,e,!1,!0);var r=e.shader.progVar.append(t,n);if(n(t.shared.gl,".useProgram(",r,".program);"),e.shader.program)V(t,n,e,e.shader.program);else{var o=t.global.def("{}"),i=n.def(r,".id"),a=n.def(o,"[",i,"]");n(t.cond(a).then(a,".call(this,a0);").else(a,"=",o,"[",i,"]=",t.link((function(n){return W(V,t,e,n,1)})),"(",r,");",a,".call(this,a0);"))}Object.keys(e.state).length>0&&n(t.shared.current,".dirty=true;")}(a,s),function(t,e){var r=t.proc("scope",3);t.batchId="a2";var o=t.shared,i=o.current;function a(n){var i=e.shader[n];i&&r.set(o.shader,"."+n,i.append(t,r))}P(t,r,e.context),e.framebuffer&&e.framebuffer.append(t,r),Jt(Object.keys(e.state)).forEach((function(n){var i=e.state[n].append(t,r);K(i)?i.forEach((function(e,o){r.set(t.next[n],"["+o+"]",e)})):r.set(o.next,"."+n,i)})),z(t,r,e,!0,!0),[Bt,Gt,jt,zt,Nt].forEach((function(n){var i=e.draw[n];i&&r.set(o.draw,"."+n,""+i.append(t,r))})),Object.keys(e.uniforms).forEach((function(i){r.set(o.uniforms,"["+n.id(i)+"]",e.uniforms[i].append(t,r))})),Object.keys(e.attributes).forEach((function(n){var o=e.attributes[n].append(t,r),i=t.scopeAttrib(n);Object.keys(new g).forEach((function(t){r.set(i,"."+t,o[t])}))})),a(Pt),a(Ft),Object.keys(e.state).length>0&&(r(i,".dirty=true;"),r.exit(i,".dirty=true;")),r("a1(",t.shared.context,",a0,",t.batchId,");")}(a,s),function(t,e){var n=t.proc("batch",2);t.batchId="0",G(t,n);var r=!1,o=!0;Object.keys(e.context).forEach((function(t){r=r||e.context[t].propDep})),r||(P(t,n,e.context),o=!1);var i=e.framebuffer,a=!1;function s(t){return t.contextDep&&r||t.propDep}i?(i.propDep?r=a=!0:i.contextDep&&r&&(a=!0),a||F(t,n,i)):F(t,n,null),e.state.viewport&&e.state.viewport.propDep&&(r=!0),B(t,n,e),N(t,n,e.state,(function(t){return!s(t)})),e.profile&&s(e.profile)||z(t,n,e,!1,"a1"),e.contextDep=r,e.needsContext=o,e.needsFramebuffer=a;var u=e.shader.progVar;if(u.contextDep&&r||u.propDep)Q(t,n,e,null);else{var c=u.append(t,n);if(n(t.shared.gl,".useProgram(",c,".program);"),e.shader.program)Q(t,n,e,e.shader.program);else{var f=t.global.def("{}"),l=n.def(c,".id"),p=n.def(f,"[",l,"]");n(t.cond(p).then(p,".call(this,a0,a1);").else(p,"=",f,"[",l,"]=",t.link((function(n){return W(Q,t,e,n,2)})),"(",c,");",p,".call(this,a0,a1);"))}}Object.keys(e.state).length>0&&n(t.shared.current,".dirty=true;")}(a,s),a.compile()}}}var ae=function(t,e){if(!e.ext_disjoint_timer_query)return null;var n=[];function r(t){n.push(t)}var o=[];function i(){this.startQueryIndex=-1,this.endQueryIndex=-1,this.sum=0,this.stats=null}var a=[];function s(t){a.push(t)}var u=[];function c(t,e,n){var r=a.pop()||new i;r.startQueryIndex=t,r.endQueryIndex=e,r.sum=0,r.stats=n,u.push(r)}var f=[],l=[];return{beginQuery:function(t){var r=n.pop()||e.ext_disjoint_timer_query.createQueryEXT();e.ext_disjoint_timer_query.beginQueryEXT(35007,r),o.push(r),c(o.length-1,o.length,t)},endQuery:function(){e.ext_disjoint_timer_query.endQueryEXT(35007)},pushScopeStats:c,update:function(){var t,n,i=o.length;if(0!==i){l.length=Math.max(l.length,i+1),f.length=Math.max(f.length,i+1),f[0]=0,l[0]=0;var a=0;for(t=0,n=0;n<o.length;++n){var c=o[n];e.ext_disjoint_timer_query.getQueryObjectEXT(c,34919)?(a+=e.ext_disjoint_timer_query.getQueryObjectEXT(c,34918),r(c)):o[t++]=c,f[n+1]=a,l[n+1]=t}for(o.length=t,t=0,n=0;n<u.length;++n){var p=u[n],h=p.startQueryIndex,d=p.endQueryIndex;p.sum+=f[d]-f[h];var m=l[h],g=l[d];g===m?(p.stats.gpuTime+=p.sum/1e6,s(p)):(p.startQueryIndex=m,p.endQueryIndex=g,u[t++]=p)}u.length=t}},getNumPendingQueries:function(){return o.length},clear:function(){n.push.apply(n,o);for(var t=0;t<n.length;t++)e.ext_disjoint_timer_query.deleteQueryEXT(n[t]);o.length=0,n.length=0},restore:function(){o.length=0,n.length=0}}};function se(t,e){for(var n=0;n<t.length;++n)if(t[n]===e)return n;return-1}return function(n){var r=U(n);if(!r)return null;var o=r.gl,i=o.getContextAttributes(),a=o.isContextLost(),s=function(t,e){var n={};function r(e){x.type(e,"string","extension name must be string");var r,o=e.toLowerCase();try{r=n[o]=t.getExtension(o)}catch(t){}return!!r}for(var o=0;o<e.extensions.length;++o){var i=e.extensions[o];if(!r(i))return e.onDestroy(),e.onDone('"'+i+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),null}return e.optionalExtensions.forEach(r),{extensions:n,restore:function(){Object.keys(n).forEach((function(t){if(n[t]&&!r(t))throw new Error("(regl): error restoring extension "+t)}))}}}(o,r);if(!s)return null;var u,c,f=(u={"":0},c=[""],{id:function(t){var e=u[t];return e||(e=u[t]=c.length,c.push(t),e)},str:function(t){return c[t]}}),l={bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0},p=s.extensions,h=ae(0,p),d=A(),m=o.drawingBufferWidth,g=o.drawingBufferHeight,y={tick:0,time:0,viewportWidth:m,viewportHeight:g,framebufferWidth:m,framebufferHeight:g,drawingBufferWidth:m,drawingBufferHeight:g,pixelRatio:r.pixelRatio},v=function(t,e){var n=1;e.ext_texture_filter_anisotropic&&(n=t.getParameter(34047));var r=1,o=1;e.webgl_draw_buffers&&(r=t.getParameter(34852),o=t.getParameter(36063));var i=!!e.oes_texture_float;if(i){var a=t.createTexture();t.bindTexture(3553,a),t.texImage2D(3553,0,6408,1,1,0,6408,5126,null);var s=t.createFramebuffer();if(t.bindFramebuffer(36160,s),t.framebufferTexture2D(36160,36064,3553,a,0),t.bindTexture(3553,null),36053!==t.checkFramebufferStatus(36160))i=!1;else{t.viewport(0,0,1,1),t.clearColor(1,0,0,1),t.clear(16384);var u=L.allocType(5126,4);t.readPixels(0,0,1,1,6408,5126,u),t.getError()?i=!1:(t.deleteFramebuffer(s),t.deleteTexture(a),i=1===u[0]),L.freeType(u)}}var c=!0;if("undefined"==typeof navigator||!(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion)||/Edge/.test(navigator.userAgent))){var f=t.createTexture(),l=L.allocType(5121,36);t.activeTexture(33984),t.bindTexture(34067,f),t.texImage2D(34069,0,6408,3,3,0,6408,5121,l),L.freeType(l),t.bindTexture(34067,null),t.deleteTexture(f),c=!t.getError()}return{colorBits:[t.getParameter(3410),t.getParameter(3411),t.getParameter(3412),t.getParameter(3413)],depthBits:t.getParameter(3414),stencilBits:t.getParameter(3415),subpixelBits:t.getParameter(3408),extensions:Object.keys(e).filter((function(t){return!!e[t]})),maxAnisotropic:n,maxDrawbuffers:r,maxColorAttachments:o,pointSizeDims:t.getParameter(33901),lineWidthDims:t.getParameter(33902),maxViewportDims:t.getParameter(3386),maxCombinedTextureUnits:t.getParameter(35661),maxCubeMapSize:t.getParameter(34076),maxRenderbufferSize:t.getParameter(34024),maxTextureUnits:t.getParameter(34930),maxTextureSize:t.getParameter(3379),maxAttributes:t.getParameter(34921),maxVertexUniforms:t.getParameter(36347),maxVertexTextureUnits:t.getParameter(35660),maxVaryingVectors:t.getParameter(36348),maxFragmentUniforms:t.getParameter(36349),glsl:t.getParameter(35724),renderer:t.getParameter(7937),vendor:t.getParameter(7936),version:t.getParameter(7938),readFloat:i,npotTextureCube:c}}(o,p),b=function(t,e,n,r){for(var o=n.maxAttributes,i=new Array(o),a=0;a<o;++a)i[a]=new Rt;return{Record:Rt,scope:{},state:i}}(0,0,v),w=function(e,n,r,o){var i=0,a={};function s(t){this.id=i++,this.buffer=e.createBuffer(),this.type=t,this.usage=35044,this.byteLength=0,this.dimension=1,this.dtype=5121,this.persistentData=null,r.profile&&(this.stats={size:0})}s.prototype.bind=function(){e.bindBuffer(this.type,this.buffer)},s.prototype.destroy=function(){l(this)};var u=[];function c(t,n,r){t.byteLength=n.byteLength,e.bufferData(t.type,n,r)}function f(e,n,r,o,i,a){var s,u;if(e.usage=r,Array.isArray(n)){if(e.dtype=o||5126,n.length>0)if(Array.isArray(n[0])){s=H(n);for(var f=1,l=1;l<s.length;++l)f*=s[l];e.dimension=f,c(e,u=z(n,s,e.dtype),r),a?e.persistentData=u:L.freeType(u)}else if("number"==typeof n[0]){e.dimension=i;var p=L.allocType(e.dtype,n.length);W(p,n),c(e,p,r),a?e.persistentData=p:L.freeType(p)}else t(n[0])?(e.dimension=n[0].length,e.dtype=o||Y(n[0])||5126,c(e,u=z(n,[n.length,n[0].length],e.dtype),r),a?e.persistentData=u:L.freeType(u)):x.raise("invalid buffer data")}else if(t(n))e.dtype=o||Y(n),e.dimension=i,c(e,n,r),a&&(e.persistentData=new Uint8Array(new Uint8Array(n.buffer)));else if(I(n)){s=n.shape;var h=n.stride,d=n.offset,m=0,g=0,y=0,v=0;1===s.length?(m=s[0],g=1,y=h[0],v=0):2===s.length?(m=s[0],g=s[1],y=h[0],v=h[1]):x.raise("invalid shape"),e.dtype=o||Y(n.data)||5126,e.dimension=g;var b=L.allocType(e.dtype,m*g);V(b,n.data,m,g,y,v,d),c(e,b,r),a?e.persistentData=b:L.freeType(b)}else n instanceof ArrayBuffer?(e.dtype=5121,e.dimension=i,c(e,n,r),a&&(e.persistentData=new Uint8Array(new Uint8Array(n)))):x.raise("invalid buffer data")}function l(t){n.bufferCount--;for(var r=0;r<o.state.length;++r){var i=o.state[r];i.buffer===t&&(e.disableVertexAttribArray(r),i.buffer=null)}var s=t.buffer;x(s,"buffer must not be deleted already"),e.deleteBuffer(s),t.buffer=null,delete a[t.id]}return r.profile&&(n.getTotalBufferSize=function(){var t=0;return Object.keys(a).forEach((function(e){t+=a[e].stats.size})),t}),{create:function(o,i,u,c){n.bufferCount++;var p=new s(i);function h(n){var o=35044,i=null,a=0,s=0,u=1;return Array.isArray(n)||t(n)||I(n)||n instanceof ArrayBuffer?i=n:"number"==typeof n?a=0|n:n&&(x.type(n,"object","buffer arguments must be an object, a number or an array"),"data"in n&&(x(null===i||Array.isArray(i)||t(i)||I(i),"invalid data for buffer"),i=n.data),"usage"in n&&(x.parameter(n.usage,G,"invalid buffer usage"),o=G[n.usage]),"type"in n&&(x.parameter(n.type,j,"invalid buffer type"),s=j[n.type]),"dimension"in n&&(x.type(n.dimension,"number","invalid dimension"),u=0|n.dimension),"length"in n&&(x.nni(a,"buffer length must be a nonnegative integer"),a=0|n.length)),p.bind(),i?f(p,i,o,s,u,c):(a&&e.bufferData(p.type,a,o),p.dtype=s||5121,p.usage=o,p.dimension=u,p.byteLength=a),r.profile&&(p.stats.size=p.byteLength*q[p.dtype]),h}function d(t,n){x(n+t.byteLength<=p.byteLength,"invalid buffer subdata call, buffer is too small.  Can't write data of size "+t.byteLength+" starting from offset "+n+" to a buffer of size "+p.byteLength),e.bufferSubData(p.type,n,t)}return a[p.id]=p,u||h(o),h._reglType="buffer",h._buffer=p,h.subdata=function(e,n){var r,o=0|(n||0);if(p.bind(),t(e)||e instanceof ArrayBuffer)d(e,o);else if(Array.isArray(e)){if(e.length>0)if("number"==typeof e[0]){var i=L.allocType(p.dtype,e.length);W(i,e),d(i,o),L.freeType(i)}else if(Array.isArray(e[0])||t(e[0])){r=H(e);var a=z(e,r,p.dtype);d(a,o),L.freeType(a)}else x.raise("invalid buffer data")}else if(I(e)){r=e.shape;var s=e.stride,u=0,c=0,f=0,l=0;1===r.length?(u=r[0],c=1,f=s[0],l=0):2===r.length?(u=r[0],c=r[1],f=s[0],l=s[1]):x.raise("invalid shape");var m=Array.isArray(e.data)?p.dtype:Y(e.data),g=L.allocType(m,u*c);V(g,e.data,u,c,f,l,e.offset),d(g,o),L.freeType(g)}else x.raise("invalid data for buffer subdata");return h},r.profile&&(h.stats=p.stats),h.destroy=function(){l(p)},h},createStream:function(t,e){var n=u.pop();return n||(n=new s(t)),n.bind(),f(n,e,35040,0,1,!1),n},destroyStream:function(t){u.push(t)},clear:function(){P(a).forEach(l),u.forEach(l)},getBuffer:function(t){return t&&t._buffer instanceof s?t._buffer:null},restore:function(){P(a).forEach((function(t){t.buffer=e.createBuffer(),e.bindBuffer(t.type,t.buffer),e.bufferData(t.type,t.persistentData||t.byteLength,t.usage)}))},_initBuffer:f}}(o,l,r,b),S=function(e,n,r,o){var i={},a=0,s={uint8:5121,uint16:5123};function u(t){this.id=a++,i[this.id]=this,this.buffer=t,this.primType=4,this.vertCount=0,this.type=0}n.oes_element_index_uint&&(s.uint32=5125),u.prototype.bind=function(){this.buffer.bind()};var c=[];function f(o,i,a,s,u,c,f){if(o.buffer.bind(),i){var l=f;f||t(i)&&(!I(i)||t(i.data))||(l=n.oes_element_index_uint?5125:5123),r._initBuffer(o.buffer,i,a,l,3)}else e.bufferData(34963,c,a),o.buffer.dtype=p||5121,o.buffer.usage=a,o.buffer.dimension=3,o.buffer.byteLength=c;var p=f;if(!f){switch(o.buffer.dtype){case 5121:case 5120:p=5121;break;case 5123:case 5122:p=5123;break;case 5125:case 5124:p=5125;break;default:x.raise("unsupported type for element array")}o.buffer.dtype=p}o.type=p,x(5125!==p||!!n.oes_element_index_uint,"32 bit element buffers not supported, enable oes_element_index_uint first");var h=u;h<0&&(h=o.buffer.byteLength,5123===p?h>>=1:5125===p&&(h>>=2)),o.vertCount=h;var d=s;if(s<0){d=4;var m=o.buffer.dimension;1===m&&(d=0),2===m&&(d=1),3===m&&(d=4)}o.primType=d}function l(t){o.elementsCount--,x(null!==t.buffer,"must not double destroy elements"),delete i[t.id],t.buffer.destroy(),t.buffer=null}return{create:function(e,n){var i=r.create(null,34963,!0),a=new u(i._buffer);function c(e){if(e)if("number"==typeof e)i(e),a.primType=4,a.vertCount=0|e,a.type=5121;else{var n=null,r=35044,o=-1,u=-1,l=0,p=0;Array.isArray(e)||t(e)||I(e)?n=e:(x.type(e,"object","invalid arguments for elements"),"data"in e&&(n=e.data,x(Array.isArray(n)||t(n)||I(n),"invalid data for element buffer")),"usage"in e&&(x.parameter(e.usage,G,"invalid element buffer usage"),r=G[e.usage]),"primitive"in e&&(x.parameter(e.primitive,X,"invalid element buffer primitive"),o=X[e.primitive]),"count"in e&&(x("number"==typeof e.count&&e.count>=0,"invalid vertex count for elements"),u=0|e.count),"type"in e&&(x.parameter(e.type,s,"invalid buffer type"),p=s[e.type]),"length"in e?l=0|e.length:(l=u,5123===p||5122===p?l*=2:5125!==p&&5124!==p||(l*=4))),f(a,n,r,o,u,l,p)}else i(),a.primType=4,a.vertCount=0,a.type=5121;return c}return o.elementsCount++,c(e),c._reglType="elements",c._elements=a,c.subdata=function(t,e){return i.subdata(t,e),c},c.destroy=function(){l(a)},c},createStream:function(t){var e=c.pop();return e||(e=new u(r.create(null,34963,!0,!1)._buffer)),f(e,t,35040,-1,-1,0,0),e},destroyStream:function(t){c.push(t)},getElements:function(t){return"function"==typeof t&&t._elements instanceof u?t._elements:null},clear:function(){P(i).forEach(l)}}}(o,p,w,l),M=function(t,e,n,r){var o={},i={};function a(t,e,n,r){this.name=t,this.id=e,this.location=n,this.info=r}function s(t,e){for(var n=0;n<t.length;++n)if(t[n].id===e.id)return void(t[n].location=e.location);t.push(e)}function u(n,r,a){var s=35632===n?o:i,u=s[r];if(!u){var c=e.str(r);u=t.createShader(n),t.shaderSource(u,c),t.compileShader(u),x.shaderError(t,u,c,n,a),s[r]=u}return u}var c={},f=[],l=0;function p(t,e){this.id=l++,this.fragId=t,this.vertId=e,this.program=null,this.uniforms=[],this.attributes=[],r.profile&&(this.stats={uniformsCount:0,attributesCount:0})}function h(n,o){var i,c,f=u(35632,n.fragId),l=u(35633,n.vertId),p=n.program=t.createProgram();t.attachShader(p,f),t.attachShader(p,l),t.linkProgram(p),x.linkError(t,p,e.str(n.fragId),e.str(n.vertId),o);var h=t.getProgramParameter(p,35718);r.profile&&(n.stats.uniformsCount=h);var d=n.uniforms;for(i=0;i<h;++i)if(c=t.getActiveUniform(p,i))if(c.size>1)for(var m=0;m<c.size;++m){var g=c.name.replace("[0]","["+m+"]");s(d,new a(g,e.id(g),t.getUniformLocation(p,g),c))}else s(d,new a(c.name,e.id(c.name),t.getUniformLocation(p,c.name),c));var y=t.getProgramParameter(p,35721);r.profile&&(n.stats.attributesCount=y);var v=n.attributes;for(i=0;i<y;++i)(c=t.getActiveAttrib(p,i))&&s(v,new a(c.name,e.id(c.name),t.getAttribLocation(p,c.name),c))}return r.profile&&(n.getMaxUniformsCount=function(){var t=0;return f.forEach((function(e){e.stats.uniformsCount>t&&(t=e.stats.uniformsCount)})),t},n.getMaxAttributesCount=function(){var t=0;return f.forEach((function(e){e.stats.attributesCount>t&&(t=e.stats.attributesCount)})),t}),{clear:function(){var e=t.deleteShader.bind(t);P(o).forEach(e),o={},P(i).forEach(e),i={},f.forEach((function(e){t.deleteProgram(e.program)})),f.length=0,c={},n.shaderCount=0},program:function(t,e,r){x.command(t>=0,"missing vertex shader",r),x.command(e>=0,"missing fragment shader",r);var o=c[e];o||(o=c[e]={});var i=o[t];return i||(i=new p(e,t),n.shaderCount++,h(i,r),o[t]=i,f.push(i)),i},restore:function(){o={},i={};for(var t=0;t<f.length;++t)h(f[t])},shader:u,frag:-1,vert:-1}}(o,f,l,r),k=wt(o,p,v,(function(){_.procs.poll()}),y,l,r),O=function(t,e,n,r,o){var i={rgba4:32854,rgb565:36194,"rgb5 a1":32855,depth:33189,stencil:36168,"depth stencil":34041};e.ext_srgb&&(i.srgba=35907),e.ext_color_buffer_half_float&&(i.rgba16f=34842,i.rgb16f=34843),e.webgl_color_buffer_float&&(i.rgba32f=34836);var a=[];Object.keys(i).forEach((function(t){var e=i[t];a[e]=t}));var s=0,u={};function c(t){this.id=s++,this.refCount=1,this.renderbuffer=t,this.format=32854,this.width=0,this.height=0,o.profile&&(this.stats={size:0})}function f(e){var n=e.renderbuffer;x(n,"must not double destroy renderbuffer"),t.bindRenderbuffer(36161,null),t.deleteRenderbuffer(n),e.renderbuffer=null,e.refCount=0,delete u[e.id],r.renderbufferCount--}return c.prototype.decRef=function(){--this.refCount<=0&&f(this)},o.profile&&(r.getTotalRenderbufferSize=function(){var t=0;return Object.keys(u).forEach((function(e){t+=u[e].stats.size})),t}),{create:function(e,s){var f=new c(t.createRenderbuffer());function l(e,r){var s=0,u=0,c=32854;if("object"==typeof e&&e){var p=e;if("shape"in p){var h=p.shape;x(Array.isArray(h)&&h.length>=2,"invalid renderbuffer shape"),s=0|h[0],u=0|h[1]}else"radius"in p&&(s=u=0|p.radius),"width"in p&&(s=0|p.width),"height"in p&&(u=0|p.height);"format"in p&&(x.parameter(p.format,i,"invalid renderbuffer format"),c=i[p.format])}else"number"==typeof e?(s=0|e,u="number"==typeof r?0|r:s):e?x.raise("invalid arguments to renderbuffer constructor"):s=u=1;if(x(s>0&&u>0&&s<=n.maxRenderbufferSize&&u<=n.maxRenderbufferSize,"invalid renderbuffer size"),s!==f.width||u!==f.height||c!==f.format)return l.width=f.width=s,l.height=f.height=u,f.format=c,t.bindRenderbuffer(36161,f.renderbuffer),t.renderbufferStorage(36161,c,s,u),x(0===t.getError(),"invalid render buffer format"),o.profile&&(f.stats.size=Mt(f.format,f.width,f.height)),l.format=a[f.format],l}return u[f.id]=f,r.renderbufferCount++,l(e,s),l.resize=function(e,r){var i=0|e,a=0|r||i;return i===f.width&&a===f.height||(x(i>0&&a>0&&i<=n.maxRenderbufferSize&&a<=n.maxRenderbufferSize,"invalid renderbuffer size"),l.width=f.width=i,l.height=f.height=a,t.bindRenderbuffer(36161,f.renderbuffer),t.renderbufferStorage(36161,f.format,i,a),x(0===t.getError(),"invalid render buffer format"),o.profile&&(f.stats.size=Mt(f.format,f.width,f.height))),l},l._reglType="renderbuffer",l._renderbuffer=f,o.profile&&(l.stats=f.stats),l.destroy=function(){f.decRef()},l},clear:function(){P(u).forEach(f)},restore:function(){P(u).forEach((function(e){e.renderbuffer=t.createRenderbuffer(),t.bindRenderbuffer(36161,e.renderbuffer),t.renderbufferStorage(36161,e.format,e.width,e.height)})),t.bindRenderbuffer(36161,null)}}}(o,p,v,l,r),R=function(t,n,r,o,i,a){var s={cur:null,next:null,dirty:!1,setFBO:null},u=["rgba"],c=["rgba4","rgb565","rgb5 a1"];n.ext_srgb&&c.push("srgba"),n.ext_color_buffer_half_float&&c.push("rgba16f","rgb16f"),n.webgl_color_buffer_float&&c.push("rgba32f");var f=["uint8"];function l(t,e,n){this.target=t,this.texture=e,this.renderbuffer=n;var r=0,o=0;e?(r=e.width,o=e.height):n&&(r=n.width,o=n.height),this.width=r,this.height=o}function p(t){t&&(t.texture&&t.texture._texture.decRef(),t.renderbuffer&&t.renderbuffer._renderbuffer.decRef())}function h(t,e,n){if(t)if(t.texture){var r=t.texture._texture,o=Math.max(1,r.width),i=Math.max(1,r.height);x(o===e&&i===n,"inconsistent width/height for supplied texture"),r.refCount+=1}else{var a=t.renderbuffer._renderbuffer;x(a.width===e&&a.height===n,"inconsistent width/height for renderbuffer"),a.refCount+=1}}function d(e,n){n&&(n.texture?t.framebufferTexture2D(36160,e,n.target,n.texture._texture.texture,0):t.framebufferRenderbuffer(36160,e,36161,n.renderbuffer._renderbuffer.renderbuffer))}function m(t){var e=3553,n=null,r=null,o=t;"object"==typeof t&&(o=t.data,"target"in t&&(e=0|t.target)),x.type(o,"function","invalid attachment data");var i=o._reglType;return"texture2d"===i?(n=o,x(3553===e)):"textureCube"===i?(n=o,x(e>=34069&&e<34075,"invalid cube map target")):"renderbuffer"===i?(r=o,e=36161):x.raise("invalid regl object for attachment"),new l(e,n,r)}function g(t,e,n,r,a){if(n){var s=o.create2D({width:t,height:e,format:r,type:a});return s._texture.refCount=0,new l(3553,s,null)}var u=i.create({width:t,height:e,format:r});return u._renderbuffer.refCount=0,new l(36161,null,u)}function y(t){return t&&(t.texture||t.renderbuffer)}function v(t,e,n){t&&(t.texture?t.texture.resize(e,n):t.renderbuffer&&t.renderbuffer.resize(e,n),t.width=e,t.height=n)}n.oes_texture_half_float&&f.push("half float","float16"),n.oes_texture_float&&f.push("float","float32");var b=0,w={};function S(){this.id=b++,w[this.id]=this,this.framebuffer=t.createFramebuffer(),this.width=0,this.height=0,this.colorAttachments=[],this.depthAttachment=null,this.stencilAttachment=null,this.depthStencilAttachment=null}function M(t){t.colorAttachments.forEach(p),p(t.depthAttachment),p(t.stencilAttachment),p(t.depthStencilAttachment)}function k(e){var n=e.framebuffer;x(n,"must not double destroy framebuffer"),t.deleteFramebuffer(n),e.framebuffer=null,a.framebufferCount--,delete w[e.id]}function T(e){var n;t.bindFramebuffer(36160,e.framebuffer);var o=e.colorAttachments;for(n=0;n<o.length;++n)d(36064+n,o[n]);for(n=o.length;n<r.maxColorAttachments;++n)t.framebufferTexture2D(36160,36064+n,3553,null,0);t.framebufferTexture2D(36160,33306,3553,null,0),t.framebufferTexture2D(36160,36096,3553,null,0),t.framebufferTexture2D(36160,36128,3553,null,0),d(36096,e.depthAttachment),d(36128,e.stencilAttachment),d(33306,e.depthStencilAttachment);var i=t.checkFramebufferStatus(36160);t.isContextLost()||36053===i||x.raise("framebuffer configuration not supported, status = "+Ot[i]),t.bindFramebuffer(36160,s.next?s.next.framebuffer:null),s.cur=s.next,t.getError()}function E(t,o){var i=new S;function l(t,e){var o;x(s.next!==i,"can not update framebuffer which is currently in use");var a=0,p=0,d=!0,v=!0,b=null,w=!0,S="rgba",k="uint8",E=1,A=null,O=null,R=null,U=!1;if("number"==typeof t)a=0|t,p=0|e||a;else if(t){x.type(t,"object","invalid arguments for framebuffer");var _=t;if("shape"in _){var D=_.shape;x(Array.isArray(D)&&D.length>=2,"invalid shape for framebuffer"),a=D[0],p=D[1]}else"radius"in _&&(a=p=_.radius),"width"in _&&(a=_.width),"height"in _&&(p=_.height);("color"in _||"colors"in _)&&(b=_.color||_.colors,Array.isArray(b)&&x(1===b.length||n.webgl_draw_buffers,"multiple render targets not supported")),b||("colorCount"in _&&(E=0|_.colorCount,x(E>0,"invalid color buffer count")),"colorTexture"in _&&(w=!!_.colorTexture,S="rgba4"),"colorType"in _&&(k=_.colorType,w?(x(n.oes_texture_float||!("float"===k||"float32"===k),"you must enable OES_texture_float in order to use floating point framebuffer objects"),x(n.oes_texture_half_float||!("half float"===k||"float16"===k),"you must enable OES_texture_half_float in order to use 16-bit floating point framebuffer objects")):"half float"===k||"float16"===k?(x(n.ext_color_buffer_half_float,"you must enable EXT_color_buffer_half_float to use 16-bit render buffers"),S="rgba16f"):"float"!==k&&"float32"!==k||(x(n.webgl_color_buffer_float,"you must enable WEBGL_color_buffer_float in order to use 32-bit floating point renderbuffers"),S="rgba32f"),x.oneOf(k,f,"invalid color type")),"colorFormat"in _&&(S=_.colorFormat,u.indexOf(S)>=0?w=!0:c.indexOf(S)>=0?w=!1:w?x.oneOf(_.colorFormat,u,"invalid color format for texture"):x.oneOf(_.colorFormat,c,"invalid color format for renderbuffer"))),("depthTexture"in _||"depthStencilTexture"in _)&&(U=!(!_.depthTexture&&!_.depthStencilTexture),x(!U||n.webgl_depth_texture,"webgl_depth_texture extension not supported")),"depth"in _&&("boolean"==typeof _.depth?d=_.depth:(A=_.depth,v=!1)),"stencil"in _&&("boolean"==typeof _.stencil?v=_.stencil:(O=_.stencil,d=!1)),"depthStencil"in _&&("boolean"==typeof _.depthStencil?d=v=_.depthStencil:(R=_.depthStencil,d=!1,v=!1))}else a=p=1;var C=null,L=null,I=null,P=null;if(Array.isArray(b))C=b.map(m);else if(b)C=[m(b)];else for(C=new Array(E),o=0;o<E;++o)C[o]=g(a,p,w,S,k);x(n.webgl_draw_buffers||C.length<=1,"you must enable the WEBGL_draw_buffers extension in order to use multiple color buffers."),x(C.length<=r.maxColorAttachments,"too many color attachments, not supported"),a=a||C[0].width,p=p||C[0].height,A?L=m(A):d&&!v&&(L=g(a,p,U,"depth","uint32")),O?I=m(O):v&&!d&&(I=g(a,p,!1,"stencil","uint8")),R?P=m(R):!A&&!O&&v&&d&&(P=g(a,p,U,"depth stencil","depth stencil")),x(!!A+!!O+!!R<=1,"invalid framebuffer configuration, can specify exactly one depth/stencil attachment");var F=null;for(o=0;o<C.length;++o)if(h(C[o],a,p),x(!C[o]||C[o].texture&&kt.indexOf(C[o].texture._texture.format)>=0||C[o].renderbuffer&&At.indexOf(C[o].renderbuffer._renderbuffer.format)>=0,"framebuffer color attachment "+o+" is invalid"),C[o]&&C[o].texture){var B=Tt[C[o].texture._texture.format]*Et[C[o].texture._texture.type];null===F?F=B:x(F===B,"all color attachments much have the same number of bits per pixel.")}return h(L,a,p),x(!L||L.texture&&6402===L.texture._texture.format||L.renderbuffer&&33189===L.renderbuffer._renderbuffer.format,"invalid depth attachment for framebuffer object"),h(I,a,p),x(!I||I.renderbuffer&&36168===I.renderbuffer._renderbuffer.format,"invalid stencil attachment for framebuffer object"),h(P,a,p),x(!P||P.texture&&34041===P.texture._texture.format||P.renderbuffer&&34041===P.renderbuffer._renderbuffer.format,"invalid depth-stencil attachment for framebuffer object"),M(i),i.width=a,i.height=p,i.colorAttachments=C,i.depthAttachment=L,i.stencilAttachment=I,i.depthStencilAttachment=P,l.color=C.map(y),l.depth=y(L),l.stencil=y(I),l.depthStencil=y(P),l.width=i.width,l.height=i.height,T(i),l}return a.framebufferCount++,l(t,o),e(l,{resize:function(t,e){x(s.next!==i,"can not resize a framebuffer which is currently in use");var n=Math.max(0|t,1),r=Math.max(0|e||n,1);if(n===i.width&&r===i.height)return l;for(var o=i.colorAttachments,a=0;a<o.length;++a)v(o[a],n,r);return v(i.depthAttachment,n,r),v(i.stencilAttachment,n,r),v(i.depthStencilAttachment,n,r),i.width=l.width=n,i.height=l.height=r,T(i),l},_reglType:"framebuffer",_framebuffer:i,destroy:function(){k(i),M(i)},use:function(t){s.setFBO({framebuffer:l},t)}})}return e(s,{getFramebuffer:function(t){if("function"==typeof t&&"framebuffer"===t._reglType){var e=t._framebuffer;if(e instanceof S)return e}return null},create:E,createCube:function(t){var i=Array(6);function a(t){var r;x(i.indexOf(s.next)<0,"can not update framebuffer which is currently in use");var c,l={color:null},p=0,h=null,d="rgba",m="uint8",g=1;if("number"==typeof t)p=0|t;else if(t){x.type(t,"object","invalid arguments for framebuffer");var y=t;if("shape"in y){var v=y.shape;x(Array.isArray(v)&&v.length>=2,"invalid shape for framebuffer"),x(v[0]===v[1],"cube framebuffer must be square"),p=v[0]}else"radius"in y&&(p=0|y.radius),"width"in y?(p=0|y.width,"height"in y&&x(y.height===p,"must be square")):"height"in y&&(p=0|y.height);("color"in y||"colors"in y)&&(h=y.color||y.colors,Array.isArray(h)&&x(1===h.length||n.webgl_draw_buffers,"multiple render targets not supported")),h||("colorCount"in y&&(g=0|y.colorCount,x(g>0,"invalid color buffer count")),"colorType"in y&&(x.oneOf(y.colorType,f,"invalid color type"),m=y.colorType),"colorFormat"in y&&(d=y.colorFormat,x.oneOf(y.colorFormat,u,"invalid color format for texture"))),"depth"in y&&(l.depth=y.depth),"stencil"in y&&(l.stencil=y.stencil),"depthStencil"in y&&(l.depthStencil=y.depthStencil)}else p=1;if(h)if(Array.isArray(h))for(c=[],r=0;r<h.length;++r)c[r]=h[r];else c=[h];else{c=Array(g);var b={radius:p,format:d,type:m};for(r=0;r<g;++r)c[r]=o.createCube(b)}for(l.color=Array(c.length),r=0;r<c.length;++r){var w=c[r];x("function"==typeof w&&"textureCube"===w._reglType,"invalid cube map"),p=p||w.width,x(w.width===p&&w.height===p,"invalid cube map shape"),l.color[r]={target:34069,data:c[r]}}for(r=0;r<6;++r){for(var S=0;S<c.length;++S)l.color[S].target=34069+r;r>0&&(l.depth=i[0].depth,l.stencil=i[0].stencil,l.depthStencil=i[0].depthStencil),i[r]?i[r](l):i[r]=E(l)}return e(a,{width:p,height:p,color:c})}return a(t),e(a,{faces:i,resize:function(t){var e,n=0|t;if(x(n>0&&n<=r.maxCubeMapSize,"invalid radius for cube fbo"),n===a.width)return a;var o=a.color;for(e=0;e<o.length;++e)o[e].resize(n);for(e=0;e<6;++e)i[e].resize(n);return a.width=a.height=n,a},_reglType:"framebufferCube",destroy:function(){i.forEach((function(t){t.destroy()}))}})},clear:function(){P(w).forEach(k)},restore:function(){s.cur=null,s.next=null,s.dirty=!0,P(w).forEach((function(e){e.framebuffer=t.createFramebuffer(),T(e)}))}})}(o,p,v,k,O,l),_=ie(o,f,p,v,w,S,0,R,{},b,M,{elements:null,primitive:4,count:-1,offset:0,instances:-1},y,h,r),D=Ut(o,R,_.procs.poll,y,i,p,v),C=_.next,F=o.canvas,B=[],N=[],Z=[],Q=[r.onDestroy],$=null;function K(){if(0===B.length)return h&&h.update(),void($=null);$=E.next(K),ut();for(var t=B.length-1;t>=0;--t){var e=B[t];e&&e(y,null,0)}o.flush(),h&&h.update()}function J(){!$&&B.length>0&&($=E.next(K))}function tt(){$&&(E.cancel(K),$=null)}function et(t){t.preventDefault(),a=!0,tt(),N.forEach((function(t){t()}))}function nt(t){o.getError(),a=!1,s.restore(),M.restore(),w.restore(),k.restore(),O.restore(),R.restore(),h&&h.restore(),_.procs.refresh(),J(),Z.forEach((function(t){t()}))}function rt(t){function n(t){var e={},n={};return Object.keys(t).forEach((function(r){var o=t[r];T.isDynamic(o)?n[r]=T.unbox(o,r):e[r]=o})),{dynamic:n,static:e}}x(!!t,"invalid args to regl({...})"),x.type(t,"object","invalid args to regl({...})");var r=n(t.context||{}),o=n(t.uniforms||{}),i=n(t.attributes||{}),s=n(function(t){var n=e({},t);function r(t){if(t in n){var e=n[t];delete n[t],Object.keys(e).forEach((function(r){n[t+"."+r]=e[r]}))}}return delete n.uniforms,delete n.attributes,delete n.context,"stencil"in n&&n.stencil.op&&(n.stencil.opBack=n.stencil.opFront=n.stencil.op,delete n.stencil.op),r("blend"),r("depth"),r("cull"),r("stencil"),r("polygonOffset"),r("scissor"),r("sample"),n}(t)),u={gpuTime:0,cpuTime:0,count:0},c=_.compile(s,i,o,r,u),f=c.draw,l=c.batch,p=c.scope,h=[];return e((function(t,e){var n;if(a&&x.raise("context lost"),"function"==typeof t)return p.call(this,null,t,0);if("function"==typeof e){if("number"==typeof t){for(n=0;n<t;++n)p.call(this,null,e,n);return}if(Array.isArray(t)){for(n=0;n<t.length;++n)p.call(this,t[n],e,n);return}return p.call(this,t,e,0)}if("number"==typeof t){if(t>0)return l.call(this,function(t){for(;h.length<t;)h.push(null);return h}(0|t),0|t)}else{if(!Array.isArray(t))return f.call(this,t);if(t.length)return l.call(this,t,t.length)}}),{stats:u})}F&&(F.addEventListener("webglcontextlost",et,!1),F.addEventListener("webglcontextrestored",nt,!1));var ot=R.setFBO=rt({framebuffer:T.define.call(null,1,"framebuffer")});function it(t,e){var n=0;_.procs.poll();var r=e.color;r&&(o.clearColor(+r[0]||0,+r[1]||0,+r[2]||0,+r[3]||0),n|=16384),"depth"in e&&(o.clearDepth(+e.depth),n|=256),"stencil"in e&&(o.clearStencil(0|e.stencil),n|=1024),x(!!n,"called regl.clear with no buffer specified"),o.clear(n)}function at(t){return x.type(t,"function","regl.frame() callback must be a function"),B.push(t),J(),{cancel:function(){var e=se(B,t);x(e>=0,"cannot cancel a frame twice"),B[e]=function t(){var e=se(B,t);B[e]=B[B.length-1],B.length-=1,B.length<=0&&tt()}}}}function st(){var t=C.viewport,e=C.scissor_box;t[0]=t[1]=e[0]=e[1]=0,y.viewportWidth=y.framebufferWidth=y.drawingBufferWidth=t[2]=e[2]=o.drawingBufferWidth,y.viewportHeight=y.framebufferHeight=y.drawingBufferHeight=t[3]=e[3]=o.drawingBufferHeight}function ut(){y.tick+=1,y.time=ft(),st(),_.procs.poll()}function ct(){st(),_.procs.refresh(),h&&h.update()}function ft(){return(A()-d)/1e3}ct();var lt=e(rt,{clear:function(t){if(x("object"==typeof t&&t,"regl.clear() takes an object as input"),"framebuffer"in t)if(t.framebuffer&&"framebufferCube"===t.framebuffer_reglType)for(var n=0;n<6;++n)ot(e({framebuffer:t.framebuffer.faces[n]},t),it);else ot(t,it);else it(0,t)},prop:T.define.bind(null,1),context:T.define.bind(null,2),this:T.define.bind(null,3),draw:rt({}),buffer:function(t){return w.create(t,34962,!1,!1)},elements:function(t){return S.create(t,!1)},texture:k.create2D,cube:k.createCube,renderbuffer:O.create,framebuffer:R.create,framebufferCube:R.createCube,attributes:i,frame:at,on:function(t,e){var n;switch(x.type(e,"function","listener callback must be a function"),t){case"frame":return at(e);case"lost":n=N;break;case"restore":n=Z;break;case"destroy":n=Q;break;default:x.raise("invalid event, must be one of frame,lost,restore,destroy")}return n.push(e),{cancel:function(){for(var t=0;t<n.length;++t)if(n[t]===e)return n[t]=n[n.length-1],void n.pop()}}},limits:v,hasExtension:function(t){return v.extensions.indexOf(t.toLowerCase())>=0},read:D,destroy:function(){B.length=0,tt(),F&&(F.removeEventListener("webglcontextlost",et),F.removeEventListener("webglcontextrestored",nt)),M.clear(),R.clear(),O.clear(),k.clear(),S.clear(),w.clear(),h&&h.clear(),Q.forEach((function(t){t()}))},_gl:o,_refresh:ct,poll:function(){ut(),h&&h.update()},now:ft,stats:l});return r.onDone(null,lt),lt}}()},888:function(t,e,n){"use strict";var r=n(889),o=n(391),i=n(903),a=n(393),s=n(280);t.exports=function(t,e){e=r(e=e||{},{center:[0,0,0]}),t=s.convert(t,s.ARRAY_OF_ARRAYS);var n=o(t),u=[-.5*(n[0][0]+n[1][0])+e.center[0],-.5*(n[0][1]+n[1][1])+e.center[1],-.5*(n[0][2]+n[1][2])+e.center[2]],c=i.create();return i.translate(c,c,u),a(t,c)}},889:function(t,e,n){var r=n(890),o=n(389);var i,a,s=(i=r,a=function t(e,n){return void 0===e?n:r(e,n,t)},o((function(t){var e=t[0];return null==e?e:(t.push(a),i.apply(void 0,t))})));t.exports=s},890:function(t,e,n){var r=n(891),o=n(892),i=n(893),a=n(217),s=n(279),u=n(896),c=n(898),f=n(899),l=n(901);var p,h=(p="length",function(t){return null==t?void 0:t[p]});function d(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}(h(t))}var m=i((function t(e,n,i,p,h){if(g=typeof(m=e),!m||"object"!=g&&"function"!=g)return e;var m,g,y=d(n)&&(s(n)||c(n)),v=y?void 0:f(n);return o(v||n,(function(o,f){if(v&&(o=n[f=o]),function(t){return!!t&&"object"==typeof t}(o))p||(p=[]),h||(h=[]),function(t,e,n,o,i,f,p){var h=f.length,m=e[n];for(;h--;)if(f[h]==m)return void(t[n]=p[h]);var g=t[n],y=i?i(g,m,n,t,e):void 0,v=void 0===y;v&&(y=m,d(m)&&(s(m)||c(m))?y=s(g)?g:d(g)?r(g):[]:u(m)||a(m)?y=a(g)?l(g):u(g)?g:{}:v=!1);f.push(m),p.push(y),v?t[n]=o(y,m,i,f,p):(y==y?y!==g:g==g)&&(t[n]=y)}(e,n,f,t,i,p,h);else{var m=e[f],g=i?i(m,o,f,e,n):void 0,b=void 0===g;b&&(g=o),void 0===g&&(!y||f in e)||!b&&(g==g?g===m:m!=m)||(e[f]=g)}})),e}));t.exports=m},891:function(t,e){t.exports=function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}},892:function(t,e){t.exports=function(t,e){for(var n=-1,r=t.length;++n<r&&!1!==e(t[n],n,t););return t}},893:function(t,e,n){var r=n(894),o=n(895),i=n(389);t.exports=function(t){return i((function(e,n){var i=-1,a=null==e?0:n.length,s=a>2?n[a-2]:void 0,u=a>2?n[2]:void 0,c=a>1?n[a-1]:void 0;for("function"==typeof s?(s=r(s,c,5),a-=2):a-=(s="function"==typeof c?c:void 0)?1:0,u&&o(n[0],n[1],u)&&(s=a<3?void 0:s,a=1);++i<a;){var f=n[i];f&&t(e,f,s)}return e}))}},894:function(t,e){function n(t){return t}t.exports=function(t,e,r){if("function"!=typeof t)return n;if(void 0===e)return t;switch(r){case 1:return function(n){return t.call(e,n)};case 3:return function(n,r,o){return t.call(e,n,r,o)};case 4:return function(n,r,o,i){return t.call(e,n,r,o,i)};case 5:return function(n,r,o,i,a){return t.call(e,n,r,o,i,a)}}return function(){return t.apply(e,arguments)}}},895:function(t,e){var n=/^\d+$/;var r,o=(r="length",function(t){return null==t?void 0:t[r]});function i(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}(o(t))}t.exports=function(t,e,r){if(!function(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}(r))return!1;var o=typeof e;if("number"==o?i(r)&&function(t,e){return e=null==e?9007199254740991:e,(t="number"==typeof t||n.test(t)?+t:-1)>-1&&t%1==0&&t<e}(e,r.length):"string"==o&&e in r){var a=r[e];return t==t?t===a:a!=a}return!1}},896:function(t,e,n){var r=n(897),o=n(217),i=n(390);var a=Object.prototype,s=a.hasOwnProperty,u=a.toString;t.exports=function(t){var e,n;return!(!function(t){return!!t&&"object"==typeof t}(t)||"[object Object]"!=u.call(t)||o(t)||!(s.call(t,"constructor")||"function"!=typeof(e=t.constructor)||e instanceof e))&&(r(t,(function(t,e){n=e}),i),void 0===n||s.call(t,n))}},897:function(t,e){var n,r=function(t,e,r){for(var o=-1,i=Object(t),a=r(t),s=a.length;s--;){var u=a[n?s:++o];if(!1===e(i[u],u,i))break}return t};t.exports=r},898:function(t,e){var n={};n["[object Float32Array]"]=n["[object Float64Array]"]=n["[object Int8Array]"]=n["[object Int16Array]"]=n["[object Int32Array]"]=n["[object Uint8Array]"]=n["[object Uint8ClampedArray]"]=n["[object Uint16Array]"]=n["[object Uint32Array]"]=!0,n["[object Arguments]"]=n["[object Array]"]=n["[object ArrayBuffer]"]=n["[object Boolean]"]=n["[object DataView]"]=n["[object Date]"]=n["[object Error]"]=n["[object Function]"]=n["[object Map]"]=n["[object Number]"]=n["[object Object]"]=n["[object RegExp]"]=n["[object Set]"]=n["[object String]"]=n["[object WeakMap]"]=!1;var r=Object.prototype.toString;t.exports=function(t){return function(t){return!!t&&"object"==typeof t}(t)&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}(t.length)&&!!n[r.call(t)]}},899:function(t,e,n){var r=n(900),o=n(217),i=n(279),a=/^\d+$/,s=Object.prototype.hasOwnProperty,u=r(Object,"keys");var c,f=(c="length",function(t){return null==t?void 0:t[c]});function l(t,e){return e=null==e?9007199254740991:e,(t="number"==typeof t||a.test(t)?+t:-1)>-1&&t%1==0&&t<e}function p(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}function h(t){for(var e=function(t){if(null==t)return[];d(t)||(t=Object(t));var e=t.length;e=e&&p(e)&&(i(t)||o(t))&&e||0;var n=t.constructor,r=-1,a="function"==typeof n&&n.prototype===t,u=Array(e),c=e>0;for(;++r<e;)u[r]=r+"";for(var f in t)c&&l(f,e)||"constructor"==f&&(a||!s.call(t,f))||u.push(f);return u}(t),n=e.length,r=n&&t.length,a=!!r&&p(r)&&(i(t)||o(t)),u=-1,c=[];++u<n;){var f=e[u];(a&&l(f,r)||s.call(t,f))&&c.push(f)}return c}function d(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}var m=u?function(t){var e,n=null==t?void 0:t.constructor;return"function"==typeof n&&n.prototype===t||"function"!=typeof t&&(null!=(e=t)&&p(f(e)))?h(t):d(t)?u(t):[]}:h;t.exports=m},900:function(t,e){var n=/^\[object .+?Constructor\]$/;var r=Object.prototype,o=Function.prototype.toString,i=r.hasOwnProperty,a=r.toString,s=RegExp("^"+o.call(i).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t,e){var r=null==t?void 0:t[e];return function(t){if(null==t)return!1;if(function(t){return function(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}(t)&&"[object Function]"==a.call(t)}(t))return s.test(o.call(t));return function(t){return!!t&&"object"==typeof t}(t)&&n.test(t)}(r)?r:void 0}},901:function(t,e,n){var r=n(902),o=n(390);t.exports=function(t){return r(t,o(t))}},902:function(t,e){t.exports=function(t,e,n){n||(n={});for(var r=-1,o=e.length;++r<o;){var i=e[r];n[i]=t[i]}return n}},903:function(t,e,n){t.exports={create:n(904),clone:n(905),copy:n(906),identity:n(392),transpose:n(907),invert:n(908),adjoint:n(909),determinant:n(910),multiply:n(911),translate:n(912),scale:n(913),rotate:n(914),rotateX:n(915),rotateY:n(916),rotateZ:n(917),fromRotation:n(918),fromRotationTranslation:n(919),fromScaling:n(920),fromTranslation:n(921),fromXRotation:n(922),fromYRotation:n(923),fromZRotation:n(924),fromQuat:n(925),frustum:n(926),perspective:n(927),perspectiveFromFieldOfView:n(928),ortho:n(929),lookAt:n(930),str:n(931)}},904:function(t,e){t.exports=function(){var t=new Float32Array(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},905:function(t,e){t.exports=function(t){var e=new Float32Array(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}},906:function(t,e){t.exports=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}},907:function(t,e){t.exports=function(t,e){if(t===e){var n=e[1],r=e[2],o=e[3],i=e[6],a=e[7],s=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=n,t[6]=e[9],t[7]=e[13],t[8]=r,t[9]=i,t[11]=e[14],t[12]=o,t[13]=a,t[14]=s}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t}},908:function(t,e){t.exports=function(t,e){var n=e[0],r=e[1],o=e[2],i=e[3],a=e[4],s=e[5],u=e[6],c=e[7],f=e[8],l=e[9],p=e[10],h=e[11],d=e[12],m=e[13],g=e[14],y=e[15],v=n*s-r*a,b=n*u-o*a,x=n*c-i*a,w=r*u-o*s,S=r*c-i*s,M=o*c-i*u,k=f*m-l*d,T=f*g-p*d,E=f*y-h*d,A=l*g-p*m,O=l*y-h*m,R=p*y-h*g,U=v*R-b*O+x*A+w*E-S*T+M*k;if(!U)return null;return U=1/U,t[0]=(s*R-u*O+c*A)*U,t[1]=(o*O-r*R-i*A)*U,t[2]=(m*M-g*S+y*w)*U,t[3]=(p*S-l*M-h*w)*U,t[4]=(u*E-a*R-c*T)*U,t[5]=(n*R-o*E+i*T)*U,t[6]=(g*x-d*M-y*b)*U,t[7]=(f*M-p*x+h*b)*U,t[8]=(a*O-s*E+c*k)*U,t[9]=(r*E-n*O-i*k)*U,t[10]=(d*S-m*x+y*v)*U,t[11]=(l*x-f*S-h*v)*U,t[12]=(s*T-a*A-u*k)*U,t[13]=(n*A-r*T+o*k)*U,t[14]=(m*b-d*w-g*v)*U,t[15]=(f*w-l*b+p*v)*U,t}},909:function(t,e){t.exports=function(t,e){var n=e[0],r=e[1],o=e[2],i=e[3],a=e[4],s=e[5],u=e[6],c=e[7],f=e[8],l=e[9],p=e[10],h=e[11],d=e[12],m=e[13],g=e[14],y=e[15];return t[0]=s*(p*y-h*g)-l*(u*y-c*g)+m*(u*h-c*p),t[1]=-(r*(p*y-h*g)-l*(o*y-i*g)+m*(o*h-i*p)),t[2]=r*(u*y-c*g)-s*(o*y-i*g)+m*(o*c-i*u),t[3]=-(r*(u*h-c*p)-s*(o*h-i*p)+l*(o*c-i*u)),t[4]=-(a*(p*y-h*g)-f*(u*y-c*g)+d*(u*h-c*p)),t[5]=n*(p*y-h*g)-f*(o*y-i*g)+d*(o*h-i*p),t[6]=-(n*(u*y-c*g)-a*(o*y-i*g)+d*(o*c-i*u)),t[7]=n*(u*h-c*p)-a*(o*h-i*p)+f*(o*c-i*u),t[8]=a*(l*y-h*m)-f*(s*y-c*m)+d*(s*h-c*l),t[9]=-(n*(l*y-h*m)-f*(r*y-i*m)+d*(r*h-i*l)),t[10]=n*(s*y-c*m)-a*(r*y-i*m)+d*(r*c-i*s),t[11]=-(n*(s*h-c*l)-a*(r*h-i*l)+f*(r*c-i*s)),t[12]=-(a*(l*g-p*m)-f*(s*g-u*m)+d*(s*p-u*l)),t[13]=n*(l*g-p*m)-f*(r*g-o*m)+d*(r*p-o*l),t[14]=-(n*(s*g-u*m)-a*(r*g-o*m)+d*(r*u-o*s)),t[15]=n*(s*p-u*l)-a*(r*p-o*l)+f*(r*u-o*s),t}},910:function(t,e){t.exports=function(t){var e=t[0],n=t[1],r=t[2],o=t[3],i=t[4],a=t[5],s=t[6],u=t[7],c=t[8],f=t[9],l=t[10],p=t[11],h=t[12],d=t[13],m=t[14],g=t[15];return(e*a-n*i)*(l*g-p*m)-(e*s-r*i)*(f*g-p*d)+(e*u-o*i)*(f*m-l*d)+(n*s-r*a)*(c*g-p*h)-(n*u-o*a)*(c*m-l*h)+(r*u-o*s)*(c*d-f*h)}},911:function(t,e){t.exports=function(t,e,n){var r=e[0],o=e[1],i=e[2],a=e[3],s=e[4],u=e[5],c=e[6],f=e[7],l=e[8],p=e[9],h=e[10],d=e[11],m=e[12],g=e[13],y=e[14],v=e[15],b=n[0],x=n[1],w=n[2],S=n[3];return t[0]=b*r+x*s+w*l+S*m,t[1]=b*o+x*u+w*p+S*g,t[2]=b*i+x*c+w*h+S*y,t[3]=b*a+x*f+w*d+S*v,b=n[4],x=n[5],w=n[6],S=n[7],t[4]=b*r+x*s+w*l+S*m,t[5]=b*o+x*u+w*p+S*g,t[6]=b*i+x*c+w*h+S*y,t[7]=b*a+x*f+w*d+S*v,b=n[8],x=n[9],w=n[10],S=n[11],t[8]=b*r+x*s+w*l+S*m,t[9]=b*o+x*u+w*p+S*g,t[10]=b*i+x*c+w*h+S*y,t[11]=b*a+x*f+w*d+S*v,b=n[12],x=n[13],w=n[14],S=n[15],t[12]=b*r+x*s+w*l+S*m,t[13]=b*o+x*u+w*p+S*g,t[14]=b*i+x*c+w*h+S*y,t[15]=b*a+x*f+w*d+S*v,t}},912:function(t,e){t.exports=function(t,e,n){var r,o,i,a,s,u,c,f,l,p,h,d,m=n[0],g=n[1],y=n[2];e===t?(t[12]=e[0]*m+e[4]*g+e[8]*y+e[12],t[13]=e[1]*m+e[5]*g+e[9]*y+e[13],t[14]=e[2]*m+e[6]*g+e[10]*y+e[14],t[15]=e[3]*m+e[7]*g+e[11]*y+e[15]):(r=e[0],o=e[1],i=e[2],a=e[3],s=e[4],u=e[5],c=e[6],f=e[7],l=e[8],p=e[9],h=e[10],d=e[11],t[0]=r,t[1]=o,t[2]=i,t[3]=a,t[4]=s,t[5]=u,t[6]=c,t[7]=f,t[8]=l,t[9]=p,t[10]=h,t[11]=d,t[12]=r*m+s*g+l*y+e[12],t[13]=o*m+u*g+p*y+e[13],t[14]=i*m+c*g+h*y+e[14],t[15]=a*m+f*g+d*y+e[15]);return t}},913:function(t,e){t.exports=function(t,e,n){var r=n[0],o=n[1],i=n[2];return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*o,t[5]=e[5]*o,t[6]=e[6]*o,t[7]=e[7]*o,t[8]=e[8]*i,t[9]=e[9]*i,t[10]=e[10]*i,t[11]=e[11]*i,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}},914:function(t,e){t.exports=function(t,e,n,r){var o,i,a,s,u,c,f,l,p,h,d,m,g,y,v,b,x,w,S,M,k,T,E,A,O=r[0],R=r[1],U=r[2],_=Math.sqrt(O*O+R*R+U*U);if(Math.abs(_)<1e-6)return null;O*=_=1/_,R*=_,U*=_,o=Math.sin(n),i=Math.cos(n),a=1-i,s=e[0],u=e[1],c=e[2],f=e[3],l=e[4],p=e[5],h=e[6],d=e[7],m=e[8],g=e[9],y=e[10],v=e[11],b=O*O*a+i,x=R*O*a+U*o,w=U*O*a-R*o,S=O*R*a-U*o,M=R*R*a+i,k=U*R*a+O*o,T=O*U*a+R*o,E=R*U*a-O*o,A=U*U*a+i,t[0]=s*b+l*x+m*w,t[1]=u*b+p*x+g*w,t[2]=c*b+h*x+y*w,t[3]=f*b+d*x+v*w,t[4]=s*S+l*M+m*k,t[5]=u*S+p*M+g*k,t[6]=c*S+h*M+y*k,t[7]=f*S+d*M+v*k,t[8]=s*T+l*E+m*A,t[9]=u*T+p*E+g*A,t[10]=c*T+h*E+y*A,t[11]=f*T+d*E+v*A,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]);return t}},915:function(t,e){t.exports=function(t,e,n){var r=Math.sin(n),o=Math.cos(n),i=e[4],a=e[5],s=e[6],u=e[7],c=e[8],f=e[9],l=e[10],p=e[11];e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]);return t[4]=i*o+c*r,t[5]=a*o+f*r,t[6]=s*o+l*r,t[7]=u*o+p*r,t[8]=c*o-i*r,t[9]=f*o-a*r,t[10]=l*o-s*r,t[11]=p*o-u*r,t}},916:function(t,e){t.exports=function(t,e,n){var r=Math.sin(n),o=Math.cos(n),i=e[0],a=e[1],s=e[2],u=e[3],c=e[8],f=e[9],l=e[10],p=e[11];e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]);return t[0]=i*o-c*r,t[1]=a*o-f*r,t[2]=s*o-l*r,t[3]=u*o-p*r,t[8]=i*r+c*o,t[9]=a*r+f*o,t[10]=s*r+l*o,t[11]=u*r+p*o,t}},917:function(t,e){t.exports=function(t,e,n){var r=Math.sin(n),o=Math.cos(n),i=e[0],a=e[1],s=e[2],u=e[3],c=e[4],f=e[5],l=e[6],p=e[7];e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]);return t[0]=i*o+c*r,t[1]=a*o+f*r,t[2]=s*o+l*r,t[3]=u*o+p*r,t[4]=c*o-i*r,t[5]=f*o-a*r,t[6]=l*o-s*r,t[7]=p*o-u*r,t}},918:function(t,e){t.exports=function(t,e,n){var r,o,i,a=n[0],s=n[1],u=n[2],c=Math.sqrt(a*a+s*s+u*u);if(Math.abs(c)<1e-6)return null;return a*=c=1/c,s*=c,u*=c,r=Math.sin(e),o=Math.cos(e),i=1-o,t[0]=a*a*i+o,t[1]=s*a*i+u*r,t[2]=u*a*i-s*r,t[3]=0,t[4]=a*s*i-u*r,t[5]=s*s*i+o,t[6]=u*s*i+a*r,t[7]=0,t[8]=a*u*i+s*r,t[9]=s*u*i-a*r,t[10]=u*u*i+o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},919:function(t,e){t.exports=function(t,e,n){var r=e[0],o=e[1],i=e[2],a=e[3],s=r+r,u=o+o,c=i+i,f=r*s,l=r*u,p=r*c,h=o*u,d=o*c,m=i*c,g=a*s,y=a*u,v=a*c;return t[0]=1-(h+m),t[1]=l+v,t[2]=p-y,t[3]=0,t[4]=l-v,t[5]=1-(f+m),t[6]=d+g,t[7]=0,t[8]=p+y,t[9]=d-g,t[10]=1-(f+h),t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}},920:function(t,e){t.exports=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},921:function(t,e){t.exports=function(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t}},922:function(t,e){t.exports=function(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=r,t[6]=n,t[7]=0,t[8]=0,t[9]=-n,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},923:function(t,e){t.exports=function(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=0,t[2]=-n,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=n,t[9]=0,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},924:function(t,e){t.exports=function(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=0,t[4]=-n,t[5]=r,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},925:function(t,e){t.exports=function(t,e){var n=e[0],r=e[1],o=e[2],i=e[3],a=n+n,s=r+r,u=o+o,c=n*a,f=r*a,l=r*s,p=o*a,h=o*s,d=o*u,m=i*a,g=i*s,y=i*u;return t[0]=1-l-d,t[1]=f+y,t[2]=p-g,t[3]=0,t[4]=f-y,t[5]=1-c-d,t[6]=h+m,t[7]=0,t[8]=p+g,t[9]=h-m,t[10]=1-c-l,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},926:function(t,e){t.exports=function(t,e,n,r,o,i,a){var s=1/(n-e),u=1/(o-r),c=1/(i-a);return t[0]=2*i*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*i*u,t[6]=0,t[7]=0,t[8]=(n+e)*s,t[9]=(o+r)*u,t[10]=(a+i)*c,t[11]=-1,t[12]=0,t[13]=0,t[14]=a*i*2*c,t[15]=0,t}},927:function(t,e){t.exports=function(t,e,n,r,o){var i=1/Math.tan(e/2),a=1/(r-o);return t[0]=i/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=i,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(o+r)*a,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*o*r*a,t[15]=0,t}},928:function(t,e){t.exports=function(t,e,n,r){var o=Math.tan(e.upDegrees*Math.PI/180),i=Math.tan(e.downDegrees*Math.PI/180),a=Math.tan(e.leftDegrees*Math.PI/180),s=Math.tan(e.rightDegrees*Math.PI/180),u=2/(a+s),c=2/(o+i);return t[0]=u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=c,t[6]=0,t[7]=0,t[8]=-(a-s)*u*.5,t[9]=(o-i)*c*.5,t[10]=r/(n-r),t[11]=-1,t[12]=0,t[13]=0,t[14]=r*n/(n-r),t[15]=0,t}},929:function(t,e){t.exports=function(t,e,n,r,o,i,a){var s=1/(e-n),u=1/(r-o),c=1/(i-a);return t[0]=-2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*u,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*c,t[11]=0,t[12]=(e+n)*s,t[13]=(o+r)*u,t[14]=(a+i)*c,t[15]=1,t}},930:function(t,e,n){var r=n(392);t.exports=function(t,e,n,o){var i,a,s,u,c,f,l,p,h,d,m=e[0],g=e[1],y=e[2],v=o[0],b=o[1],x=o[2],w=n[0],S=n[1],M=n[2];if(Math.abs(m-w)<1e-6&&Math.abs(g-S)<1e-6&&Math.abs(y-M)<1e-6)return r(t);l=m-w,p=g-S,h=y-M,d=1/Math.sqrt(l*l+p*p+h*h),i=b*(h*=d)-x*(p*=d),a=x*(l*=d)-v*h,s=v*p-b*l,(d=Math.sqrt(i*i+a*a+s*s))?(i*=d=1/d,a*=d,s*=d):(i=0,a=0,s=0);u=p*s-h*a,c=h*i-l*s,f=l*a-p*i,(d=Math.sqrt(u*u+c*c+f*f))?(u*=d=1/d,c*=d,f*=d):(u=0,c=0,f=0);return t[0]=i,t[1]=u,t[2]=l,t[3]=0,t[4]=a,t[5]=c,t[6]=p,t[7]=0,t[8]=s,t[9]=f,t[10]=h,t[11]=0,t[12]=-(i*m+a*g+s*y),t[13]=-(u*m+c*g+f*y),t[14]=-(l*m+p*g+h*y),t[15]=1,t}},931:function(t,e){t.exports=function(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"}},932:function(t,e){t.exports=o,o.strict=i,o.loose=a;var n=Object.prototype.toString,r={"[object Int8Array]":!0,"[object Int16Array]":!0,"[object Int32Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Uint16Array]":!0,"[object Uint32Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0};function o(t){return i(t)||a(t)}function i(t){return t instanceof Int8Array||t instanceof Int16Array||t instanceof Int32Array||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Uint16Array||t instanceof Uint32Array||t instanceof Float32Array||t instanceof Float64Array}function a(t){return r[n.call(t)]}},933:function(t,e){t.exports=function(t){return!!t&&(!!t.dtype&&new RegExp("function View[0-9]+d(:?"+t.dtype+")+").test(String(t.constructor)))}},934:function(t,e,n){var r=n(935),o=n(936),i="undefined"!=typeof Float64Array;function a(t,e){return t[0]-e[0]}function s(){var t,e=this.stride,n=new Array(e.length);for(t=0;t<n.length;++t)n[t]=[Math.abs(e[t]),t];n.sort(a);var r=new Array(n.length);for(t=0;t<r.length;++t)r[t]=n[t][1];return r}function u(t,e){var n=["View",e,"d",t].join("");e<0&&(n="View_Nil"+t);var o="generic"===t;if(-1===e){var i="function "+n+"(a){this.data=a;};var proto="+n+".prototype;proto.dtype='"+t+"';proto.index=function(){return -1};proto.size=0;proto.dimension=-1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function(){return new "+n+"(this.data);};proto.get=proto.set=function(){};proto.pick=function(){return null};return function construct_"+n+"(a){return new "+n+"(a);}";return new Function(i)()}if(0===e){i="function "+n+"(a,d) {this.data = a;this.offset = d};var proto="+n+".prototype;proto.dtype='"+t+"';proto.index=function(){return this.offset};proto.dimension=0;proto.size=1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function "+n+"_copy() {return new "+n+"(this.data,this.offset)};proto.pick=function "+n+"_pick(){return TrivialArray(this.data);};proto.valueOf=proto.get=function "+n+"_get(){return "+(o?"this.data.get(this.offset)":"this.data[this.offset]")+"};proto.set=function "+n+"_set(v){return "+(o?"this.data.set(this.offset,v)":"this.data[this.offset]=v")+"};return function construct_"+n+"(a,b,c,d){return new "+n+"(a,d)}";return new Function("TrivialArray",i)(c[t][0])}i=["'use strict'"];var a=r(e),u=a.map((function(t){return"i"+t})),f="this.offset+"+a.map((function(t){return"this.stride["+t+"]*i"+t})).join("+"),l=a.map((function(t){return"b"+t})).join(","),p=a.map((function(t){return"c"+t})).join(",");i.push("function "+n+"(a,"+l+","+p+",d){this.data=a","this.shape=["+l+"]","this.stride=["+p+"]","this.offset=d|0}","var proto="+n+".prototype","proto.dtype='"+t+"'","proto.dimension="+e),i.push("Object.defineProperty(proto,'size',{get:function "+n+"_size(){return "+a.map((function(t){return"this.shape["+t+"]"})).join("*"),"}})"),1===e?i.push("proto.order=[0]"):(i.push("Object.defineProperty(proto,'order',{get:"),e<4?(i.push("function "+n+"_order(){"),2===e?i.push("return (Math.abs(this.stride[0])>Math.abs(this.stride[1]))?[1,0]:[0,1]}})"):3===e&&i.push("var s0=Math.abs(this.stride[0]),s1=Math.abs(this.stride[1]),s2=Math.abs(this.stride[2]);if(s0>s1){if(s1>s2){return [2,1,0];}else if(s0>s2){return [1,2,0];}else{return [1,0,2];}}else if(s0>s2){return [2,0,1];}else if(s2>s1){return [0,1,2];}else{return [0,2,1];}}})")):i.push("ORDER})")),i.push("proto.set=function "+n+"_set("+u.join(",")+",v){"),o?i.push("return this.data.set("+f+",v)}"):i.push("return this.data["+f+"]=v}"),i.push("proto.get=function "+n+"_get("+u.join(",")+"){"),o?i.push("return this.data.get("+f+")}"):i.push("return this.data["+f+"]}"),i.push("proto.index=function "+n+"_index(",u.join(),"){return "+f+"}"),i.push("proto.hi=function "+n+"_hi("+u.join(",")+"){return new "+n+"(this.data,"+a.map((function(t){return["(typeof i",t,"!=='number'||i",t,"<0)?this.shape[",t,"]:i",t,"|0"].join("")})).join(",")+","+a.map((function(t){return"this.stride["+t+"]"})).join(",")+",this.offset)}");var h=a.map((function(t){return"a"+t+"=this.shape["+t+"]"})),d=a.map((function(t){return"c"+t+"=this.stride["+t+"]"}));i.push("proto.lo=function "+n+"_lo("+u.join(",")+"){var b=this.offset,d=0,"+h.join(",")+","+d.join(","));for(var m=0;m<e;++m)i.push("if(typeof i"+m+"==='number'&&i"+m+">=0){d=i"+m+"|0;b+=c"+m+"*d;a"+m+"-=d}");i.push("return new "+n+"(this.data,"+a.map((function(t){return"a"+t})).join(",")+","+a.map((function(t){return"c"+t})).join(",")+",b)}"),i.push("proto.step=function "+n+"_step("+u.join(",")+"){var "+a.map((function(t){return"a"+t+"=this.shape["+t+"]"})).join(",")+","+a.map((function(t){return"b"+t+"=this.stride["+t+"]"})).join(",")+",c=this.offset,d=0,ceil=Math.ceil");for(m=0;m<e;++m)i.push("if(typeof i"+m+"==='number'){d=i"+m+"|0;if(d<0){c+=b"+m+"*(a"+m+"-1);a"+m+"=ceil(-a"+m+"/d)}else{a"+m+"=ceil(a"+m+"/d)}b"+m+"*=d}");i.push("return new "+n+"(this.data,"+a.map((function(t){return"a"+t})).join(",")+","+a.map((function(t){return"b"+t})).join(",")+",c)}");var g=new Array(e),y=new Array(e);for(m=0;m<e;++m)g[m]="a[i"+m+"]",y[m]="b[i"+m+"]";i.push("proto.transpose=function "+n+"_transpose("+u+"){"+u.map((function(t,e){return t+"=("+t+"===undefined?"+e+":"+t+"|0)"})).join(";"),"var a=this.shape,b=this.stride;return new "+n+"(this.data,"+g.join(",")+","+y.join(",")+",this.offset)}"),i.push("proto.pick=function "+n+"_pick("+u+"){var a=[],b=[],c=this.offset");for(m=0;m<e;++m)i.push("if(typeof i"+m+"==='number'&&i"+m+">=0){c=(c+this.stride["+m+"]*i"+m+")|0}else{a.push(this.shape["+m+"]);b.push(this.stride["+m+"])}");return i.push("var ctor=CTOR_LIST[a.length+1];return ctor(this.data,a,b,c)}"),i.push("return function construct_"+n+"(data,shape,stride,offset){return new "+n+"(data,"+a.map((function(t){return"shape["+t+"]"})).join(",")+","+a.map((function(t){return"stride["+t+"]"})).join(",")+",offset)}"),new Function("CTOR_LIST","ORDER",i.join("\n"))(c[t],s)}var c={float32:[],float64:[],int8:[],int16:[],int32:[],uint8:[],uint16:[],uint32:[],array:[],uint8_clamped:[],bigint64:[],biguint64:[],buffer:[],generic:[]};t.exports=function(t,e,n,r){if(void 0===t)return(0,c.array[0])([]);"number"==typeof t&&(t=[t]),void 0===e&&(e=[t.length]);var a=e.length;if(void 0===n){n=new Array(a);for(var s=a-1,f=1;s>=0;--s)n[s]=f,f*=e[s]}if(void 0===r){r=0;for(s=0;s<a;++s)n[s]<0&&(r-=(e[s]-1)*n[s])}for(var l=function(t){if(o(t))return"buffer";if(i)switch(Object.prototype.toString.call(t)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object Uint8ClampedArray]":return"uint8_clamped";case"[object BigInt64Array]":return"bigint64";case"[object BigUint64Array]":return"biguint64"}return Array.isArray(t)?"array":"generic"}(t),p=c[l];p.length<=a+1;)p.push(u(l,p.length-1));return(0,p[a+1])(t,e,n,r)}},935:function(t,e,n){"use strict";t.exports=function(t){for(var e=new Array(t),n=0;n<t;++n)e[n]=n;return e}},936:function(t,e){function n(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}t.exports=function(t){return null!=t&&(n(t)||function(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&n(t.slice(0,0))}(t)||!!t._isBuffer)}},937:function(t,e,n){t.exports={EPSILON:n(395),create:n(396),clone:n(938),angle:n(939),fromValues:n(397),copy:n(940),set:n(941),equals:n(942),exactEquals:n(943),add:n(944),subtract:n(400),sub:n(945),multiply:n(401),mul:n(946),divide:n(402),div:n(947),min:n(948),max:n(949),floor:n(950),ceil:n(951),round:n(952),scale:n(953),scaleAndAdd:n(954),distance:n(403),dist:n(955),squaredDistance:n(404),sqrDist:n(956),length:n(405),len:n(957),squaredLength:n(406),sqrLen:n(958),negate:n(959),inverse:n(960),normalize:n(398),dot:n(399),cross:n(961),lerp:n(962),random:n(963),transformMat4:n(964),transformMat3:n(965),transformQuat:n(966),rotateX:n(967),rotateY:n(968),rotateZ:n(969),forEach:n(970)}},938:function(t,e){t.exports=function(t){var e=new Float32Array(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}},939:function(t,e,n){t.exports=function(t,e){var n=r(t[0],t[1],t[2]),a=r(e[0],e[1],e[2]);o(n,n),o(a,a);var s=i(n,a);return s>1?0:Math.acos(s)};var r=n(397),o=n(398),i=n(399)},940:function(t,e){t.exports=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}},941:function(t,e){t.exports=function(t,e,n,r){return t[0]=e,t[1]=n,t[2]=r,t}},942:function(t,e,n){t.exports=function(t,e){var n=t[0],o=t[1],i=t[2],a=e[0],s=e[1],u=e[2];return Math.abs(n-a)<=r*Math.max(1,Math.abs(n),Math.abs(a))&&Math.abs(o-s)<=r*Math.max(1,Math.abs(o),Math.abs(s))&&Math.abs(i-u)<=r*Math.max(1,Math.abs(i),Math.abs(u))};var r=n(395)},943:function(t,e){t.exports=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]}},944:function(t,e){t.exports=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t}},945:function(t,e,n){t.exports=n(400)},946:function(t,e,n){t.exports=n(401)},947:function(t,e,n){t.exports=n(402)},948:function(t,e){t.exports=function(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t}},949:function(t,e){t.exports=function(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t}},950:function(t,e){t.exports=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t}},951:function(t,e){t.exports=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t}},952:function(t,e){t.exports=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t}},953:function(t,e){t.exports=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t}},954:function(t,e){t.exports=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t}},955:function(t,e,n){t.exports=n(403)},956:function(t,e,n){t.exports=n(404)},957:function(t,e,n){t.exports=n(405)},958:function(t,e,n){t.exports=n(406)},959:function(t,e){t.exports=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t}},960:function(t,e){t.exports=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t}},961:function(t,e){t.exports=function(t,e,n){var r=e[0],o=e[1],i=e[2],a=n[0],s=n[1],u=n[2];return t[0]=o*u-i*s,t[1]=i*a-r*u,t[2]=r*s-o*a,t}},962:function(t,e){t.exports=function(t,e,n,r){var o=e[0],i=e[1],a=e[2];return t[0]=o+r*(n[0]-o),t[1]=i+r*(n[1]-i),t[2]=a+r*(n[2]-a),t}},963:function(t,e){t.exports=function(t,e){e=e||1;var n=2*Math.random()*Math.PI,r=2*Math.random()-1,o=Math.sqrt(1-r*r)*e;return t[0]=Math.cos(n)*o,t[1]=Math.sin(n)*o,t[2]=r*e,t}},964:function(t,e){t.exports=function(t,e,n){var r=e[0],o=e[1],i=e[2],a=n[3]*r+n[7]*o+n[11]*i+n[15];return a=a||1,t[0]=(n[0]*r+n[4]*o+n[8]*i+n[12])/a,t[1]=(n[1]*r+n[5]*o+n[9]*i+n[13])/a,t[2]=(n[2]*r+n[6]*o+n[10]*i+n[14])/a,t}},965:function(t,e){t.exports=function(t,e,n){var r=e[0],o=e[1],i=e[2];return t[0]=r*n[0]+o*n[3]+i*n[6],t[1]=r*n[1]+o*n[4]+i*n[7],t[2]=r*n[2]+o*n[5]+i*n[8],t}},966:function(t,e){t.exports=function(t,e,n){var r=e[0],o=e[1],i=e[2],a=n[0],s=n[1],u=n[2],c=n[3],f=c*r+s*i-u*o,l=c*o+u*r-a*i,p=c*i+a*o-s*r,h=-a*r-s*o-u*i;return t[0]=f*c+h*-a+l*-u-p*-s,t[1]=l*c+h*-s+p*-a-f*-u,t[2]=p*c+h*-u+f*-s-l*-a,t}},967:function(t,e){t.exports=function(t,e,n,r){var o=n[1],i=n[2],a=e[1]-o,s=e[2]-i,u=Math.sin(r),c=Math.cos(r);return t[0]=e[0],t[1]=o+a*c-s*u,t[2]=i+a*u+s*c,t}},968:function(t,e){t.exports=function(t,e,n,r){var o=n[0],i=n[2],a=e[0]-o,s=e[2]-i,u=Math.sin(r),c=Math.cos(r);return t[0]=o+s*u+a*c,t[1]=e[1],t[2]=i+s*c-a*u,t}},969:function(t,e){t.exports=function(t,e,n,r){var o=n[0],i=n[1],a=e[0]-o,s=e[1]-i,u=Math.sin(r),c=Math.cos(r);return t[0]=o+a*c-s*u,t[1]=i+a*u+s*c,t[2]=e[2],t}},970:function(t,e,n){t.exports=function(t,e,n,o,i,a){var s,u;e||(e=3);n||(n=0);u=o?Math.min(o*e+n,t.length):t.length;for(s=n;s<u;s+=e)r[0]=t[s],r[1]=t[s+1],r[2]=t[s+2],i(r,r,a),t[s]=r[0],t[s+1]=r[1],t[s+2]=r[2];return t};var r=n(396)()},971:function(t,e){e.vertexNormals=function(t,e,n){for(var r=e.length,o=new Array(r),i=void 0===n?1e-6:n,a=0;a<r;++a)o[a]=[0,0,0];for(a=0;a<t.length;++a)for(var s=t[a],u=0,c=s[s.length-1],f=s[0],l=0;l<s.length;++l){u=c,c=f,f=s[(l+1)%s.length];for(var p=e[u],h=e[c],d=e[f],m=new Array(3),g=0,y=new Array(3),v=0,b=0;b<3;++b)m[b]=p[b]-h[b],g+=m[b]*m[b],y[b]=d[b]-h[b],v+=y[b]*y[b];if(g*v>i){var x=o[c],w=1/Math.sqrt(g*v);for(b=0;b<3;++b){var S=(b+1)%3,M=(b+2)%3;x[b]+=w*(y[S]*m[M]-y[M]*m[S])}}}for(a=0;a<r;++a){x=o[a];var k=0;for(b=0;b<3;++b)k+=x[b]*x[b];if(k>i)for(w=1/Math.sqrt(k),b=0;b<3;++b)x[b]*=w;else for(b=0;b<3;++b)x[b]=0}return o},e.faceNormals=function(t,e,n){for(var r=t.length,o=new Array(r),i=void 0===n?1e-6:n,a=0;a<r;++a){for(var s=t[a],u=new Array(3),c=0;c<3;++c)u[c]=e[s[c]];var f=new Array(3),l=new Array(3);for(c=0;c<3;++c)f[c]=u[1][c]-u[0][c],l[c]=u[2][c]-u[0][c];var p=new Array(3),h=0;for(c=0;c<3;++c){var d=(c+1)%3,m=(c+2)%3;p[c]=f[d]*l[m]-f[m]*l[d],h+=p[c]*p[c]}h=h>i?1/Math.sqrt(h):0;for(c=0;c<3;++c)p[c]*=h;o[a]=p}return o}},972:function(t,e){t.exports=function(t){var e=[],n=[],r=0,o=0;for(;r<t.length;)n.push([o++,o++,o++]),e.push([t[r++],t[r++],t[r++]],[t[r++],t[r++],t[r++]],[t[r++],t[r++],t[r++]]);return{positions:e,cells:n}}},973:function(t,e,n){var r=n(974);t.exports=function(t,e){return t=t||{},Object.keys(e).forEach((function(n){void 0===t[n]&&(t[n]=r(e[n]))})),t}},974:function(t,e,n){(function(e){var n=function(){"use strict";function t(n,o,i,a){"object"==typeof o&&(i=o.depth,a=o.prototype,o.filter,o=o.circular);var s=[],u=[],c=void 0!==e;return void 0===o&&(o=!0),void 0===i&&(i=1/0),function n(i,f){if(null===i)return null;if(0==f)return i;var l,p;if("object"!=typeof i)return i;if(t.__isArray(i))l=[];else if(t.__isRegExp(i))l=new RegExp(i.source,r(i)),i.lastIndex&&(l.lastIndex=i.lastIndex);else if(t.__isDate(i))l=new Date(i.getTime());else{if(c&&e.isBuffer(i))return l=e.allocUnsafe?e.allocUnsafe(i.length):new e(i.length),i.copy(l),l;void 0===a?(p=Object.getPrototypeOf(i),l=Object.create(p)):(l=Object.create(a),p=a)}if(o){var h=s.indexOf(i);if(-1!=h)return u[h];s.push(i),u.push(l)}for(var d in i){var m;p&&(m=Object.getOwnPropertyDescriptor(p,d)),m&&null==m.set||(l[d]=n(i[d],f-1))}return l}(n,i)}function n(t){return Object.prototype.toString.call(t)}function r(t){var e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),e}return t.clonePrototype=function(t){if(null===t)return null;var e=function(){};return e.prototype=t,new e},t.__objToStr=n,t.__isDate=function(t){return"object"==typeof t&&"[object Date]"===n(t)},t.__isArray=function(t){return"object"==typeof t&&"[object Array]"===n(t)},t.__isRegExp=function(t){return"object"==typeof t&&"[object RegExp]"===n(t)},t.__getRegExpFlags=r,t}();t.exports&&(t.exports=n)}).call(this,n(407).Buffer)},975:function(t,e,n){"use strict";e.byteLength=function(t){var e=c(t),n=e[0],r=e[1];return 3*(n+r)/4-r},e.toByteArray=function(t){var e,n,r=c(t),a=r[0],s=r[1],u=new i(function(t,e,n){return 3*(e+n)/4-n}(0,a,s)),f=0,l=s>0?a-4:a;for(n=0;n<l;n+=4)e=o[t.charCodeAt(n)]<<18|o[t.charCodeAt(n+1)]<<12|o[t.charCodeAt(n+2)]<<6|o[t.charCodeAt(n+3)],u[f++]=e>>16&255,u[f++]=e>>8&255,u[f++]=255&e;2===s&&(e=o[t.charCodeAt(n)]<<2|o[t.charCodeAt(n+1)]>>4,u[f++]=255&e);1===s&&(e=o[t.charCodeAt(n)]<<10|o[t.charCodeAt(n+1)]<<4|o[t.charCodeAt(n+2)]>>2,u[f++]=e>>8&255,u[f++]=255&e);return u},e.fromByteArray=function(t){for(var e,n=t.length,o=n%3,i=[],a=0,s=n-o;a<s;a+=16383)i.push(f(t,a,a+16383>s?s:a+16383));1===o?(e=t[n-1],i.push(r[e>>2]+r[e<<4&63]+"==")):2===o&&(e=(t[n-2]<<8)+t[n-1],i.push(r[e>>10]+r[e>>4&63]+r[e<<2&63]+"="));return i.join("")};for(var r=[],o=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,u=a.length;s<u;++s)r[s]=a[s],o[a.charCodeAt(s)]=s;function c(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function f(t,e,n){for(var o,i,a=[],s=e;s<n;s+=3)o=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(255&t[s+2]),a.push(r[(i=o)>>18&63]+r[i>>12&63]+r[i>>6&63]+r[63&i]);return a.join("")}o["-".charCodeAt(0)]=62,o["_".charCodeAt(0)]=63},976:function(t,e){e.read=function(t,e,n,r,o){var i,a,s=8*o-r-1,u=(1<<s)-1,c=u>>1,f=-7,l=n?o-1:0,p=n?-1:1,h=t[e+l];for(l+=p,i=h&(1<<-f)-1,h>>=-f,f+=s;f>0;i=256*i+t[e+l],l+=p,f-=8);for(a=i&(1<<-f)-1,i>>=-f,f+=r;f>0;a=256*a+t[e+l],l+=p,f-=8);if(0===i)i=1-c;else{if(i===u)return a?NaN:1/0*(h?-1:1);a+=Math.pow(2,r),i-=c}return(h?-1:1)*a*Math.pow(2,i-r)},e.write=function(t,e,n,r,o,i){var a,s,u,c=8*i-o-1,f=(1<<c)-1,l=f>>1,p=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:i-1,d=r?1:-1,m=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=f):(a=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-a))<1&&(a--,u*=2),(e+=a+l>=1?p/u:p*Math.pow(2,1-l))*u>=2&&(a++,u/=2),a+l>=f?(s=0,a=f):a+l>=1?(s=(e*u-1)*Math.pow(2,o),a+=l):(s=e*Math.pow(2,l-1)*Math.pow(2,o),a=0));o>=8;t[n+h]=255&s,h+=d,s/=256,o-=8);for(a=a<<o|s,c+=o;c>0;t[n+h]=255&a,h+=d,a/=256,c-=8);t[n+h-d]|=128*m}},977:function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}}}]);
//# sourceMappingURL=vendors.js.map