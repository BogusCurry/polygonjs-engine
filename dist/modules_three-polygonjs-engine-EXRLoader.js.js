(window.webpackJsonppolygonjs_engine=window.webpackJsonppolygonjs_engine||[]).push([[1],{670:function(e,r,n){"use strict";n.r(r),n.d(r,"EXRLoader",(function(){return o}));var a=n(108),t=n(0),i=n(168),o=function(e){a.a.call(this,e),this.type=t.FloatType};o.prototype=Object.assign(Object.create(a.a.prototype),{constructor:o,parse:function(e){const r=Math.pow(2.7182818,2.2);const n={l:0,c:0,lc:0};function a(e,r,a,t,i){for(;a<e;)r=r<<8|N(t,i),a+=8;a-=e,n.l=r>>a&(1<<e)-1,n.c=r,n.lc=a}const o=new Array(59);function l(e,r,t,i,l,f,s){for(var u=t,c=0,v=0;l<=f;l++){if(u.value-t.value>i)return!1;a(6,c,v,e,u);var p=n.l;if(c=n.c,v=n.lc,s[l]=p,63==p){if(u.value-t.value>i)throw"Something wrong with hufUnpackEncTable";a(8,c,v,e,u);var h=n.l+6;if(c=n.c,v=n.lc,l+h>f+1)throw"Something wrong with hufUnpackEncTable";for(;h--;)s[l++]=0;l--}else if(p>=59){if(l+(h=p-59+2)>f+1)throw"Something wrong with hufUnpackEncTable";for(;h--;)s[l++]=0;l--}}!function(e){for(var r=0;r<=58;++r)o[r]=0;for(r=0;r<65537;++r)o[e[r]]+=1;var n=0;for(r=58;r>0;--r){var a=n+o[r]>>1;o[r]=n,n=a}for(r=0;r<65537;++r){var t=e[r];t>0&&(e[r]=t|o[t]++<<6)}}(s)}function f(e){return 63&e}function s(e){return e>>6}const u={c:0,lc:0};function c(e,r,n,a){e=e<<8|N(n,a),r+=8,u.c=e,u.lc=r}const v={c:0,lc:0};function p(e,r,n,a,t,i,o,l,f,s){if(e==r){a<8&&(c(n,a,t,o),n=u.c,a=u.lc);var p=n>>(a-=8);p=new Uint8Array([p])[0];if(f.value+p>s)return!1;for(var h=l[f.value-1];p-- >0;)l[f.value++]=h}else{if(!(f.value<s))return!1;l[f.value++]=e}v.c=n,v.lc=a}function h(e){var r=function(e){return 65535&e}(e);return r>32767?r-65536:r}const w={a:0,b:0};function y(e,r){var n=h(e),a=h(r),t=n+(1&a)+(a>>1),i=t,o=t-a;w.a=i,w.b=o}function d(e,r,n,a,t,i){for(var o,l=n>t?t:n,f=1;f<=l;)f<<=1;for(o=f>>=1,f>>=1;f>=1;){for(var s,u,c,v,p=0,h=p+i*(t-o),d=i*f,g=i*o,m=a*f,S=a*o;p<=h;p+=g){for(var A=p,b=p+a*(n-o);A<=b;A+=S){var U=A+m,M=(E=A+d)+m;y(e[A+r],e[E+r]),s=w.a,c=w.b,y(e[U+r],e[M+r]),u=w.a,v=w.b,y(s,u),e[A+r]=w.a,e[U+r]=w.b,y(c,v),e[E+r]=w.a,e[M+r]=w.b}if(n&f){var E=A+d;y(e[A+r],e[E+r]),s=w.a,e[E+r]=w.b,e[A+r]=s}}if(t&f)for(A=p,b=p+a*(n-o);A<=b;A+=S){U=A+m;y(e[A+r],e[U+r]),s=w.a,e[U+r]=w.b,e[A+r]=s}o=f,f>>=1}return p}function g(e,r,n,a,t,i){var o=n.value,h=P(r,n),w=P(r,n);n.value+=4;var y=P(r,n);if(n.value+=4,h<0||h>=65537||w<0||w>=65537)throw"Something wrong with HUF_ENCSIZE";var d=new Array(65537),g=new Array(16384);if(function(e){for(var r=0;r<16384;r++)e[r]={},e[r].len=0,e[r].lit=0,e[r].p=null}(g),l(e,0,n,a-(n.value-o),h,w,d),y>8*(a-(n.value-o)))throw"Something wrong with hufUncompress";!function(e,r,n,a){for(;r<=n;r++){var t=s(e[r]),i=f(e[r]);if(t>>i)throw"Invalid table entry";if(i>14){if((c=a[t>>i-14]).len)throw"Invalid table entry";if(c.lit++,c.p){var o=c.p;c.p=new Array(c.lit);for(var l=0;l<c.lit-1;++l)c.p[l]=o[l]}else c.p=new Array(1);c.p[c.lit-1]=r}else if(i){var u=0;for(l=1<<14-i;l>0;l--){var c;if((c=a[(t<<14-i)+u]).len||c.p)throw"Invalid table entry";c.len=i,c.lit=r,u++}}}}(d,h,w,g),function(e,r,n,a,t,i,o,l,h,w){for(var y=0,d=0,g=l,m=Math.trunc(t.value+(i+7)/8);t.value<m;)for(c(y,d,n,t),y=u.c,d=u.lc;d>=14;){if((U=r[y>>d-14&16383]).len)d-=U.len,p(U.lit,o,y,d,n,0,t,h,w,g),y=v.c,d=v.lc;else{if(!U.p)throw"hufDecode issues";var S;for(S=0;S<U.lit;S++){for(var A=f(e[U.p[S]]);d<A&&t.value<m;)c(y,d,n,t),y=u.c,d=u.lc;if(d>=A&&s(e[U.p[S]])==(y>>d-A&(1<<A)-1)){d-=A,p(U.p[S],o,y,d,n,0,t,h,w,g),y=v.c,d=v.lc;break}}if(S==U.lit)throw"hufDecode issues"}}var b=8-i&7;for(y>>=b,d-=b;d>0;){var U;if(!(U=r[y<<14-d&16383]).len)throw"hufDecode issues";d-=U.len,p(U.lit,o,y,d,n,0,t,h,w,g),y=v.c,d=v.lc}}(d,g,e,0,n,y,w,i,t,{value:0})}function m(e){for(var r=1;r<e.length;r++){var n=e[r-1]+e[r]-128;e[r]=n}}function S(e,r){for(var n=0,a=Math.floor((e.length+1)/2),t=0,i=e.length-1;!(t>i||(r[t++]=e[n++],t>i));)r[t++]=e[a++]}function A(e){for(var r=e.byteLength,n=new Array,a=0,t=new DataView(e);r>0;){var i=t.getInt8(a++);if(i<0){r-=(l=-i)+1;for(var o=0;o<l;o++)n.push(t.getUint8(a++))}else{var l=i;r-=2;var f=t.getUint8(a++);for(o=0;o<l+1;o++)n.push(f)}}return n}function b(e,r,n){for(var a,t=1;t<64;)65280==(a=r[e.value])?t=64:a>>8==255?t+=255&a:(n[t]=a,t++),e.value++}function U(e,r){r[0]=F(e[0]),r[1]=F(e[1]),r[2]=F(e[5]),r[3]=F(e[6]),r[4]=F(e[14]),r[5]=F(e[15]),r[6]=F(e[27]),r[7]=F(e[28]),r[8]=F(e[2]),r[9]=F(e[4]),r[10]=F(e[7]),r[11]=F(e[13]),r[12]=F(e[16]),r[13]=F(e[26]),r[14]=F(e[29]),r[15]=F(e[42]),r[16]=F(e[3]),r[17]=F(e[8]),r[18]=F(e[12]),r[19]=F(e[17]),r[20]=F(e[25]),r[21]=F(e[30]),r[22]=F(e[41]),r[23]=F(e[43]),r[24]=F(e[9]),r[25]=F(e[11]),r[26]=F(e[18]),r[27]=F(e[24]),r[28]=F(e[31]),r[29]=F(e[40]),r[30]=F(e[44]),r[31]=F(e[53]),r[32]=F(e[10]),r[33]=F(e[19]),r[34]=F(e[23]),r[35]=F(e[32]),r[36]=F(e[39]),r[37]=F(e[45]),r[38]=F(e[52]),r[39]=F(e[54]),r[40]=F(e[20]),r[41]=F(e[22]),r[42]=F(e[33]),r[43]=F(e[38]),r[44]=F(e[46]),r[45]=F(e[51]),r[46]=F(e[55]),r[47]=F(e[60]),r[48]=F(e[21]),r[49]=F(e[34]),r[50]=F(e[37]),r[51]=F(e[47]),r[52]=F(e[50]),r[53]=F(e[56]),r[54]=F(e[59]),r[55]=F(e[61]),r[56]=F(e[35]),r[57]=F(e[36]),r[58]=F(e[48]),r[59]=F(e[49]),r[60]=F(e[57]),r[61]=F(e[58]),r[62]=F(e[62]),r[63]=F(e[63])}function M(e){const r=.5*Math.cos(.7853975),n=.5*Math.cos(.196349375),a=.5*Math.cos(.39269875),t=.5*Math.cos(3*3.14159/16),i=.5*Math.cos(.981746875),o=.5*Math.cos(3*3.14159/8),l=.5*Math.cos(1.374445625);for(var f=new Array(4),s=new Array(4),u=new Array(4),c=new Array(4),v=0;v<8;++v){var p=8*v;f[0]=a*e[p+2],f[1]=o*e[p+2],f[2]=a*e[p+6],f[3]=o*e[p+6],s[0]=n*e[p+1]+t*e[p+3]+i*e[p+5]+l*e[p+7],s[1]=t*e[p+1]-l*e[p+3]-n*e[p+5]-i*e[p+7],s[2]=i*e[p+1]-n*e[p+3]+l*e[p+5]+t*e[p+7],s[3]=l*e[p+1]-i*e[p+3]+t*e[p+5]-n*e[p+7],u[0]=r*(e[p+0]+e[p+4]),u[3]=r*(e[p+0]-e[p+4]),u[1]=f[0]+f[3],u[2]=f[1]-f[2],c[0]=u[0]+u[1],c[1]=u[3]+u[2],c[2]=u[3]-u[2],c[3]=u[0]-u[1],e[p+0]=c[0]+s[0],e[p+1]=c[1]+s[1],e[p+2]=c[2]+s[2],e[p+3]=c[3]+s[3],e[p+4]=c[3]-s[3],e[p+5]=c[2]-s[2],e[p+6]=c[1]-s[1],e[p+7]=c[0]-s[0]}for(var h=0;h<8;++h)f[0]=a*e[16+h],f[1]=o*e[16+h],f[2]=a*e[48+h],f[3]=o*e[48+h],s[0]=n*e[8+h]+t*e[24+h]+i*e[40+h]+l*e[56+h],s[1]=t*e[8+h]-l*e[24+h]-n*e[40+h]-i*e[56+h],s[2]=i*e[8+h]-n*e[24+h]+l*e[40+h]+t*e[56+h],s[3]=l*e[8+h]-i*e[24+h]+t*e[40+h]-n*e[56+h],u[0]=r*(e[h]+e[32+h]),u[3]=r*(e[h]-e[32+h]),u[1]=f[0]+f[3],u[2]=f[1]-f[2],c[0]=u[0]+u[1],c[1]=u[3]+u[2],c[2]=u[3]-u[2],c[3]=u[0]-u[1],e[0+h]=c[0]+s[0],e[8+h]=c[1]+s[1],e[16+h]=c[2]+s[2],e[24+h]=c[3]+s[3],e[32+h]=c[3]-s[3],e[40+h]=c[2]-s[2],e[48+h]=c[1]-s[1],e[56+h]=c[0]-s[0]}function E(e){for(var r=0;r<64;++r){var n=e[0][r],a=e[1][r],t=e[2][r];e[0][r]=n+1.5747*t,e[1][r]=n-.1873*a-.4682*t,e[2][r]=n+1.8556*a}}function I(e,r,n){for(var a=0;a<64;++a)r[n+a]=X(O(e[a]))}function O(e){return e<=1?Math.sign(e)*Math.pow(Math.abs(e),2.2):Math.sign(e)*Math.pow(r,Math.abs(e)-1)}function C(e){var r=e.array.slice(e.offset.value,e.offset.value+e.size);void 0===i.a&&console.error("THREE.EXRLoader: External library Inflate.min.js required, obtain or import from https://github.com/imaya/zlib.js");var n=new i.a.Inflate(r,{resize:!0,verify:!0}),a=new Uint8Array(n.decompress().buffer),t=new Uint8Array(a.length);return m(a),S(a,t),new DataView(t.buffer)}function R(e){var r=e.viewer,n={value:e.offset.value},a=new Uint8Array(e.width*e.lines*(H.channels.length*e.type*2)),t={version:_(r,n),unknownUncompressedSize:_(r,n),unknownCompressedSize:_(r,n),acCompressedSize:_(r,n),dcCompressedSize:_(r,n),rleCompressedSize:_(r,n),rleUncompressedSize:_(r,n),rleRawSize:_(r,n),totalAcUncompressedCount:_(r,n),totalDcUncompressedCount:_(r,n),acCompression:_(r,n)};if(t.version<2)throw"EXRLoader.parse: "+H.compression+" version "+t.version+" is unsupported";for(var o=new Array,l=V(r,n)-2;l>0;){var f=x(r.buffer,n),s=T(r,n),u=s>>2&3,c=new Int8Array([(s>>4)-1])[0],v=T(r,n);o.push({name:f,index:c,type:v,compression:u}),l-=f.length+3}for(var p=H.channels,h=new Array(e.channels),w=0;w<e.channels;++w){var y=h[w]={},d=p[w];y.name=d.name,y.compression=0,y.decoded=!1,y.type=d.pixelType,y.pLinear=d.pLinear,y.width=e.width,y.height=e.lines}for(var m={idx:new Array(3)},S=0;S<e.channels;++S)for(y=h[S],w=0;w<o.length;++w){var O=o[w];y.name==O.name&&(y.compression=O.compression,O.index>=0&&(m.idx[O.index]=S),y.offset=S)}if(t.acCompressedSize>0)switch(t.acCompression){case 0:var R=new Uint16Array(t.totalAcUncompressedCount);g(e.array,r,n,t.acCompressedSize,R,t.totalAcUncompressedCount);break;case 1:var z=e.array.slice(n.value,n.value+t.totalAcUncompressedCount),P=new i.a.Inflate(z,{resize:!0,verify:!0});R=new Uint16Array(P.decompress().buffer);n.value+=t.totalAcUncompressedCount}if(t.dcCompressedSize>0){var N={array:e.array,offset:n,size:t.dcCompressedSize},k=new Uint16Array(C(N).buffer);n.value+=t.dcCompressedSize}if(t.rleRawSize>0){z=e.array.slice(n.value,n.value+t.rleCompressedSize);var D=A((P=new i.a.Inflate(z,{resize:!0,verify:!0})).decompress().buffer);n.value+=t.rleCompressedSize}var L=0,X=new Array(h.length);for(w=0;w<X.length;++w)X[w]=new Array;for(var W=0;W<e.lines;++W)for(var Z=0;Z<h.length;++Z)X[Z].push(L),L+=h[Z].width*e.type*2;!function(e,r,n,a,t,i){var o=new DataView(i.buffer),l=n[e.idx[0]].width,f=n[e.idx[0]].height,s=Math.floor(l/8),u=Math.ceil(l/8),c=Math.ceil(f/8),v=l-8*(u-1),p=f-8*(c-1),h={value:0},w=new Array(3),y=new Array(3),d=new Array(3),g=new Array(3),m=new Array(3);for(let n=0;n<3;++n)m[n]=r[e.idx[n]],w[n]=n<1?0:w[n-1]+u*c,y[n]=new Float32Array(64),d[n]=new Uint16Array(64),g[n]=new Uint16Array(64*u);for(let r=0;r<c;++r){var S=8;r==c-1&&(S=p);var A=8;for(let e=0;e<u;++e){e==u-1&&(A=v);for(let e=0;e<3;++e)d[e].fill(0),d[e][0]=t[w[e]++],b(h,a,d[e]),U(d[e],y[e]),M(y[e]);E(y);for(let r=0;r<3;++r)I(y[r],g[r],64*e)}let i=0;for(let a=0;a<3;++a){let t=n[e.idx[a]].type;for(let e=8*r;e<8*r+S;++e){i=m[a][e];for(let r=0;r<s;++r){let n=64*r+8*(7&e);o.setUint16(i+0*t,g[a][n+0],!0),o.setUint16(i+2*t,g[a][n+1],!0),o.setUint16(i+4*t,g[a][n+2],!0),o.setUint16(i+6*t,g[a][n+3],!0),o.setUint16(i+8*t,g[a][n+4],!0),o.setUint16(i+10*t,g[a][n+5],!0),o.setUint16(i+12*t,g[a][n+6],!0),o.setUint16(i+14*t,g[a][n+7],!0),i+=16*t}}if(s!=u)for(let e=8*r;e<8*r+S;++e){let r=m[a][e]+8*s*2*t,n=64*s+8*(7&e);for(let e=0;e<A;++e)o.setUint16(r+2*e*t,g[a][n+e],!0)}}}for(var O=new Uint16Array(l),C=(o=new DataView(i.buffer),0);C<3;++C){n[e.idx[C]].decoded=!0;var R=n[e.idx[C]].type;if(2==n[C].type)for(var x=0;x<f;++x){let e=m[C][x];for(var z=0;z<l;++z)O[z]=o.getUint16(e+2*z*R,!0);for(z=0;z<l;++z)o.setFloat32(e+2*z*R,F(O[z]),!0)}}}(m,X,h,R,k,a);for(w=0;w<h.length;++w){if(!(y=h[w]).decoded)switch(y.compression){case 2:var B=0,j=0;for(W=0;W<e.lines;++W){for(var Y=X[w][B],G=0;G<y.width;++G){for(var J=0;J<2*y.type;++J)a[Y++]=D[j+J*y.width*y.height];j++}B++}break;case 1:default:throw"EXRLoader.parse: unsupported channel compression"}}return new DataView(a.buffer)}function x(e,r){for(var n=new Uint8Array(e),a=0;0!=n[r.value+a];)a+=1;var t=(new TextDecoder).decode(n.slice(r.value,r.value+a));return r.value=r.value+a+1,t}function z(e,r){var n=e.getUint32(0,!0);return r.value=r.value+8,n}function P(e,r){var n=e.getUint32(r.value,!0);return r.value=r.value+4,n}function N(e,r){var n=e[r.value];return r.value=r.value+1,n}function T(e,r){var n=e.getUint8(r.value);return r.value=r.value+1,n}function _(e,r){var n=Number(e.getBigInt64(r.value,!0));return r.value+=8,n}function k(e,r){var n=e.getFloat32(r.value,!0);return r.value+=4,n}function F(e){var r=(31744&e)>>10,n=1023&e;return(e>>15?-1:1)*(r?31===r?n?NaN:1/0:Math.pow(2,r-15)*(1+n/1024):n/1024*6103515625e-14)}var D,L,X=(D=new Float32Array(1),L=new Int32Array(D.buffer),function(e){D[0]=e;var r=L[0],n=r>>16&32768,a=r>>12&2047,t=r>>23&255;return t<103?n:t>142?(n|=31744,n|=(255==t?0:1)&&8388607&r):t<113?n|=((a|=2048)>>114-t)+(a>>113-t&1):(n|=t-112<<10|a>>1,n+=1&a)});function V(e,r){var n=e.getUint16(r.value,!0);return r.value+=2,n}function W(e,r,n,a,t){if("string"===a||"stringvector"===a||"iccProfile"===a)return function(e,r,n){var a=(new TextDecoder).decode(new Uint8Array(e).slice(r.value,r.value+n));return r.value=r.value+n,a}(r,n,t);if("chlist"===a)return function(e,r,n,a){for(var t=n.value,i=[];n.value<t+a-1;){var o=x(r,n),l=P(e,n),f=T(e,n);n.value+=3;var s=P(e,n),u=P(e,n);i.push({name:o,pixelType:l,pLinear:f,xSampling:s,ySampling:u})}return n.value+=1,i}(e,r,n,t);if("chromaticities"===a)return function(e,r){return{redX:k(e,r),redY:k(e,r),greenX:k(e,r),greenY:k(e,r),blueX:k(e,r),blueY:k(e,r),whiteX:k(e,r),whiteY:k(e,r)}}(e,n);if("compression"===a)return function(e,r){return["NO_COMPRESSION","RLE_COMPRESSION","ZIPS_COMPRESSION","ZIP_COMPRESSION","PIZ_COMPRESSION","PXR24_COMPRESSION","B44_COMPRESSION","B44A_COMPRESSION","DWAA_COMPRESSION","DWAB_COMPRESSION"][T(e,r)]}(e,n);if("box2i"===a)return function(e,r){return{xMin:P(e,r),yMin:P(e,r),xMax:P(e,r),yMax:P(e,r)}}(e,n);if("lineOrder"===a)return function(e,r){return["INCREASING_Y"][T(e,r)]}(e,n);if("float"===a)return k(e,n);if("v2f"===a)return function(e,r){return[k(e,r),k(e,r)]}(e,n);if("int"===a)return P(e,n);throw"Cannot parse value for unsupported type: "+a}var Z=new DataView(e),B=new Uint8Array(e),H={};Z.getUint32(0,!0),Z.getUint8(4,!0),Z.getUint8(5,!0);for(var j={value:8},Y=!0;Y;){var G=x(e,j);if(0==G)Y=!1;else{var J=W(Z,e,j,x(e,j),P(Z,j));H[G]=J}}var q,K,Q,$,ee=H.dataWindow.yMax+1;switch(H.compression){case"NO_COMPRESSION":K=1,q=function(e){return new DataView(e.array.buffer,e.offset.value,e.size)};break;case"RLE_COMPRESSION":K=1,q=function(e){var r=e.viewer.buffer.slice(e.offset.value,e.offset.value+e.size),n=new Uint8Array(A(r)),a=new Uint8Array(n.length);return m(n),S(n,a),new DataView(a.buffer)};break;case"ZIPS_COMPRESSION":K=1,q=C;break;case"ZIP_COMPRESSION":K=16,q=C;break;case"PIZ_COMPRESSION":K=32,q=function(e){for(var r=e.viewer,n={value:e.offset.value},a=e.width*K*(H.channels.length*e.type),t=new Uint16Array(a),i=new Uint8Array(8192),o=0,l=new Array(e.channels),f=0;f<e.channels;f++)l[f]={},l[f].start=o,l[f].end=l[f].start,l[f].nx=e.width,l[f].ny=e.lines,l[f].size=e.type,o+=l[f].nx*l[f].ny*l[f].size;var s=V(r,n),u=V(r,n);if(u>=8192)throw"Something is wrong with PIZ_COMPRESSION BITMAP_SIZE";if(s<=u)for(f=0;f<u-s+1;f++)i[f+s]=T(r,n);var c=new Uint16Array(65536);!function(e,r){for(var n=0,a=0;a<65536;++a)(0==a||e[a>>3]&1<<(7&a))&&(r[n++]=a);for(var t=n-1;n<65536;)r[n++]=0}(i,c);var v=P(r,n);for(g(e.array,r,n,v,t,o),f=0;f<e.channels;++f)for(var p=l[f],h=0;h<l[f].size;++h)d(t,p.start+h,p.nx,p.size,p.ny,p.nx*p.size);!function(e,r,n){for(var a=0;a<n;++a)r[a]=e[r[a]]}(c,t,o);for(var w=0,y=new Uint8Array(t.buffer.byteLength),m=0;m<e.lines;m++)for(var S=0;S<e.channels;S++){var A=(p=l[S]).nx*p.size,b=new Uint8Array(t.buffer,2*p.end,2*A);y.set(b,w),w+=2*A,p.end+=A}return new DataView(y.buffer)};break;case"DWAA_COMPRESSION":K=32,q=R;break;case"DWAB_COMPRESSION":K=256,q=R;break;default:throw"EXRLoader.parse: "+H.compression+" is unsupported"}var re=H.channels[0].pixelType;if(1===re)switch(this.type){case t.FloatType:$=function(e,r){return F(V(e,r))},Q=2;break;case t.HalfFloatType:$=V,Q=2}else{if(2!==re)throw"EXRLoader.parse: unsupported pixelType "+re+" for "+H.compression+".";switch(this.type){case t.FloatType:$=k,Q=4;break;case t.HalfFloatType:throw"EXRLoader.parse: unsupported HalfFloatType texture for FloatType image file."}}for(var ne=ee/K,ae=0;ae<ne;ae++)z(Z,j);var te=H.dataWindow.xMax-H.dataWindow.xMin+1,ie=H.dataWindow.yMax-H.dataWindow.yMin+1,oe=te*ie*4;switch(this.type){case t.FloatType:var le=new Float32Array(oe);H.channels.length<4&&le.fill(1,0,oe);break;case t.HalfFloatType:le=new Uint16Array(oe);H.channels.length<4&&le.fill(15360,0,oe);break;default:console.error("THREE.EXRLoader: unsupported type: ",this.type)}for(var fe,se,ue={R:0,G:1,B:2,A:3},ce={size:0,width:te,lines:K,offset:j,array:B,viewer:Z,type:re,channels:H.channels.length},ve={value:0},pe=0;pe<ie/K;pe++){fe=P(Z,j),oe=P(Z,j),ce.lines=fe+K>ie?ie-fe:K,ce.offset=j,ce.size=oe,se=q(ce),j.value+=oe;for(var he=0;he<K;he++){var we=he+pe*K;if(we>=ie)break;for(var ye=0;ye<H.channels.length;ye++)for(var de=ue[H.channels[ye].name],ge=0;ge<te;ge++){var me=he*(H.channels.length*te)+ye*te+ge;ve.value=me*Q;var Se=$(se,ve);le[4*te*(ie-1-we)+4*ge+de]=Se}}}return{header:H,width:te,height:ie,data:le,format:t.RGBAFormat,type:this.type}},setDataType:function(e){return this.type=e,this},load:function(e,r,n,i){return a.a.prototype.load.call(this,e,(function(e,n){switch(e.type){case t.FloatType:case t.HalfFloatType:e.encoding=t.LinearEncoding,e.minFilter=t.LinearFilter,e.magFilter=t.LinearFilter,e.generateMipmaps=!1,e.flipY=!1}r&&r(e,n)}),n,i)}})}}]);
//# sourceMappingURL=modules_three-polygonjs-engine-EXRLoader.js.js.map