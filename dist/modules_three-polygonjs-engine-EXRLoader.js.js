(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{670:function(e,r,a){"use strict";a.r(r),a.d(r,"EXRLoader",(function(){return o}));var n=a(108),t=a(0),i=a(168),o=function(e){n.a.call(this,e),this.type=t.FloatType};o.prototype=Object.assign(Object.create(n.a.prototype),{constructor:o,parse:function(e){const r=Math.pow(2.7182818,2.2);const a={l:0,c:0,lc:0};function n(e,r,n,t,i){for(;n<e;)r=r<<8|N(t,i),n+=8;n-=e,a.l=r>>n&(1<<e)-1,a.c=r,a.lc=n}const o=new Array(59);function l(e,r,t,i,l,f,s){for(var u=t,c=0,v=0;l<=f;l++){if(u.value-t.value>i)return!1;n(6,c,v,e,u);var h=a.l;if(c=a.c,v=a.lc,s[l]=h,63==h){if(u.value-t.value>i)throw"Something wrong with hufUnpackEncTable";n(8,c,v,e,u);var p=a.l+6;if(c=a.c,v=a.lc,l+p>f+1)throw"Something wrong with hufUnpackEncTable";for(;p--;)s[l++]=0;l--}else if(h>=59){if(l+(p=h-59+2)>f+1)throw"Something wrong with hufUnpackEncTable";for(;p--;)s[l++]=0;l--}}!function(e){for(var r=0;r<=58;++r)o[r]=0;for(r=0;r<65537;++r)o[e[r]]+=1;var a=0;for(r=58;r>0;--r){var n=a+o[r]>>1;o[r]=a,a=n}for(r=0;r<65537;++r){var t=e[r];t>0&&(e[r]=t|o[t]++<<6)}}(s)}function f(e){return 63&e}function s(e){return e>>6}const u={c:0,lc:0};function c(e,r,a,n){e=e<<8|N(a,n),r+=8,u.c=e,u.lc=r}const v={c:0,lc:0};function h(e,r,a,n,t,i,o,l,f,s){if(e==r){n<8&&(c(a,n,t,o),a=u.c,n=u.lc);var h=a>>(n-=8);h=new Uint8Array([h])[0];if(f.value+h>s)return!1;for(var p=l[f.value-1];h-- >0;)l[f.value++]=p}else{if(!(f.value<s))return!1;l[f.value++]=e}v.c=a,v.lc=n}function p(e){var r=function(e){return 65535&e}(e);return r>32767?r-65536:r}const w={a:0,b:0};function y(e,r){var a=p(e),n=p(r),t=a+(1&n)+(n>>1),i=t,o=t-n;w.a=i,w.b=o}function d(e,r,a,n,t,i){for(var o,l=a>t?t:a,f=1;f<=l;)f<<=1;for(o=f>>=1,f>>=1;f>=1;){for(var s,u,c,v,h=0,p=h+i*(t-o),d=i*f,g=i*o,m=n*f,S=n*o;h<=p;h+=g){for(var A=h,b=h+n*(a-o);A<=b;A+=S){var U=A+m,M=(E=A+d)+m;y(e[A+r],e[E+r]),s=w.a,c=w.b,y(e[U+r],e[M+r]),u=w.a,v=w.b,y(s,u),e[A+r]=w.a,e[U+r]=w.b,y(c,v),e[E+r]=w.a,e[M+r]=w.b}if(a&f){var E=A+d;y(e[A+r],e[E+r]),s=w.a,e[E+r]=w.b,e[A+r]=s}}if(t&f)for(A=h,b=h+n*(a-o);A<=b;A+=S){U=A+m;y(e[A+r],e[U+r]),s=w.a,e[U+r]=w.b,e[A+r]=s}o=f,f>>=1}return h}function g(e,r,a,n,t,i){var o=a.value,p=P(r,a),w=P(r,a);a.value+=4;var y=P(r,a);if(a.value+=4,p<0||p>=65537||w<0||w>=65537)throw"Something wrong with HUF_ENCSIZE";var d=new Array(65537),g=new Array(16384);if(function(e){for(var r=0;r<16384;r++)e[r]={},e[r].len=0,e[r].lit=0,e[r].p=null}(g),l(e,0,a,n-(a.value-o),p,w,d),y>8*(n-(a.value-o)))throw"Something wrong with hufUncompress";!function(e,r,a,n){for(;r<=a;r++){var t=s(e[r]),i=f(e[r]);if(t>>i)throw"Invalid table entry";if(i>14){if((c=n[t>>i-14]).len)throw"Invalid table entry";if(c.lit++,c.p){var o=c.p;c.p=new Array(c.lit);for(var l=0;l<c.lit-1;++l)c.p[l]=o[l]}else c.p=new Array(1);c.p[c.lit-1]=r}else if(i){var u=0;for(l=1<<14-i;l>0;l--){var c;if((c=n[(t<<14-i)+u]).len||c.p)throw"Invalid table entry";c.len=i,c.lit=r,u++}}}}(d,p,w,g),function(e,r,a,n,t,i,o,l,p,w){for(var y=0,d=0,g=l,m=Math.trunc(t.value+(i+7)/8);t.value<m;)for(c(y,d,a,t),y=u.c,d=u.lc;d>=14;){if((U=r[y>>d-14&16383]).len)d-=U.len,h(U.lit,o,y,d,a,0,t,p,w,g),y=v.c,d=v.lc;else{if(!U.p)throw"hufDecode issues";var S;for(S=0;S<U.lit;S++){for(var A=f(e[U.p[S]]);d<A&&t.value<m;)c(y,d,a,t),y=u.c,d=u.lc;if(d>=A&&s(e[U.p[S]])==(y>>d-A&(1<<A)-1)){d-=A,h(U.p[S],o,y,d,a,0,t,p,w,g),y=v.c,d=v.lc;break}}if(S==U.lit)throw"hufDecode issues"}}var b=8-i&7;for(y>>=b,d-=b;d>0;){var U;if(!(U=r[y<<14-d&16383]).len)throw"hufDecode issues";d-=U.len,h(U.lit,o,y,d,a,0,t,p,w,g),y=v.c,d=v.lc}}(d,g,e,0,a,y,w,i,t,{value:0})}function m(e){for(var r=1;r<e.length;r++){var a=e[r-1]+e[r]-128;e[r]=a}}function S(e,r){for(var a=0,n=Math.floor((e.length+1)/2),t=0,i=e.length-1;!(t>i||(r[t++]=e[a++],t>i));)r[t++]=e[n++]}function A(e){for(var r=e.byteLength,a=new Array,n=0,t=new DataView(e);r>0;){var i=t.getInt8(n++);if(i<0){r-=(l=-i)+1;for(var o=0;o<l;o++)a.push(t.getUint8(n++))}else{var l=i;r-=2;var f=t.getUint8(n++);for(o=0;o<l+1;o++)a.push(f)}}return a}function b(e,r,a){for(var n,t=1;t<64;)65280==(n=r[e.value])?t=64:n>>8==255?t+=255&n:(a[t]=n,t++),e.value++}function U(e,r){r[0]=_(e[0]),r[1]=_(e[1]),r[2]=_(e[5]),r[3]=_(e[6]),r[4]=_(e[14]),r[5]=_(e[15]),r[6]=_(e[27]),r[7]=_(e[28]),r[8]=_(e[2]),r[9]=_(e[4]),r[10]=_(e[7]),r[11]=_(e[13]),r[12]=_(e[16]),r[13]=_(e[26]),r[14]=_(e[29]),r[15]=_(e[42]),r[16]=_(e[3]),r[17]=_(e[8]),r[18]=_(e[12]),r[19]=_(e[17]),r[20]=_(e[25]),r[21]=_(e[30]),r[22]=_(e[41]),r[23]=_(e[43]),r[24]=_(e[9]),r[25]=_(e[11]),r[26]=_(e[18]),r[27]=_(e[24]),r[28]=_(e[31]),r[29]=_(e[40]),r[30]=_(e[44]),r[31]=_(e[53]),r[32]=_(e[10]),r[33]=_(e[19]),r[34]=_(e[23]),r[35]=_(e[32]),r[36]=_(e[39]),r[37]=_(e[45]),r[38]=_(e[52]),r[39]=_(e[54]),r[40]=_(e[20]),r[41]=_(e[22]),r[42]=_(e[33]),r[43]=_(e[38]),r[44]=_(e[46]),r[45]=_(e[51]),r[46]=_(e[55]),r[47]=_(e[60]),r[48]=_(e[21]),r[49]=_(e[34]),r[50]=_(e[37]),r[51]=_(e[47]),r[52]=_(e[50]),r[53]=_(e[56]),r[54]=_(e[59]),r[55]=_(e[61]),r[56]=_(e[35]),r[57]=_(e[36]),r[58]=_(e[48]),r[59]=_(e[49]),r[60]=_(e[57]),r[61]=_(e[58]),r[62]=_(e[62]),r[63]=_(e[63])}function M(e){const r=.5*Math.cos(.7853975),a=.5*Math.cos(.196349375),n=.5*Math.cos(.39269875),t=.5*Math.cos(3*3.14159/16),i=.5*Math.cos(.981746875),o=.5*Math.cos(3*3.14159/8),l=.5*Math.cos(1.374445625);for(var f=new Array(4),s=new Array(4),u=new Array(4),c=new Array(4),v=0;v<8;++v){var h=8*v;f[0]=n*e[h+2],f[1]=o*e[h+2],f[2]=n*e[h+6],f[3]=o*e[h+6],s[0]=a*e[h+1]+t*e[h+3]+i*e[h+5]+l*e[h+7],s[1]=t*e[h+1]-l*e[h+3]-a*e[h+5]-i*e[h+7],s[2]=i*e[h+1]-a*e[h+3]+l*e[h+5]+t*e[h+7],s[3]=l*e[h+1]-i*e[h+3]+t*e[h+5]-a*e[h+7],u[0]=r*(e[h+0]+e[h+4]),u[3]=r*(e[h+0]-e[h+4]),u[1]=f[0]+f[3],u[2]=f[1]-f[2],c[0]=u[0]+u[1],c[1]=u[3]+u[2],c[2]=u[3]-u[2],c[3]=u[0]-u[1],e[h+0]=c[0]+s[0],e[h+1]=c[1]+s[1],e[h+2]=c[2]+s[2],e[h+3]=c[3]+s[3],e[h+4]=c[3]-s[3],e[h+5]=c[2]-s[2],e[h+6]=c[1]-s[1],e[h+7]=c[0]-s[0]}for(var p=0;p<8;++p)f[0]=n*e[16+p],f[1]=o*e[16+p],f[2]=n*e[48+p],f[3]=o*e[48+p],s[0]=a*e[8+p]+t*e[24+p]+i*e[40+p]+l*e[56+p],s[1]=t*e[8+p]-l*e[24+p]-a*e[40+p]-i*e[56+p],s[2]=i*e[8+p]-a*e[24+p]+l*e[40+p]+t*e[56+p],s[3]=l*e[8+p]-i*e[24+p]+t*e[40+p]-a*e[56+p],u[0]=r*(e[p]+e[32+p]),u[3]=r*(e[p]-e[32+p]),u[1]=f[0]+f[3],u[2]=f[1]-f[2],c[0]=u[0]+u[1],c[1]=u[3]+u[2],c[2]=u[3]-u[2],c[3]=u[0]-u[1],e[0+p]=c[0]+s[0],e[8+p]=c[1]+s[1],e[16+p]=c[2]+s[2],e[24+p]=c[3]+s[3],e[32+p]=c[3]-s[3],e[40+p]=c[2]-s[2],e[48+p]=c[1]-s[1],e[56+p]=c[0]-s[0]}function E(e){for(var r=0;r<64;++r){var a=e[0][r],n=e[1][r],t=e[2][r];e[0][r]=a+1.5747*t,e[1][r]=a-.1873*n-.4682*t,e[2][r]=a+1.8556*n}}function I(e,r,a){for(var n=0;n<64;++n)r[a+n]=X(O(e[n]))}function O(e){return e<=1?Math.sign(e)*Math.pow(Math.abs(e),2.2):Math.sign(e)*Math.pow(r,Math.abs(e)-1)}function C(e){var r=e.array.slice(e.offset.value,e.offset.value+e.size);void 0===i.a&&console.error("THREE.EXRLoader: External library Inflate.min.js required, obtain or import from https://github.com/imaya/zlib.js");var a=new i.a.Inflate(r,{resize:!0,verify:!0}),n=new Uint8Array(a.decompress().buffer),t=new Uint8Array(n.length);return m(n),S(n,t),new DataView(t.buffer)}function R(e){var r=e.viewer,a={value:e.offset.value},n=new Uint8Array(e.width*e.lines*(H.channels.length*e.type*2)),t={version:k(r,a),unknownUncompressedSize:k(r,a),unknownCompressedSize:k(r,a),acCompressedSize:k(r,a),dcCompressedSize:k(r,a),rleCompressedSize:k(r,a),rleUncompressedSize:k(r,a),rleRawSize:k(r,a),totalAcUncompressedCount:k(r,a),totalDcUncompressedCount:k(r,a),acCompression:k(r,a)};if(t.version<2)throw"EXRLoader.parse: "+H.compression+" version "+t.version+" is unsupported";for(var o=new Array,l=V(r,a)-2;l>0;){var f=x(r.buffer,a),s=T(r,a),u=s>>2&3,c=new Int8Array([(s>>4)-1])[0],v=T(r,a);o.push({name:f,index:c,type:v,compression:u}),l-=f.length+3}for(var h=H.channels,p=new Array(e.channels),w=0;w<e.channels;++w){var y=p[w]={},d=h[w];y.name=d.name,y.compression=0,y.decoded=!1,y.type=d.pixelType,y.pLinear=d.pLinear,y.width=e.width,y.height=e.lines}for(var m={idx:new Array(3)},S=0;S<e.channels;++S)for(y=p[S],w=0;w<o.length;++w){var O=o[w];y.name==O.name&&(y.compression=O.compression,O.index>=0&&(m.idx[O.index]=S),y.offset=S)}if(t.acCompressedSize>0)switch(t.acCompression){case 0:var R=new Uint16Array(t.totalAcUncompressedCount);g(e.array,r,a,t.acCompressedSize,R,t.totalAcUncompressedCount);break;case 1:var z=e.array.slice(a.value,a.value+t.totalAcUncompressedCount),P=new i.a.Inflate(z,{resize:!0,verify:!0});R=new Uint16Array(P.decompress().buffer);a.value+=t.totalAcUncompressedCount}if(t.dcCompressedSize>0){var N={array:e.array,offset:a,size:t.dcCompressedSize},F=new Uint16Array(C(N).buffer);a.value+=t.dcCompressedSize}if(t.rleRawSize>0){z=e.array.slice(a.value,a.value+t.rleCompressedSize);var D=A((P=new i.a.Inflate(z,{resize:!0,verify:!0})).decompress().buffer);a.value+=t.rleCompressedSize}var L=0,X=new Array(p.length);for(w=0;w<X.length;++w)X[w]=new Array;for(var W=0;W<e.lines;++W)for(var Z=0;Z<p.length;++Z)X[Z].push(L),L+=p[Z].width*e.type*2;!function(e,r,a,n,t,i){var o=new DataView(i.buffer),l=a[e.idx[0]].width,f=a[e.idx[0]].height,s=Math.floor(l/8),u=Math.ceil(l/8),c=Math.ceil(f/8),v=l-8*(u-1),h=f-8*(c-1),p={value:0},w=new Array(3),y=new Array(3),d=new Array(3),g=new Array(3),m=new Array(3);for(let a=0;a<3;++a)m[a]=r[e.idx[a]],w[a]=a<1?0:w[a-1]+u*c,y[a]=new Float32Array(64),d[a]=new Uint16Array(64),g[a]=new Uint16Array(64*u);for(let r=0;r<c;++r){var S=8;r==c-1&&(S=h);var A=8;for(let e=0;e<u;++e){e==u-1&&(A=v);for(let e=0;e<3;++e)d[e].fill(0),d[e][0]=t[w[e]++],b(p,n,d[e]),U(d[e],y[e]),M(y[e]);E(y);for(let r=0;r<3;++r)I(y[r],g[r],64*e)}let i=0;for(let n=0;n<3;++n){let t=a[e.idx[n]].type;for(let e=8*r;e<8*r+S;++e){i=m[n][e];for(let r=0;r<s;++r){let a=64*r+8*(7&e);o.setUint16(i+0*t,g[n][a+0],!0),o.setUint16(i+2*t,g[n][a+1],!0),o.setUint16(i+4*t,g[n][a+2],!0),o.setUint16(i+6*t,g[n][a+3],!0),o.setUint16(i+8*t,g[n][a+4],!0),o.setUint16(i+10*t,g[n][a+5],!0),o.setUint16(i+12*t,g[n][a+6],!0),o.setUint16(i+14*t,g[n][a+7],!0),i+=16*t}}if(s!=u)for(let e=8*r;e<8*r+S;++e){let r=m[n][e]+8*s*2*t,a=64*s+8*(7&e);for(let e=0;e<A;++e)o.setUint16(r+2*e*t,g[n][a+e],!0)}}}for(var O=new Uint16Array(l),C=(o=new DataView(i.buffer),0);C<3;++C){a[e.idx[C]].decoded=!0;var R=a[e.idx[C]].type;if(2==a[C].type)for(var x=0;x<f;++x){let e=m[C][x];for(var z=0;z<l;++z)O[z]=o.getUint16(e+2*z*R,!0);for(z=0;z<l;++z)o.setFloat32(e+2*z*R,_(O[z]),!0)}}}(m,X,p,R,F,n);for(w=0;w<p.length;++w){if(!(y=p[w]).decoded)switch(y.compression){case 2:var B=0,Y=0;for(W=0;W<e.lines;++W){for(var j=X[w][B],G=0;G<y.width;++G){for(var J=0;J<2*y.type;++J)n[j++]=D[Y+J*y.width*y.height];Y++}B++}break;case 1:default:throw"EXRLoader.parse: unsupported channel compression"}}return new DataView(n.buffer)}function x(e,r){for(var a=new Uint8Array(e),n=0;0!=a[r.value+n];)n+=1;var t=(new TextDecoder).decode(a.slice(r.value,r.value+n));return r.value=r.value+n+1,t}function z(e,r){var a=e.getUint32(0,!0);return r.value=r.value+8,a}function P(e,r){var a=e.getUint32(r.value,!0);return r.value=r.value+4,a}function N(e,r){var a=e[r.value];return r.value=r.value+1,a}function T(e,r){var a=e.getUint8(r.value);return r.value=r.value+1,a}function k(e,r){var a=Number(e.getBigInt64(r.value,!0));return r.value+=8,a}function F(e,r){var a=e.getFloat32(r.value,!0);return r.value+=4,a}function _(e){var r=(31744&e)>>10,a=1023&e;return(e>>15?-1:1)*(r?31===r?a?NaN:1/0:Math.pow(2,r-15)*(1+a/1024):a/1024*6103515625e-14)}var D,L,X=(D=new Float32Array(1),L=new Int32Array(D.buffer),function(e){D[0]=e;var r=L[0],a=r>>16&32768,n=r>>12&2047,t=r>>23&255;return t<103?a:t>142?(a|=31744,a|=(255==t?0:1)&&8388607&r):t<113?a|=((n|=2048)>>114-t)+(n>>113-t&1):(a|=t-112<<10|n>>1,a+=1&n)});function V(e,r){var a=e.getUint16(r.value,!0);return r.value+=2,a}function W(e,r,a,n,t){if("string"===n||"stringvector"===n||"iccProfile"===n)return function(e,r,a){var n=(new TextDecoder).decode(new Uint8Array(e).slice(r.value,r.value+a));return r.value=r.value+a,n}(r,a,t);if("chlist"===n)return function(e,r,a,n){for(var t=a.value,i=[];a.value<t+n-1;){var o=x(r,a),l=P(e,a),f=T(e,a);a.value+=3;var s=P(e,a),u=P(e,a);i.push({name:o,pixelType:l,pLinear:f,xSampling:s,ySampling:u})}return a.value+=1,i}(e,r,a,t);if("chromaticities"===n)return function(e,r){return{redX:F(e,r),redY:F(e,r),greenX:F(e,r),greenY:F(e,r),blueX:F(e,r),blueY:F(e,r),whiteX:F(e,r),whiteY:F(e,r)}}(e,a);if("compression"===n)return function(e,r){return["NO_COMPRESSION","RLE_COMPRESSION","ZIPS_COMPRESSION","ZIP_COMPRESSION","PIZ_COMPRESSION","PXR24_COMPRESSION","B44_COMPRESSION","B44A_COMPRESSION","DWAA_COMPRESSION","DWAB_COMPRESSION"][T(e,r)]}(e,a);if("box2i"===n)return function(e,r){return{xMin:P(e,r),yMin:P(e,r),xMax:P(e,r),yMax:P(e,r)}}(e,a);if("lineOrder"===n)return function(e,r){return["INCREASING_Y"][T(e,r)]}(e,a);if("float"===n)return F(e,a);if("v2f"===n)return function(e,r){return[F(e,r),F(e,r)]}(e,a);if("int"===n)return P(e,a);throw"Cannot parse value for unsupported type: "+n}var Z=new DataView(e),B=new Uint8Array(e),H={};Z.getUint32(0,!0),Z.getUint8(4,!0),Z.getUint8(5,!0);for(var Y={value:8},j=!0;j;){var G=x(e,Y);if(0==G)j=!1;else{var J=W(Z,e,Y,x(e,Y),P(Z,Y));H[G]=J}}var q,K,Q,$,ee=H.dataWindow.yMax+1;switch(H.compression){case"NO_COMPRESSION":K=1,q=function(e){return new DataView(e.array.buffer,e.offset.value,e.size)};break;case"RLE_COMPRESSION":K=1,q=function(e){var r=e.viewer.buffer.slice(e.offset.value,e.offset.value+e.size),a=new Uint8Array(A(r)),n=new Uint8Array(a.length);return m(a),S(a,n),new DataView(n.buffer)};break;case"ZIPS_COMPRESSION":K=1,q=C;break;case"ZIP_COMPRESSION":K=16,q=C;break;case"PIZ_COMPRESSION":K=32,q=function(e){for(var r=e.viewer,a={value:e.offset.value},n=e.width*K*(H.channels.length*e.type),t=new Uint16Array(n),i=new Uint8Array(8192),o=0,l=new Array(e.channels),f=0;f<e.channels;f++)l[f]={},l[f].start=o,l[f].end=l[f].start,l[f].nx=e.width,l[f].ny=e.lines,l[f].size=e.type,o+=l[f].nx*l[f].ny*l[f].size;var s=V(r,a),u=V(r,a);if(u>=8192)throw"Something is wrong with PIZ_COMPRESSION BITMAP_SIZE";if(s<=u)for(f=0;f<u-s+1;f++)i[f+s]=T(r,a);var c=new Uint16Array(65536);!function(e,r){for(var a=0,n=0;n<65536;++n)(0==n||e[n>>3]&1<<(7&n))&&(r[a++]=n);for(var t=a-1;a<65536;)r[a++]=0}(i,c);var v=P(r,a);for(g(e.array,r,a,v,t,o),f=0;f<e.channels;++f)for(var h=l[f],p=0;p<l[f].size;++p)d(t,h.start+p,h.nx,h.size,h.ny,h.nx*h.size);!function(e,r,a){for(var n=0;n<a;++n)r[n]=e[r[n]]}(c,t,o);for(var w=0,y=new Uint8Array(t.buffer.byteLength),m=0;m<e.lines;m++)for(var S=0;S<e.channels;S++){var A=(h=l[S]).nx*h.size,b=new Uint8Array(t.buffer,2*h.end,2*A);y.set(b,w),w+=2*A,h.end+=A}return new DataView(y.buffer)};break;case"DWAA_COMPRESSION":K=32,q=R;break;case"DWAB_COMPRESSION":K=256,q=R;break;default:throw"EXRLoader.parse: "+H.compression+" is unsupported"}var re=H.channels[0].pixelType;if(1===re)switch(this.type){case t.FloatType:$=function(e,r){return _(V(e,r))},Q=2;break;case t.HalfFloatType:$=V,Q=2}else{if(2!==re)throw"EXRLoader.parse: unsupported pixelType "+re+" for "+H.compression+".";switch(this.type){case t.FloatType:$=F,Q=4;break;case t.HalfFloatType:throw"EXRLoader.parse: unsupported HalfFloatType texture for FloatType image file."}}for(var ae=ee/K,ne=0;ne<ae;ne++)z(Z,Y);var te=H.dataWindow.xMax-H.dataWindow.xMin+1,ie=H.dataWindow.yMax-H.dataWindow.yMin+1,oe=te*ie*4;switch(this.type){case t.FloatType:var le=new Float32Array(oe);H.channels.length<4&&le.fill(1,0,oe);break;case t.HalfFloatType:le=new Uint16Array(oe);H.channels.length<4&&le.fill(15360,0,oe);break;default:console.error("THREE.EXRLoader: unsupported type: ",this.type)}for(var fe,se,ue={R:0,G:1,B:2,A:3},ce={size:0,width:te,lines:K,offset:Y,array:B,viewer:Z,type:re,channels:H.channels.length},ve={value:0},he=0;he<ie/K;he++){fe=P(Z,Y),oe=P(Z,Y),ce.lines=fe+K>ie?ie-fe:K,ce.offset=Y,ce.size=oe,se=q(ce),Y.value+=oe;for(var pe=0;pe<K;pe++){var we=pe+he*K;if(we>=ie)break;for(var ye=0;ye<H.channels.length;ye++)for(var de=ue[H.channels[ye].name],ge=0;ge<te;ge++){var me=pe*(H.channels.length*te)+ye*te+ge;ve.value=me*Q;var Se=$(se,ve);le[4*te*(ie-1-we)+4*ge+de]=Se}}}return{header:H,width:te,height:ie,data:le,format:t.RGBAFormat,type:this.type}},setDataType:function(e){return this.type=e,this},load:function(e,r,a,i){return n.a.prototype.load.call(this,e,(function(e,a){switch(e.type){case t.FloatType:case t.HalfFloatType:e.encoding=t.LinearEncoding,e.minFilter=t.LinearFilter,e.magFilter=t.LinearFilter,e.generateMipmaps=!1,e.flipY=!1}r&&r(e,a)}),a,i)}})}}]);
//# sourceMappingURL=modules_three-polygonjs-engine-EXRLoader.js.js.map