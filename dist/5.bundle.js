(window.webpackJsonpPOLY=window.webpackJsonpPOLY||[]).push([[5],{501:function(r,e,t){"use strict";t.d(e,"a",(function(){return s}));var a=t(0),n=t(70),i=t(40),o=t(25);function s(r){o.a.call(this,r)}s.prototype=Object.assign(Object.create(o.a.prototype),{constructor:s,load:function(r,e,t,o){var s=this,p=new i.a,c=new n.a(this.manager);return c.setResponseType("arraybuffer"),c.setPath(this.path),c.load(r,(function(r){var t=s.parse(r);t&&(void 0!==t.image?p.image=t.image:void 0!==t.data&&(p.image.width=t.width,p.image.height=t.height,p.image.data=t.data),p.wrapS=void 0!==t.wrapS?t.wrapS:a.n,p.wrapT=void 0!==t.wrapT?t.wrapT:a.n,p.magFilter=void 0!==t.magFilter?t.magFilter:a.T,p.minFilter=void 0!==t.minFilter?t.minFilter:a.T,p.anisotropy=void 0!==t.anisotropy?t.anisotropy:1,void 0!==t.format&&(p.format=t.format),void 0!==t.type&&(p.type=t.type),void 0!==t.mipmaps&&(p.mipmaps=t.mipmaps,p.minFilter=a.W),1===t.mipmapCount&&(p.minFilter=a.T),p.needsUpdate=!0,e&&e(p,t))}),t,o),p}})},508:function(r,e,t){"use strict";t.r(e),t.d(e,"RGBELoader",(function(){return i}));var a=t(501),n=t(0),i=function(r){a.a.call(this,r),this.type=n.Zc};i.prototype=Object.assign(Object.create(a.a.prototype),{constructor:i,parse:function(r){var e=function(r,e){switch(r){case 1:console.error("RGBELoader Read Error: "+(e||""));break;case 2:console.error("RGBELoader Write Error: "+(e||""));break;case 3:console.error("RGBELoader Bad File Format: "+(e||""));break;default:case 4:console.error("RGBELoader: Error: "+(e||""))}return-1},t=function(r,e,t){e=e||1024;for(var a=r.pos,n=-1,i=0,o="",s=String.fromCharCode.apply(null,new Uint16Array(r.subarray(a,a+128)));0>(n=s.indexOf("\n"))&&i<e&&a<r.byteLength;)o+=s,i+=s.length,a+=128,s+=String.fromCharCode.apply(null,new Uint16Array(r.subarray(a,a+128)));return-1<n&&(!1!==t&&(r.pos+=i+n+1),o+s.slice(0,n))},a=function(){var r=new Float32Array(1),e=new Int32Array(r.buffer);function t(t){r[0]=t;var a=e[0],n=a>>16&32768,i=a>>12&2047,o=a>>23&255;return o<103?n:o>142?(n|=31744,n|=(255==o?0:1)&&8388607&a):o<113?n|=((i|=2048)>>114-o)+(i>>113-o&1):(n|=o-112<<10|i>>1,n+=1&i)}return function(r,e,a,n){var i=r[e+3],o=Math.pow(2,i-128)/255;a[n+0]=t(r[e+0]*o),a[n+1]=t(r[e+1]*o),a[n+2]=t(r[e+2]*o)}}(),i=new Uint8Array(r);i.pos=0;var o,s,p,c,d,l,u=function(r){var a,n,i=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,o=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,s=/^\s*FORMAT=(\S+)\s*$/,p=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,c={valid:0,string:"",comments:"",programtype:"RGBE",format:"",gamma:1,exposure:1,width:0,height:0};if(r.pos>=r.byteLength||!(a=t(r)))return e(1,"no header found");if(!(n=a.match(/^#\?(\S+)$/)))return e(3,"bad initial token");for(c.valid|=1,c.programtype=n[1],c.string+=a+"\n";!1!==(a=t(r));)if(c.string+=a+"\n","#"!==a.charAt(0)){if((n=a.match(i))&&(c.gamma=parseFloat(n[1],10)),(n=a.match(o))&&(c.exposure=parseFloat(n[1],10)),(n=a.match(s))&&(c.valid|=2,c.format=n[1]),(n=a.match(p))&&(c.valid|=4,c.height=parseInt(n[1],10),c.width=parseInt(n[2],10)),2&c.valid&&4&c.valid)break}else c.comments+=a+"\n";return 2&c.valid?4&c.valid?c:e(3,"missing image size specifier"):e(3,"missing format specifier")}(i);if(-1!==u){var f=u.width,m=u.height,h=function(r,t,a){var n,i,o,s,p,c,d,l,u,f,m,h,g,y=t,w=a;if(y<8||y>32767||2!==r[0]||2!==r[1]||128&r[2])return new Uint8Array(r);if(y!==(r[2]<<8|r[3]))return e(3,"wrong scanline width");if(!(n=new Uint8Array(4*t*a)).length)return e(4,"unable to allocate buffer space");for(i=0,o=0,l=4*y,g=new Uint8Array(4),c=new Uint8Array(l);w>0&&o<r.byteLength;){if(o+4>r.byteLength)return e(1);if(g[0]=r[o++],g[1]=r[o++],g[2]=r[o++],g[3]=r[o++],2!=g[0]||2!=g[1]||(g[2]<<8|g[3])!=y)return e(3,"bad rgbe scanline format");for(d=0;d<l&&o<r.byteLength;){if((h=(s=r[o++])>128)&&(s-=128),0===s||d+s>l)return e(3,"bad scanline data");if(h)for(p=r[o++],u=0;u<s;u++)c[d++]=p;else c.set(r.subarray(o,o+s),d),d+=s,o+=s}for(f=y,u=0;u<f;u++)m=0,n[i]=c[u+m],m+=y,n[i+1]=c[u+m],m+=y,n[i+2]=c[u+m],m+=y,n[i+3]=c[u+m],i+=4;w--}return n}(i.subarray(i.pos),f,m);if(-1!==h){switch(this.type){case n.Zc:var g=h,y=n.fc,w=n.Zc;break;case n.F:for(var v=h.length/4*3,b=new Float32Array(v),F=0;F<v;F++)p=b,c=3*F,d=void 0,l=void 0,d=(o=h)[(s=4*F)+3],l=Math.pow(2,d-128)/255,p[c+0]=o[s+0]*l,p[c+1]=o[s+1]*l,p[c+2]=o[s+2]*l;g=b,y=n.gc,w=n.F;break;case n.K:v=h.length/4*3;var A=new Uint16Array(v);for(F=0;F<v;F++)a(h,4*F,A,3*F);g=A,y=n.gc,w=n.K;break;default:console.error("THREE.RGBELoader: unsupported type: ",this.type)}return{width:f,height:m,data:g,header:u.string,gamma:u.gamma,exposure:u.exposure,format:y,type:w}}}return null},setDataType:function(r){return this.type=r,this},load:function(r,e,t,i){return a.a.prototype.load.call(this,r,(function(r,t){switch(r.type){case n.Zc:r.encoding=n.ec,r.minFilter=n.mb,r.magFilter=n.mb,r.generateMipmaps=!1,r.flipY=!0;break;case n.F:case n.K:r.encoding=n.S,r.minFilter=n.T,r.magFilter=n.T,r.generateMipmaps=!1,r.flipY=!0}e&&e(r,t)}),t,i)}})}}]);
//# sourceMappingURL=5.bundle.js.map